!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).GoEasy=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var n={},r={};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,u=Object.create(o.prototype),s=new P(r||[]);return i(u,"_invoke",{value:_(e,n,s)}),u}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var d="suspendedStart",h="suspendedYield",y="executing",v="completed",m={};function b(){}function g(){}function k(){}var D={};f(D,s,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(F([])));w&&w!==n&&r.call(w,s)&&(D=w);var x=k.prototype=b.prototype=Object.create(D);function S(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,u,s){var a=l(e[i],e,o);if("throw"!==a.type){var c=a.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){c.value=e,u(c)}),(function(e){return n("throw",e,u,s)}))}s(a.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function _(t,n,r){var i=d;return function(o,u){if(i===y)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw u;return{value:e,done:!0}}for(r.method=o,r.arg=u;;){var s=r.delegate;if(s){var a=O(s,r);if(a){if(a===m)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=y;var c=l(t,n,r);if("normal"===c.type){if(i=r.done?v:h,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function O(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=l(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var u=o.arg;return u?u.done?(n[t.resultName]=u.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=k,i(x,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:g,configurable:!0}),g.displayName=f(k,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(C.prototype),f(C.prototype,a,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var u=new C(p(e,n,r,i),o);return t.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},S(x),f(x,c,"Generator"),f(x,s,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],s=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var a=r.call(u,"catchLoc"),c=r.call(u,"finallyLoc");if(a&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t,n,r,i,o,u){try{var s=e[o](u),a=s.value}catch(e){return void n(e)}s.done?t(a):Promise.resolve(a).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){c(o,r,i,u,s,"next",e)}function s(e){c(o,r,i,u,s,"throw",e)}u(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e,t,n){return b=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},b.apply(null,arguments)}function g(e){var t="function"==typeof Map?new Map:void 0;return g=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},g(e)}function k(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,u,s=[],a=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw i}}return s}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}var C={},_=function(e,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_(e,t)};function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)};function A(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function P(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u}function F(e,t){return function(n,r){t(n,r,e)}}function I(e,t){if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function T(e,t,n,r){return new(n||(n=Promise))((function(i,o){function u(e){try{a(r.next(e))}catch(e){o(e)}}function s(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,s)}a((r=r.apply(e,t||[])).next())}))}function M(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(u=0)),u;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,r=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){u=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){u.label=s[1];break}if(6===s[0]&&u.label<i[1]){u.label=i[1],i=s;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(s);break}i[2]&&u.ops.pop(),u.trys.pop();continue}s=t.call(e,u)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var R=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function j(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||R(t,e,n)}function B(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function G(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q(arguments[t]));return e}function U(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r}function L(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function z(e){return this instanceof z?(this.v=e,this):new z(e)}function W(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof z?Promise.resolve(e.value.v).then(a,c):f(o[0][2],e)}(i[e](t))}catch(e){f(o[0][3],e)}}function a(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function V(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:z(e[r](t)),done:!1}:i?i(t):t}:i}}function $(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=B(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function X(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var H=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&R(t,e,n);return H(t,e),t}function Y(e){return e&&e.__esModule?e:{default:e}}function K(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Z(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function Q(e,t){if(null===t||"object"!==a(t)&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function ee(e,t,n){if(null!=t){if("object"!==a(t)&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var te="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function ne(e){function t(t){e.error=e.hasError?new te(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}var re={__extends:O,__assign:N,__rest:A,__decorate:P,__param:F,__metadata:I,__awaiter:T,__generator:M,__createBinding:R,__exportStar:j,__values:B,__read:q,__spread:G,__spreadArrays:U,__spreadArray:L,__await:z,__asyncGenerator:W,__asyncDelegator:V,__asyncValues:$,__makeTemplateObject:X,__importStar:J,__importDefault:Y,__classPrivateFieldGet:K,__classPrivateFieldSet:Z,__classPrivateFieldIn:Q,__addDisposableResource:ee,__disposeResources:ne},ie=Object.freeze({__proto__:null,__extends:O,get __assign(){return N},__rest:A,__decorate:P,__param:F,__esDecorate:function(e,t,n,r,i,o){function u(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=r.kind,f="getter"===c?"get":"setter"===c?"set":"value",p=!t&&e?r.static?e:e.prototype:null,l=t||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),d=!1,h=n.length-1;h>=0;h--){var y={};for(var v in r)y[v]="access"===v?{}:r[v];for(var v in r.access)y.access[v]=r.access[v];y.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(e||null))};var m=(0,n[h])("accessor"===c?{get:l.get,set:l.set}:l[f],y);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!==a(m))throw new TypeError("Object expected");(s=u(m.get))&&(l.get=s),(s=u(m.set))&&(l.set=s),(s=u(m.init))&&i.unshift(s)}else(s=u(m))&&("field"===c?i.unshift(s):l[f]=s)}p&&Object.defineProperty(p,r.name,l),d=!0},__runInitializers:function(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0},__propKey:function(e){return"symbol"===a(e)?e:"".concat(e)},__setFunctionName:function(e,t,n){return"symbol"===a(t)&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})},__metadata:I,__awaiter:T,__generator:M,__createBinding:R,__exportStar:j,__values:B,__read:q,__spread:G,__spreadArrays:U,__spreadArray:L,__await:z,__asyncGenerator:W,__asyncDelegator:V,__asyncValues:$,__makeTemplateObject:X,__importStar:J,__importDefault:Y,__classPrivateFieldGet:K,__classPrivateFieldSet:Z,__classPrivateFieldIn:Q,__addDisposableResource:ee,__disposeResources:ne,default:re}),oe=t(ie);Object.defineProperty(C,"__esModule",{value:!0}),C.FrameworkDetector=C.Framework=void 0;var ue,se=oe;!function(e){e.UNIAPP="uniapp",e.REACT_NATIVE="rn",e.COCOS="cocos",e.UNKNOWN="unknown"}(ue||(C.Framework=ue={}));var ae=function(){function e(){var e,t,n;this.framework=null,this.methods=((e={})[ue.UNIAPP]=this.isUniApp,e[ue.REACT_NATIVE]=this.isReactNative,e[ue.COCOS]=this.isCocos,e);var r=this.methods,i=Object.keys(r);try{for(var o=se.__values(i),u=o.next();!u.done;u=o.next()){var s=u.value;if((0,r[s])()){this.framework=s;break}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this.framework=this.framework||ue.UNKNOWN,this.framework}return e.currentFramework=function(){return this.instance||(this.instance=new e),this.instance.framework},e.prototype.isUniApp=function(){try{return"function"==typeof uni.getSystemInfoSync}catch(e){return!1}},e.prototype.isReactNative=function(){try{return"object"===("undefined"==typeof navigator?"undefined":a(navigator))&&"ReactNative"===navigator.product}catch(e){return!1}},e.prototype.isTaro=function(){try{return void 0!==process.env.TARO_ENV}catch(e){return!1}},e.prototype.isCocos=function(){try{return void 0!==cc.sys.localStorage}catch(e){return!1}},e}();C.FrameworkDetector=ae,Object.defineProperty(r,"__esModule",{value:!0}),r.RNPlugins=void 0;var ce=C,fe=function(){function e(){}return e.init=function(e){if(ce.FrameworkDetector.currentFramework()===ce.Framework.REACT_NATIVE){if(!e)throw new Error("'reactNativeOptions' is missing when calling GoEasy.getInstance()");this.platform=e.platform,this.asyncStorage=e.asyncStorage}},e}();r.RNPlugins=fe;var pe,le={};Object.defineProperty(le,"__esModule",{value:!0}),le.NetworkStatus=void 0,function(e){e.DISCONNECTED="disconnected",e.DISCONNECTING="disconnecting",e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.RECONNECTED="reconnected",e.EXPIRED_RECONNECTED="reconnected",e.CONNECT_FAILED="connect_failed"}(pe||(le.NetworkStatus=pe={}));var de={},he={};Object.defineProperty(he,"__esModule",{value:!0});var ye=function(){function e(){}return e.prototype.isDef=function(e){return!this.isUndef(e)},e.prototype.isUndef=function(e){return null==e},e.prototype.isPrimitive=function(e){return"string"==typeof e||"number"==typeof e||"symbol"===a(e)||"boolean"==typeof e},e.prototype.isObject=function(e){return null!==e&&"object"===a(e)},e.prototype.isPlainObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.prototype.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},e.prototype.isValidArrayIndex=function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)},e.prototype.isString=function(e){return"string"==typeof e},e.prototype.isNumber=function(e){return"number"==typeof e},e.prototype.isStringOrNumber=function(e){return this.isString(e)||this.isNumber(e)},e.prototype.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.prototype.isEmpty=function(e){return this.isArray(e)?0===e.length:this.isObject(e)?!this.isDef(e):!this.isNumber(e)&&(this.isString(e)?""===e.trim():!this.isDef(e))},e.prototype.isNative=function(e){return"function"==typeof e&&/native code/.test(e.toString())},e.prototype.isFunction=function(e){return"function"==typeof e},e.prototype.isBoolean=function(e){return"boolean"==typeof e},e.prototype.isTrue=function(e){return!0===e},e.prototype.isFalse=function(e){return!1===e},e.prototype.isNull=function(e){return null===e},e}(),ve=new ye;he.default=ve;var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.Platform=me.PlatformDetector=me.PlatformType=void 0;var be,ge=oe,ke=r;!function(e){e.MP_WX="mp-wx",e.MP_WGAME="mp-wgame",e.MP_BYTE="mp-byte",e.MP_BAIDU="mp-baidu",e.MP_ALI="mp-ali",e.BROWSER="browser",e.NODE="node",e.UNI_IOS="uni-ios",e.UNI_ANDROID="uni-android",e.UNI_HARMONY="uni-harmony",e.COCOS_IOS="cocos-ios",e.COCOS_ANDROID="cocos-android",e.RN_IOS="rn-ios",e.RN_ANDROID="rn-android",e.UNKNOWN="unknown"}(be||(me.PlatformType=be={}));var De=function(){function e(){var e,t,n;this.platform=null,this.methods=((e={})[be.BROWSER]=this.isBrowser,e[be.MP_WX]=this.isMPWX,e[be.MP_WGAME]=this.isMPWeGame,e[be.MP_BYTE]=this.isMPByte,e[be.MP_BAIDU]=this.isMPBaidu,e[be.MP_ALI]=this.isMPAli,e[be.NODE]=this.isNode,e[be.UNI_IOS]=this.isUniAppIOS,e[be.UNI_ANDROID]=this.isUniAppAndroid,e[be.UNI_HARMONY]=this.isUniAppHarmony,e[be.COCOS_IOS]=this.isCocosIOS,e[be.COCOS_ANDROID]=this.isCocosAndroid,e[be.RN_IOS]=this.isRNiOS,e[be.RN_ANDROID]=this.isRNAndroid,e);var r=this.methods,i=Object.keys(r);try{for(var o=ge.__values(i),u=o.next();!u.done;u=o.next()){var s=u.value;if((0,r[s])()){this.platform=s;break}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this.platform=this.platform||be.UNKNOWN,this.platform}return e.currentPlatform=function(){return this.instance||(this.instance=new e),e.instance.platform},e.prototype.isBrowser=function(){return"undefined"!=typeof navigator&&"Taro"!==navigator.product&&"ReactNative"!==navigator.product&&"undefined"==typeof GameGlobal&&("undefined"==typeof cc||null!==cc.sys.browserType)&&"undefined"==typeof my&&"undefined"==typeof tt&&"undefined"==typeof swan},e.prototype.isMPWX=function(){return"object"===("undefined"==typeof wx?"undefined":a(wx))&&"function"==typeof wx.getSystemInfoSync&&"undefined"==typeof WebSocket&&"undefined"==typeof XMLHttpRequest&&"undefined"==typeof plus&&"undefined"==typeof tt},e.prototype.isMPWeGame=function(){return"object"===("undefined"==typeof GameGlobal?"undefined":a(GameGlobal))},e.prototype.isMPByte=function(){return"object"===("undefined"==typeof tt?"undefined":a(tt))&&"function"==typeof tt.getSystemInfoSync},e.prototype.isMPBaidu=function(){return"object"===("undefined"==typeof swan?"undefined":a(swan))&&"function"==typeof swan.getSystemInfoSync},e.prototype.isMPAli=function(){return"object"===("undefined"==typeof my?"undefined":a(my))&&"function"==typeof my.getSystemInfoSync},e.prototype.isNode=function(){try{return"node"===process.release.name}catch(e){return!1}},e.prototype.isUniAppIOS=function(){try{return"ios"===uni.getSystemInfoSync().platform&&"app"===uni.getSystemInfoSync().uniPlatform}catch(e){return!1}},e.prototype.isUniAppAndroid=function(){try{return"android"===uni.getSystemInfoSync().platform&&"app"===uni.getSystemInfoSync().uniPlatform}catch(e){return!1}},e.prototype.isUniAppHarmony=function(){try{return"harmonyos"===uni.getSystemInfoSync().platform&&"app"===uni.getSystemInfoSync().uniPlatform}catch(e){return!1}},e.prototype.isCocosIOS=function(){try{return"iOS"===cc.sys.os}catch(e){return!1}},e.prototype.isCocosAndroid=function(){try{return"Android"===cc.sys.os}catch(e){return!1}},e.prototype.isRNiOS=function(){try{return"ios"===ke.RNPlugins.platform.OS}catch(e){return!1}},e.prototype.isRNAndroid=function(){try{return"android"===ke.RNPlugins.platform.OS}catch(e){return!1}},e}();me.PlatformDetector=De;var Ee=function(){function e(){}return e.type=be,e.current=De.currentPlatform(),e}();me.Platform=Ee;var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.runStatus=void 0;var xe=oe,Se=me,Ce=function(){function e(){var e=this;[new Oe,new Ne].forEach((function(t){if(t.support())return e.checker=t,void e.checker.startCheck()}))}return e.prototype.isBackend=function(){return this.checker&&this.checker.isBackend()},e.prototype.onFrontend=function(e){this.checker.onFrontend(e)},e}(),_e=function(){function e(){}return e.prototype.onFrontend=function(e){this.onFrontendCallback=e},e}(),Oe=function(e){function t(){var t=e.apply(this,xe.__spreadArray([],xe.__read(arguments),!1))||this;return t.runningBackend=!1,t}return xe.__extends(t,e),t.prototype.startCheck=function(){var e=this;"object"===("undefined"==typeof plus?"undefined":a(plus))&&(plus.globalEvent.addEventListener("resume",(function(){e.runningBackend=!1,e.runningBackend,e.onFrontendCallback&&e.onFrontendCallback()}),!1),plus.globalEvent.addEventListener("pause",(function(){e.runningBackend=!0,e.runningBackend}),!1))},t.prototype.isBackend=function(){return this.runningBackend},t.prototype.support=function(){var e=Se.PlatformDetector.currentPlatform();return[Se.PlatformType.UNI_IOS,Se.PlatformType.UNI_ANDROID].includes(e)},t}(_e),Ne=function(e){function t(){var t=e.apply(this,xe.__spreadArray([],xe.__read(arguments),!1))||this;return t.runningBackend=!1,t}return xe.__extends(t,e),t.prototype.startCheck=function(){var e=this;wx.onAppShow((function(){e.runningBackend=!1})),wx.onAppHide((function(){e.runningBackend=!0}))},t.prototype.isBackend=function(){return this.runningBackend},t.prototype.support=function(){return Se.PlatformDetector.currentPlatform()===Se.PlatformType.MP_WX},t}(_e),Ae=new Ce;we.runStatus=Ae;var Pe,Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.RocketTypes=void 0,function(e){e.authorize="authorize",e.manualDisconnect="manualDisconnect",e.subscribe="subscribe",e.unsubscribe="unsubscribe",e.publish="publish",e.ack="ack",e.historyMessages="historyMessages",e.hereNow="hereNow",e.hereNowByUserIds="hereNowByUserIds",e.PUBSUB_PRESENCE_SUBSCRIBE="PUBSUB_PRESENCE_SUBSCRIBE",e.PUBSUB_PRESENCE_UNSUBSCRIBE="PUBSUB_PRESENCE_UNSUBSCRIBE",e.PUBSUB_PRESENCE_HERENOW="PUBSUB_PRESENCE_HERENOW",e.imLastConversations="imLastConversations",e.markPrivateMessageAsRead="markPrivateMessageAsRead",e.markGroupMessageAsRead="markGroupMessageAsRead",e.imGroupOnlineCount="imGroupOnlineCount",e.imHereNow="imHereNow",e.imGroupHereNow="imGroupHereNow",e.publishIM="publishIM",e.subscribeUserPresence="subscribeUserPresence",e.unsubscribeUserPresence="unsubscribeUserPresence",e.subscribeGroupPresence="subscribeGroupPresence",e.unsubscribeGroupPresence="unsubscribeGroupPresence",e.removeConversation="removeConversation",e.topConversation="topConversation",e.imData="imData",e.subscribeGroups="subscribeGroups",e.unsubscribeGroup="unsubscribeGroup",e.IM_DELETE_MESSAGE="IM_DELETE_MESSAGE",e.IM_HISTORY="IM_HISTORY",e.IM_HISTORY_CHANGE="IM_HISTORY_CHANGE",e.IM_RECALL_MESSAGE="IM_RECALL_MESSAGE",e.IM_MARK_AS_READ="IM_MARK_AS_READ",e.CS_PENDING_CONVERSATION="CS_PENDING_CONVERSATION",e.CS_ACCEPT="CS_ACCEPT",e.CS_END="CS_END",e.CS_TRANSFER="CS_TRANSFER",e.CS_AGENTS="CS_AGENTS",e.CS_CUSTOMER_STATUS="CS_CUSTOMER_STATUS",e.CS_MY_TEAMS="CS_MY_TEAMS",e.CS_ONLINE="CS_ONLINE",e.CS_OFFLINE="CS_OFFLINE",e.CS_LIVE_SESSION="CS_LIVE_SESSION",e.CS_QUIT_LIVE="CS_QUIT_LIVE",e.SET_IOS_BADGE="SET_IOS_BADGE",e.MD_CMD="MD_CMD"}(Pe||(Fe.RocketTypes=Pe={}));var Ie,Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.SocketTimeout=void 0,function(e){e[e.connect=3e3]="connect",e[e.reconnectionDelayMax=3e3]="reconnectionDelayMax",e[e.commonQuerySingle=2500]="commonQuerySingle",e[e.commonQueryTotal=12e3]="commonQueryTotal",e[e.commonRequestSingle=1700]="commonRequestSingle",e[e.commonRequestTotal=12e3]="commonRequestTotal",e[e.commonInfiniteSingle=1700]="commonInfiniteSingle",e[e.commonInfiniteTotal=864e5]="commonInfiniteTotal"}(Ie||(Te.SocketTimeout=Ie={}));var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.CallbackUtils=void 0;var Re=he,je=function(){function e(){}return e.onSuccess=function(e,t){Re.default.isFunction(e.onSuccess)&&e.onSuccess(t)},e.onFailed=function(e,t){if(!Re.default.isObject(e)||!Re.default.isFunction(e.onFailed))throw t;e.onFailed(t)},e}();Me.CallbackUtils=je;var Be={},qe={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(qe);var Ge=qe.exports,Ue={exports:{}},Le="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Le){var ze=new Uint8Array(16);Ue.exports=function(){return Le(ze),ze}}else{var We=new Array(16);Ue.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),We[t]=e>>>((3&t)<<3)&255;return We}}for(var Ve=[],$e=0;$e<256;++$e)Ve[$e]=($e+256).toString(16).substr(1);var Xe,He,Je=function(e,t){var n=t||0,r=Ve;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},Ye=Ue.exports,Ke=Je,Ze=0,Qe=0;var et=function(e,t,n){var r=t&&n||0,i=t||[],o=(e=e||{}).node||Xe,u=void 0!==e.clockseq?e.clockseq:He;if(null==o||null==u){var s=Ye();null==o&&(o=Xe=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==u&&(u=He=16383&(s[6]<<8|s[7]))}var a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Qe+1,f=a-Ze+(c-Qe)/1e4;if(f<0&&void 0===e.clockseq&&(u=u+1&16383),(f<0||a>Ze)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ze=a,Qe=c,He=u;var p=(1e4*(268435455&(a+=122192928e5))+c)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var l=a/4294967296*1e4&268435455;i[r++]=l>>>8&255,i[r++]=255&l,i[r++]=l>>>24&15|16,i[r++]=l>>>16&255,i[r++]=u>>>8|128,i[r++]=255&u;for(var d=0;d<6;++d)i[r+d]=o[d];return t||Ke(i)},nt=Ue.exports,rt=Je;var it=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||nt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||rt(i)},ot=et,ut=it,st=ut;st.v1=ot,st.v4=ut;var at=st,ct=function(){function e(){p(this,e)}return d(e,[{key:"support",value:function(){return!0}},{key:"getParams",value:function(){return this.params}},{key:"setData",value:function(e){this.active=e.a,this.data=e.d}},{key:"preConnect",value:function(e){}},{key:"postConnect",value:function(){}}]),e}(),ft=function(){function e(){p(this,e)}return d(e,null,[{key:"initModule",value:function(e){e.support()&&this.modules.set(e.name,e)}},{key:"getParams",value:function(){return T(this,void 0,void 0,u().mark((function e(){var t,n,r,i,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},n=S(this.modules),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=14;break}return i=D(r.value,2),o=i[0],s=i[1],e.next=8,s.getParams();case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=null;case 11:t[o]=e.t0;case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})))}},{key:"setDatas",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.modules.get(n).setData(e[n])}))}},{key:"preConnect",value:function(e){this.modules.forEach((function(t,n){t.preConnect(e)}))}},{key:"postConnect",value:function(){this.modules.forEach((function(e,t){e.postConnect()}))}}]),e}();ft.Module=ct,ft.modules=new Map;var pt,lt,dt=Ge,ht=function(){function e(){p(this,e),this.emitter=new dt}return d(e,[{key:"on",value:function(e,t){return this.emitter.on(e,t),this}},{key:"once",value:function(e,t){return this.emitter.once(e,t),this}},{key:"off",value:function(e,t){return this.emitter.off(e,t),this}},{key:"fire",value:function(e,t){return this.emitter.emit(e,t),this}}]),e}(),yt=function(){function e(){p(this,e),this.eventDriver=new ht}return d(e,[{key:"on",value:function(e,t){this.eventDriver.on(e,t)}},{key:"off",value:function(e,t){this.eventDriver.off(e,t)}},{key:"fire",value:function(e,t){this.eventDriver.fire(e,t)}}]),e}(),vt=new(function(){function e(){p(this,e)}return d(e,[{key:"isDef",value:function(e){return!this.isUndef(e)}},{key:"isUndef",value:function(e){return null==e}},{key:"isPrimitive",value:function(e){return"string"==typeof e||"number"==typeof e||"symbol"==a(e)||"boolean"==typeof e}},{key:"isObject",value:function(e){return null!==e&&"object"==a(e)}},{key:"isPlainObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isRegExp",value:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{key:"isValidArrayIndex",value:function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isStringOrNumber",value:function(e){return this.isString(e)||this.isNumber(e)}},{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"isEmpty",value:function(e){return this.isArray(e)?0===e.length:this.isObject(e)?!this.isDef(e):!this.isNumber(e)&&(this.isString(e)?""===e.trim():!this.isDef(e))}},{key:"isNative",value:function(e){return"function"==typeof e&&/native code/.test(e.toString())}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isTrue",value:function(e){return!0===e}},{key:"isFalse",value:function(e){return!1===e}},{key:"isNull",value:function(e){return null===e}}]),e}()),mt=Ge,bt=function(){function e(){p(this,e),this.emitter=new mt}return d(e,[{key:"on",value:function(e,t){if(!vt.isString(e))throw Error("event require a string.");if(!vt.isFunction(t))throw Error("callback must be a function");this.emitter.on(e,t)}},{key:"fire",value:function(e,t){this.emitter.emit(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}}]),e}(),gt=function(){function e(){p(this,e)}return d(e,null,[{key:"init",value:function(e,t,n,r,i,o){this.Socket=e,this.N=t,this.Member=n,this.v=r,this.Platform=i,this.GModules=o}}]),e}(),kt=at,Dt=function(){function e(){p(this,e)}return d(e,null,[{key:"get",value:function(){return kt.v1().replace(/-/g,"")}}]),e}();(lt=pt||(pt={})).WRITE="WRITE",lt.READ="READ",lt.NONE="NONE";var Et=function(){function e(t){var n=this;p(this,e),this.permission=pt.NONE,this.singleTimeout=0,this.totalTimeout=0,this.startTime=0,this.complete=!1,this.retried=0,this.unique=!1,this.uuid=Dt.get(),this.name=t.name,this.params=t.params,this.permission=t.permission,this.totalTimeout=t.totalTimeout,this.singleTimeout=t.singleTimeout,t.unique&&(this.unique=t.unique),this.success=function(e){n.complete||(n.end(),t.success(e))},this.fail=function(e){n.complete||(n.end(),t.fail(e))}}return d(e,[{key:"start",value:function(){this.startTime=Date.now(),this.initAutoTimeout()}},{key:"end",value:function(){this.complete=!0,clearTimeout(this.timeoutHandler)}},{key:"initAutoTimeout",value:function(){var e=this;this.timeoutHandler=setTimeout((function(){e.complete||e.fail({resultCode:408,content:"Host unreachable or timeout"})}),this.totalTimeout)}}]),e}(),wt=t(Object.freeze({__proto__:null,AbstractEventCenter:yt,ApiEventCenter:bt,EmitterEventDriver:ht,G:gt,GModule:ct,GModules:ft,get Permission(){return pt},Rocket:Et,UUID:Dt}));Object.defineProperty(Be,"__esModule",{value:!0}),Be.GNModule=void 0;var xt=oe,St=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xt.__extends(t,e),t.init=function(){return this.module=new t,this.module.name=this.GN_MODULE_NAME,this.module},t.setRegId=function(e,t){if(e){this.module.regIdPromise=e;var n=t;this.module.params={v:{npv:n}}}},t.prototype.preConnect=function(e){this.wxmpId=e.wxmpId},t.prototype.getParams=function(){return xt.__awaiter(this,void 0,void 0,(function(){var e,t,n;return xt.__generator(this,(function(r){switch(r.label){case 0:if(this.params=this.params||{},!this.regIdPromise)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),e=new Promise((function(e,t){setTimeout((function(){return t("timeout")}),1e3)})),t=this.params,[4,Promise.race([this.regIdPromise,e])];case 2:return t.regId=r.sent(),[3,4];case 3:return n=r.sent(),console.warn("Failed to register the Manufacturers Push service:"+JSON.stringify(n)),[3,4];case 4:return this.params.wxmpId=this.wxmpId,[2,this.params]}}))}))},t.GN_MODULE_NAME="GN",t}(wt.GModule);Be.GNModule=St,Object.defineProperty(de,"__esModule",{value:!0}),de.GN=void 0;var Ct=he,_t=me,Ot=we,Nt=Fe,At=Te,Pt=Me,Ft=Be,It=wt,Tt=function(){function e(){}return e.init=function(e){this.allowNotification=!0===e;var t=Ft.GNModule.init();It.GModules.initModule(t),this.supportAppNotification()&&(this.uniappPlugin=uni.requireNativePlugin("GoEasy-Uniapp"),this.uniappPlugin?(this.regIdPromise=this.askRegId(),this.v=this.uniappPlugin.v(),Ft.GNModule.setRegId(this.regIdPromise,this.v)):console.warn("No GoEasy-Uniapp Native Plugin."),this.setClientBadge(0))},e.addAssembler=function(e){this.payloadAssemblers.push(e)},e.assemblePayload=function(e){var t=this.payloadAssemblers.find((function(t){return t.support(e)}));return t?t.assemble(e):e},e.createLocalNotification=function(t,n,r,i,o){Ot.runStatus.isBackend()&&(r.g=1,"undefined"!=typeof plus&&(i?(this.uniappPlugin&&this.uniappPlugin.playSound(i),plus.push.createMessage(n,JSON.stringify(r),{title:t,sound:"none"})):plus.push.createMessage(n,JSON.stringify(r),{title:t}),"+1"===o&&this.setClientBadge(e.badge+1)))},e.setBadge=function(t){var n=this;if(!Number.isInteger(t.badge)||t.badge<0)Pt.CallbackUtils.onFailed(t,"badge must be an integer greater than or equal to 0.");else if(e.supportAppNotification())if(this.uniappPlugin&&_t.PlatformDetector.currentPlatform()===_t.PlatformType.UNI_IOS){var r=new It.Rocket({name:Nt.RocketTypes.SET_IOS_BADGE,params:{badge:t.badge},unique:!0,singleTimeout:At.SocketTimeout.commonRequestSingle,totalTimeout:At.SocketTimeout.commonRequestTotal,permission:It.Permission.WRITE,success:function(){Pt.CallbackUtils.onSuccess(t),n.setClientBadge(t.badge)},fail:function(e){Pt.CallbackUtils.onFailed(t,e.content)}});It.G.Socket.e(r)}else Pt.CallbackUtils.onSuccess(t),this.setClientBadge(t.badge)},e.setClientBadge=function(t){"vivo"!==plus.device.vendor&&(e.badge=t,plus.runtime.setBadgeNumber(t))},e.askRegId=function(){var e=this,t=null,n=0,r=function r(){return new Promise((function(i,o){e.uniappPlugin.regId((function(e){i(e)}),(function(i){if(!(1e6===i.data.code&&n<=10))return clearTimeout(t),o(i);t=setTimeout((function(){n++,e.regIdPromise=r()}),3500)}))}))}();return r},e.getRegIdPromise=function(){return this.regIdPromise},e.supportAppNotification=function(){var e=_t.PlatformDetector.currentPlatform();return this.allowNotification&&(e===_t.PlatformType.UNI_ANDROID||e===_t.PlatformType.UNI_IOS)},e.listenPlusClickNotification=function(){var e=this;plus.push.addEventListener("click",(function(t){try{if(t){var n="string"==typeof t.payload?JSON.parse(t.payload):t.payload;if(e.availableIntent(n)){var r=e.assemblePayload(n);plus.push.clear(),e.onClickNotificationCallback(r)}}}catch(e){}}))},e.availableIntent=function(e){return e&&Object.keys(e).length&&e.g&&1===parseInt(e.g)},e.getIntentData=function(){var e=this;this.uniappPlugin.getIntentData((function(t){if(e.availableIntent(t)){var n=e.assemblePayload(t),r=_t.PlatformDetector.currentPlatform();plus.push.clear(),r===_t.PlatformType.UNI_ANDROID&&e.uniappPlugin.clearAll(),e.onClickNotificationCallback(n)}}))},e.listenClick=function(){var e=this;this.listenPlusClickNotification();var t=_t.PlatformDetector.currentPlatform();this.uniappPlugin&&t===_t.PlatformType.UNI_ANDROID&&(this.getIntentData(),Ot.runStatus.onFrontend((function(){e.getIntentData()})))},e.onClickNotification=function(t){if(e.supportAppNotification()){if(!Ct.default.isFunction(t))throw new Error("The arguments must be a function.");null===this.onClickNotificationCallback?(this.onClickNotificationCallback=t,this.listenClick()):console.warn("The onClickNotification event has been listened on. Please do not listen to it more than once.")}else console.warn("The current environment doesn't support or allowNotification is false.")},e.uniappPlugin=null,e.v=null,e.regIdPromise=null,e.onClickNotificationCallback=null,e.payloadAssemblers=new Array,e}();de.GN=Tt;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.CustomerStatusOptions=Mt.User=Mt.AgentOnlineOptions=Mt.ConversationDTO=Mt.MessageStatus=Mt.Scene=Mt.CallBackOptions=Mt.version=void 0;var Rt=oe;Mt.version="2.13.24";var jt,Bt,qt=function(){};Mt.CallBackOptions=qt,function(e){e.PRIVATE="private",e.GROUP="group",e.SYSTEM="system",e.CS="cs"}(jt||(Mt.Scene=jt={})),function(e){e.NEW="new",e.SENDING="sending",e.SUCCESS="success",e.FAIL="fail"}(Bt||(Mt.MessageStatus=Bt={}));var Gt=function(){};Mt.ConversationDTO=Gt;var Ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t}(qt);Mt.AgentOnlineOptions=Ut;var Lt=function(e,t){this.id=e,this.data=t};Mt.User=Lt;var zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t}(qt);Mt.CustomerStatusOptions=zt;var Wt={},Vt={},$t={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=function e(t){if(null===t||"object"!==a(t)||"isActiveClone"in t)return t;var n=t instanceof Array?[]:{};for(var r in t)"object"===a(t[r])?n[r]=e(t[r]):n[r]=t[r];return n};var Ht={},Jt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Kt=Object.getOwnPropertyNames,Zt=Object.prototype.hasOwnProperty,Qt={};!function(e,t){for(var n in t)Jt(e,n,{get:t[n],enumerable:!0})}(Qt,{BASE64_REGEX:function(){return Ln},BIC_REGEX:function(){return zn},CUID2_REGEX:function(){return Wn},DECIMAL_REGEX:function(){return Vn},DIGITS_REGEX:function(){return $n},EMAIL_REGEX:function(){return Xn},EMOJI_REGEX:function(){return Hn},HEXADECIMAL_REGEX:function(){return Jn},HEX_COLOR_REGEX:function(){return Yn},IMEI_REGEX:function(){return Kn},IPV4_REGEX:function(){return Zn},IPV6_REGEX:function(){return Qn},IP_REGEX:function(){return er},ISO_DATE_REGEX:function(){return tr},ISO_DATE_TIME_REGEX:function(){return nr},ISO_TIMESTAMP_REGEX:function(){return or},ISO_TIME_REGEX:function(){return rr},ISO_TIME_SECOND_REGEX:function(){return ir},ISO_WEEK_REGEX:function(){return ur},MAC48_REGEX:function(){return sr},MAC64_REGEX:function(){return ar},MAC_REGEX:function(){return cr},NANO_ID_REGEX:function(){return fr},OCTAL_REGEX:function(){return pr},RFC_EMAIL_REGEX:function(){return lr},SLUG_REGEX:function(){return dr},ULID_REGEX:function(){return hr},UUID_REGEX:function(){return yr},ValiError:function(){return Bn},_addIssue:function(){return wn},_getByteCount:function(){return xn},_getGraphemeCount:function(){return Sn},_getStandardProps:function(){return Cn},_getWordCount:function(){return _n},_isLuhnAlgo:function(){return Nn},_isValidObjectKey:function(){return An},_joinExpects:function(){return Pn},_stringify:function(){return En},any:function(){return Mo},args:function(){return qn},argsAsync:function(){return Gn},array:function(){return Ro},arrayAsync:function(){return jo},assert:function(){return go},awaitAsync:function(){return Un},base64:function(){return vr},bic:function(){return mr},bigint:function(){return Bo},blob:function(){return qo},boolean:function(){return Go},brand:function(){return br},bytes:function(){return gr},check:function(){return kr},checkAsync:function(){return Dr},checkItems:function(){return Er},checkItemsAsync:function(){return wr},config:function(){return ko},creditCard:function(){return _r},cuid2:function(){return Or},custom:function(){return Uo},customAsync:function(){return Lo},date:function(){return zo},decimal:function(){return Nr},deleteGlobalConfig:function(){return ln},deleteGlobalMessage:function(){return yn},deleteSchemaMessage:function(){return bn},deleteSpecificMessage:function(){return Dn},description:function(){return Ar},digits:function(){return Pr},email:function(){return Fr},emoji:function(){return Ir},empty:function(){return Tr},endsWith:function(){return Mr},entriesFromList:function(){return Fn},entriesFromObjects:function(){return In},enum:function(){return Wo},enum_:function(){return Wo},everyItem:function(){return Rr},exactOptional:function(){return Vo},exactOptionalAsync:function(){return $o},excludes:function(){return jr},fallback:function(){return Eo},fallbackAsync:function(){return wo},file:function(){return Xo},filterItems:function(){return Br},findItem:function(){return qr},finite:function(){return Gr},flatten:function(){return xo},forward:function(){return So},forwardAsync:function(){return Co},function:function(){return Ho},function_:function(){return Ho},getDefault:function(){return _o},getDefaults:function(){return Oo},getDefaultsAsync:function(){return No},getDotPath:function(){return Tn},getFallback:function(){return Do},getFallbacks:function(){return Po},getFallbacksAsync:function(){return Fo},getGlobalConfig:function(){return pn},getGlobalMessage:function(){return hn},getSchemaMessage:function(){return mn},getSpecificMessage:function(){return kn},graphemes:function(){return Ur},gtValue:function(){return Lr},hash:function(){return Wr},hexColor:function(){return $r},hexadecimal:function(){return Vr},imei:function(){return Xr},includes:function(){return Hr},instance:function(){return Jo},integer:function(){return Jr},intersect:function(){return Ko},intersectAsync:function(){return Zo},ip:function(){return Yr},ipv4:function(){return Kr},ipv6:function(){return Zr},is:function(){return To},isOfKind:function(){return Mn},isOfType:function(){return Rn},isValiError:function(){return jn},isoDate:function(){return Qr},isoDateTime:function(){return ei},isoTime:function(){return ti},isoTimeSecond:function(){return ni},isoTimestamp:function(){return ri},isoWeek:function(){return ii},keyof:function(){return es},lazy:function(){return Qo},lazyAsync:function(){return eu},length:function(){return oi},literal:function(){return tu},looseObject:function(){return nu},looseObjectAsync:function(){return ru},looseTuple:function(){return iu},looseTupleAsync:function(){return ou},ltValue:function(){return ui},mac:function(){return si},mac48:function(){return ai},mac64:function(){return ci},map:function(){return uu},mapAsync:function(){return su},mapItems:function(){return fi},maxBytes:function(){return pi},maxGraphemes:function(){return li},maxLength:function(){return di},maxSize:function(){return hi},maxValue:function(){return yi},maxWords:function(){return vi},metadata:function(){return mi},mimeType:function(){return bi},minBytes:function(){return gi},minGraphemes:function(){return ki},minLength:function(){return Di},minSize:function(){return Ei},minValue:function(){return wi},minWords:function(){return xi},multipleOf:function(){return Si},nan:function(){return au},nanoid:function(){return Ci},never:function(){return cu},nonEmpty:function(){return _i},nonNullable:function(){return fu},nonNullableAsync:function(){return pu},nonNullish:function(){return lu},nonNullishAsync:function(){return du},nonOptional:function(){return hu},nonOptionalAsync:function(){return yu},normalize:function(){return Oi},notBytes:function(){return Ni},notGraphemes:function(){return Ai},notLength:function(){return Pi},notSize:function(){return Fi},notValue:function(){return Ii},notValues:function(){return Ti},notWords:function(){return Mi},null:function(){return vu},null_:function(){return vu},nullable:function(){return mu},nullableAsync:function(){return bu},nullish:function(){return gu},nullishAsync:function(){return ku},number:function(){return Du},object:function(){return Eu},objectAsync:function(){return wu},objectWithRest:function(){return xu},objectWithRestAsync:function(){return Su},octal:function(){return Ri},omit:function(){return ts},optional:function(){return Cu},optionalAsync:function(){return _u},parse:function(){return ns},parseAsync:function(){return rs},parser:function(){return os},parserAsync:function(){return us},partial:function(){return ss},partialAsync:function(){return as},partialCheck:function(){return Bi},partialCheckAsync:function(){return qi},pick:function(){return cs},picklist:function(){return Ou},pipe:function(){return fs},pipeAsync:function(){return ps},promise:function(){return Nu},rawCheck:function(){return Gi},rawCheckAsync:function(){return Ui},rawTransform:function(){return Li},rawTransformAsync:function(){return zi},readonly:function(){return Wi},record:function(){return Au},recordAsync:function(){return Pu},reduceItems:function(){return Vi},regex:function(){return $i},required:function(){return ls},requiredAsync:function(){return ds},returns:function(){return Xi},returnsAsync:function(){return Hi},rfcEmail:function(){return Ji},safeInteger:function(){return Yi},safeParse:function(){return hs},safeParseAsync:function(){return ys},safeParser:function(){return ms},safeParserAsync:function(){return bs},set:function(){return Fu},setAsync:function(){return Iu},setGlobalConfig:function(){return fn},setGlobalMessage:function(){return dn},setSchemaMessage:function(){return vn},setSpecificMessage:function(){return gn},size:function(){return Ki},slug:function(){return Zi},someItem:function(){return Qi},sortItems:function(){return eo},startsWith:function(){return to},strictObject:function(){return Tu},strictObjectAsync:function(){return Mu},strictTuple:function(){return Ru},strictTupleAsync:function(){return ju},string:function(){return Bu},symbol:function(){return qu},title:function(){return no},toLowerCase:function(){return ro},toMaxValue:function(){return io},toMinValue:function(){return oo},toUpperCase:function(){return uo},transform:function(){return so},transformAsync:function(){return ao},trim:function(){return co},trimEnd:function(){return fo},trimStart:function(){return po},tuple:function(){return Gu},tupleAsync:function(){return Uu},tupleWithRest:function(){return Lu},tupleWithRestAsync:function(){return zu},ulid:function(){return lo},undefined:function(){return Wu},undefined_:function(){return Wu},undefinedable:function(){return Vu},undefinedableAsync:function(){return $u},union:function(){return Hu},unionAsync:function(){return Ju},unknown:function(){return Yu},unwrap:function(){return gs},url:function(){return ho},uuid:function(){return yo},value:function(){return vo},values:function(){return mo},variant:function(){return Ku},variantAsync:function(){return Zu},void:function(){return Qu},void_:function(){return Qu},words:function(){return bo}});var en,tn,nn,rn,on,un,sn,an,cn=(en=Qt,function(e,t,n,r){if(t&&"object"===a(t)||"function"==typeof t){var i,o=S(Kt(t));try{var u=function(){var o=i.value;Zt.call(e,o)||o===n||Jt(e,o,{get:function(){return t[o]},enumerable:!(r=Yt(t,o))||r.enumerable})};for(o.s();!(i=o.n()).done;)u()}catch(e){o.e(e)}finally{o.f()}}return e}(Jt({},"__esModule",{value:!0}),en));function fn(e){tn=o(o({},tn),e)}function pn(e){var t,n,r,i,o,u;return{lang:null!==(t=null==e?void 0:e.lang)&&void 0!==t?t:null===(n=tn)||void 0===n?void 0:n.lang,message:null==e?void 0:e.message,abortEarly:null!==(r=null==e?void 0:e.abortEarly)&&void 0!==r?r:null===(i=tn)||void 0===i?void 0:i.abortEarly,abortPipeEarly:null!==(o=null==e?void 0:e.abortPipeEarly)&&void 0!==o?o:null===(u=tn)||void 0===u?void 0:u.abortPipeEarly}}function ln(){tn=void 0}function dn(e,t){nn||(nn=new Map),nn.set(t,e)}function hn(e){var t;return null===(t=nn)||void 0===t?void 0:t.get(e)}function yn(e){var t;null===(t=nn)||void 0===t||t.delete(e)}function vn(e,t){rn||(rn=new Map),rn.set(t,e)}function mn(e){var t;return null===(t=rn)||void 0===t?void 0:t.get(e)}function bn(e){var t;null===(t=rn)||void 0===t||t.delete(e)}function gn(e,t,n){on||(on=new Map),on.get(e)||on.set(e,new Map),on.get(e).set(n,t)}function kn(e,t){var n;return null===(n=on)||void 0===n||null===(n=n.get(e))||void 0===n?void 0:n.get(t)}function Dn(e,t){var n;null===(n=on)||void 0===n||null===(n=n.get(e))||void 0===n||n.delete(t)}function En(e){var t,n,r=a(e);return"string"===r?'"'.concat(e,'"'):"number"===r||"bigint"===r||"boolean"===r?"".concat(e):"object"===r||"function"===r?null!==(t=e&&(null===(n=Object.getPrototypeOf(e))||void 0===n||null===(n=n.constructor)||void 0===n?void 0:n.name))&&void 0!==t?t:"null":r}function wn(e,t,n,r,i){var o,u,s,a,c,f,p,l,d=i&&"input"in i?i.input:n.value,h=null!==(o=null!==(u=null==i?void 0:i.expected)&&void 0!==u?u:e.expects)&&void 0!==o?o:null,y=null!==(s=null==i?void 0:i.received)&&void 0!==s?s:En(d),v={kind:e.kind,type:e.type,input:d,expected:h,received:y,message:"Invalid ".concat(t,": ").concat(h?"Expected ".concat(h," but r"):"R","eceived ").concat(y),requirement:e.requirement,path:null==i?void 0:i.path,issues:null==i?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},m="schema"===e.kind,b=null!==(a=null!==(c=null!==(f=null!==(p=null!==(l=null==i?void 0:i.message)&&void 0!==l?l:e.message)&&void 0!==p?p:kn(e.reference,v.lang))&&void 0!==f?f:m?mn(v.lang):null)&&void 0!==c?c:r.message)&&void 0!==a?a:hn(v.lang);void 0!==b&&(v.message="function"==typeof b?b(v):b),m&&(n.typed=!1),n.issues?n.issues.push(v):n.issues=[v]}function xn(e){return un||(un=new TextEncoder),un.encode(e).length}function Sn(e){sn||(sn=new Intl.Segmenter);var t,n=0,r=S(sn.segment(e));try{for(r.s();!(t=r.n()).done;){t.value;n++}}catch(e){r.e(e)}finally{r.f()}return n}function Cn(e){return{version:1,vendor:"valibot",validate:function(t){return e["~run"]({value:t},pn())}}}function _n(e,t){an||(an=new Map),an.get(e)||an.set(e,new Intl.Segmenter(e,{granularity:"word"}));var n,r=0,i=S(an.get(e).segment(t));try{for(i.s();!(n=i.n()).done;){n.value.isWordLike&&r++}}catch(e){i.e(e)}finally{i.f()}return r}var On=/(?:[\0-\/:-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;function Nn(e){for(var t=e.replace(On,""),n=t.length,r=1,i=0;n;){var o=+t[--n];i+=(r^=1)?[0,2,4,6,8,1,3,5,7,9][o]:o}return i%10==0}function An(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function Pn(e,t){var n,r=E(new Set(e));return r.length>1?"(".concat(r.join(" ".concat(t," ")),")"):null!==(n=r[0])&&void 0!==n?n:"never"}function Fn(e,t){var n,r={},i=S(e);try{for(i.s();!(n=i.n()).done;){r[n.value]=t}}catch(e){i.e(e)}finally{i.f()}return r}function In(e){var t,n={},r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;Object.assign(n,i.entries)}}catch(e){r.e(e)}finally{r.f()}return n}function Tn(e){if(e.path){var t,n="",r=S(e.path);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("string"!=typeof i.key&&"number"!=typeof i.key)return null;n+=n?".".concat(i.key):i.key}}catch(e){r.e(e)}finally{r.f()}return n}return null}function Mn(e,t){return t.kind===e}function Rn(e,t){return t.type===e}function jn(e){return e instanceof Bn}var Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(i,e);var t,n,r=(t=i,n=m(),function(){var e,r=y(t);if(n){var i=y(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return k(this,e)});function i(e){var t;return p(this,i),(t=r.call(this,e[0].message)).name="ValiError",t.issues=e,t}return d(i)}(g(Error));function qn(e){return{kind:"transformation",type:"args",reference:qn,async:!1,schema:e,"~run":function(e,t){var n=this,r=e.value;return e.value=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var u=n.schema["~run"]({value:i},t);if(u.issues)throw new Bn(u.issues);return r.apply(void 0,E(u.value))},e}}}function Gn(e){return{kind:"transformation",type:"args",reference:Gn,async:!1,schema:e,"~run":function(t,n){var r=t.value;return t.value=f(u().mark((function t(){var i,o,s,a,c=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=c.length,o=new Array(i),s=0;s<i;s++)o[s]=c[s];return t.next=3,e["~run"]({value:o},n);case 3:if(!(a=t.sent).issues){t.next=6;break}throw new Bn(a.issues);case 6:return t.abrupt("return",r.apply(void 0,E(a.value)));case 7:case"end":return t.stop()}}),t)}))),t}}}function Un(){return{kind:"transformation",type:"await",reference:Un,async:!0,"~run":function(e){return f(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.value;case 2:return e.value=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()}}}var Ln=/^(?:[\+\/-9a-z\u017F\u212A]{4})*(?:[\+\/-9a-z\u017F\u212A]{2}==|[\+\/-9a-z\u017F\u212A]{3}=)?$/i,zn=/^[A-Z]{6}(?!00)[0-9A-Z]{2}(?:[0-9A-Z]{3})?$/,Wn=/^[a-z][0-9a-z]*$/,Vn=/^[\+\x2D]?(?:[0-9]*\.)?[0-9]+$/,$n=/^[0-9]+$/,Xn=/^[\+\x2D0-9A-Z_a-z\u017F\u212A]+(?:\.[\+\x2D0-9A-Z_a-z\u017F\u212A]+)*@[0-9a-z\u017F\u212A]+(?:[\x2D\.][0-9a-z\u017F\u212A]+)*\.[a-z\u017F\u212A]{2,}$/i,Hn=/^(?:(?:\uD83C[\uDDE6-\uDDFF]){2}|(?:\uD83C\uDFF4)(?:\uDB40[\uDC61-\uDC7A]){2}(?:\uDB40[\uDC30-\uDC39\uDC61-\uDC7A]){1,3}(?:\uDB40\uDC7F)|(?:(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])\uFE0F\u20E3?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD\uDEC3-\uDEC5\uDEF0-\uDEF8])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8]))(?:\u200D(?:(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])\uFE0F\u20E3?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD\uDEC3-\uDEC5\uDEF0-\uDEF8])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])))*)+$/,Jn=/^(?:0[hx])?[0-9A-Fa-f]+$/,Yn=/^#(?:[0-9A-Fa-f]{3,4}|[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8})$/,Kn=/^[0-9]{15}$|^[0-9]{2}\x2D[0-9]{6}\x2D[0-9]{6}\x2D[0-9]$/,Zn=/^(?:(?:[1-9]|1[0-9]|2[0-4])?[0-9]|25[0-5])(?:\.(?:(?:[1-9]|1[0-9]|2[0-4])?[0-9]|25[0-5])){3}$/,Qn=/^(?:(?:[0-9a-f]{1,4}:){7}[0-9a-f]{1,4}|(?:[0-9a-f]{1,4}:){1,7}:|(?:[0-9a-f]{1,4}:){1,6}:[0-9a-f]{1,4}|(?:[0-9a-f]{1,4}:){1,5}(?::[0-9a-f]{1,4}){1,2}|(?:[0-9a-f]{1,4}:){1,4}(?::[0-9a-f]{1,4}){1,3}|(?:[0-9a-f]{1,4}:){1,3}(?::[0-9a-f]{1,4}){1,4}|(?:[0-9a-f]{1,4}:){1,2}(?::[0-9a-f]{1,4}){1,5}|[0-9a-f]{1,4}:(?::[0-9a-f]{1,4}){1,6}|:(?:(?::[0-9a-f]{1,4}){1,7}|:)|fe80:(?::[0-9a-f]{0,4}){0,4}%[0-9a-z\u017F\u212A]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9])\.){3}(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9])|(?:[0-9a-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9])\.){3}(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9]))$/i,er=/^(?:(?:[1-9]|1[0-9]|2[0-4])?[0-9]|25[0-5])(?:\.(?:(?:[1-9]|1[0-9]|2[0-4])?[0-9]|25[0-5])){3}$|^(?:(?:[0-9a-f]{1,4}:){7}[0-9a-f]{1,4}|(?:[0-9a-f]{1,4}:){1,7}:|(?:[0-9a-f]{1,4}:){1,6}:[0-9a-f]{1,4}|(?:[0-9a-f]{1,4}:){1,5}(?::[0-9a-f]{1,4}){1,2}|(?:[0-9a-f]{1,4}:){1,4}(?::[0-9a-f]{1,4}){1,3}|(?:[0-9a-f]{1,4}:){1,3}(?::[0-9a-f]{1,4}){1,4}|(?:[0-9a-f]{1,4}:){1,2}(?::[0-9a-f]{1,4}){1,5}|[0-9a-f]{1,4}:(?::[0-9a-f]{1,4}){1,6}|:(?:(?::[0-9a-f]{1,4}){1,7}|:)|fe80:(?::[0-9a-f]{0,4}){0,4}%[0-9a-z\u017F\u212A]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9])\.){3}(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9])|(?:[0-9a-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9])\.){3}(?:25[0-5]|(?:2[0-4]|1?[0-9])?[0-9]))$/i,tr=/^[0-9]{4}\x2D(?:0[1-9]|1[0-2])\x2D(?:[12][0-9]|0[1-9]|3[01])$/,nr=/^[0-9]{4}\x2D(?:0[1-9]|1[0-2])\x2D(?:[12][0-9]|0[1-9]|3[01])[ T](?:0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,rr=/^(?:0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,ir=/^(?:0[0-9]|1[0-9]|2[0-3])(?::[0-5][0-9]){2}$/,or=/^[0-9]{4}\x2D(?:0[1-9]|1[0-2])\x2D(?:[12][0-9]|0[1-9]|3[01])[ T](?:0[0-9]|1[0-9]|2[0-3])(?::[0-5][0-9]){2}(?:\.[0-9]{1,9})?(?:Z|[\+\x2D](?:0[0-9]|1[0-9]|2[0-3])(?::?[0-5][0-9])?)$/,ur=/^[0-9]{4}\x2DW(?:0[1-9]|[1-4][0-9]|5[0-3])$/,sr=/^(?:[0-9a-f]{2}:){5}[0-9a-f]{2}$|^(?:[0-9a-f]{2}\x2D){5}[0-9a-f]{2}$|^(?:[0-9a-f]{4}\.){2}[0-9a-f]{4}$/i,ar=/^(?:[0-9a-f]{2}:){7}[0-9a-f]{2}$|^(?:[0-9a-f]{2}\x2D){7}[0-9a-f]{2}$|^(?:[0-9a-f]{4}\.){3}[0-9a-f]{4}$|^(?:[0-9a-f]{4}:){3}[0-9a-f]{4}$/i,cr=/^(?:[0-9a-f]{2}:){5}[0-9a-f]{2}$|^(?:[0-9a-f]{2}\x2D){5}[0-9a-f]{2}$|^(?:[0-9a-f]{4}\.){2}[0-9a-f]{4}$|^(?:[0-9a-f]{2}:){7}[0-9a-f]{2}$|^(?:[0-9a-f]{2}\x2D){7}[0-9a-f]{2}$|^(?:[0-9a-f]{4}\.){3}[0-9a-f]{4}$|^(?:[0-9a-f]{4}:){3}[0-9a-f]{4}$/i,fr=/^[\x2D0-9A-Z_a-z]+$/,pr=/^(?:0o)?[0-7]+$/,lr=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dr=/^[0-9a-z]+(?:[\x2D_][0-9a-z]+)*$/,hr=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,yr=/^[0-9a-f]{8}(?:\x2D[0-9a-f]{4}){3}\x2D[0-9a-f]{12}$/i;function vr(e){return{kind:"validation",type:"base64",reference:vr,async:!1,expects:null,requirement:Ln,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"Base64",e,t),e}}}function mr(e){return{kind:"validation",type:"bic",reference:mr,async:!1,expects:null,requirement:zn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"BIC",e,t),e}}}function br(e){return{kind:"transformation",type:"brand",reference:br,async:!1,name:e,"~run":function(e){return e}}}function gr(e,t){return{kind:"validation",type:"bytes",reference:gr,async:!1,expects:"".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=xn(e.value);n!==this.requirement&&wn(this,"bytes",e,t,{received:"".concat(n)})}return e}}}function kr(e,t){return{kind:"validation",type:"check",reference:kr,async:!1,expects:null,requirement:e,message:t,"~run":function(e,t){return e.typed&&!this.requirement(e.value)&&wn(this,"input",e,t),e}}}function Dr(e,t){return{kind:"validation",type:"check",reference:Dr,async:!0,expects:null,requirement:e,message:t,"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=e.typed,!r.t0){r.next=5;break}return r.next=4,n.requirement(e.value);case 4:r.t0=!r.sent;case 5:if(!r.t0){r.next=7;break}wn(n,"input",e,t);case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}}),r)})))()}}}function Er(e,t){return{kind:"validation",type:"check_items",reference:Er,async:!1,expects:null,requirement:e,message:t,"~run":function(e,t){if(e.typed)for(var n=0;n<e.value.length;n++){var r=e.value[n];this.requirement(r,n,e.value)||wn(this,"item",e,t,{input:r,path:[{type:"array",origin:"value",input:e.value,key:n,value:r}]})}return e}}}function wr(e,t){return{kind:"validation",type:"check_items",reference:wr,async:!0,expects:null,requirement:e,message:t,"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.typed){r.next=5;break}return r.next=3,Promise.all(e.value.map(n.requirement));case 3:for(i=r.sent,o=0;o<e.value.length;o++)i[o]||(s=e.value[o],wn(n,"item",e,t,{input:s,path:[{type:"array",origin:"value",input:e.value,key:o,value:s}]}));case 5:return r.abrupt("return",e);case 6:case"end":return r.stop()}}),r)})))()}}}var xr=/^(?:[0-9]{14,19}|[0-9]{4}(?: [0-9]{3,6}){2,4}|[0-9]{4}(?:\x2D[0-9]{3,6}){2,4})$/,Sr=/[ \x2D]/g,Cr=[/^3[47][0-9]{13}$/,/^3(?:0[0-5]|[68][0-9])[0-9]{11,13}$/,/^6(?:011|5[0-9]{2})[0-9]{12,15}$/,/^(?:2131|1800|35[0-9]{3})[0-9]{11}$/,/^5[1-5][0-9]{2}|(?:222[0-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,/^(?:6[27][0-9]{14,17}|81[0-9]{14,17})$/,/^4[0-9]{12}(?:[0-9]{3,6})?$/];function _r(e){return{kind:"validation",type:"credit_card",reference:_r,async:!1,expects:null,requirement:function(e){var t;return xr.test(e)&&(t=e.replace(Sr,""))&&Cr.some((function(e){return e.test(t)}))&&Nn(t)},message:e,"~run":function(e,t){return e.typed&&!this.requirement(e.value)&&wn(this,"credit card",e,t),e}}}function Or(e){return{kind:"validation",type:"cuid2",reference:Or,async:!1,expects:null,requirement:Wn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"Cuid2",e,t),e}}}function Nr(e){return{kind:"validation",type:"decimal",reference:Nr,async:!1,expects:null,requirement:Vn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"decimal",e,t),e}}}function Ar(e){return{kind:"metadata",type:"description",reference:Ar,description:e}}function Pr(e){return{kind:"validation",type:"digits",reference:Pr,async:!1,expects:null,requirement:$n,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"digits",e,t),e}}}function Fr(e){return{kind:"validation",type:"email",reference:Fr,expects:null,async:!1,requirement:Xn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"email",e,t),e}}}function Ir(e){return{kind:"validation",type:"emoji",reference:Ir,async:!1,expects:null,requirement:Hn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"emoji",e,t),e}}}function Tr(e){return{kind:"validation",type:"empty",reference:Tr,async:!1,expects:"0",message:e,"~run":function(e,t){return e.typed&&e.value.length>0&&wn(this,"length",e,t,{received:"".concat(e.value.length)}),e}}}function Mr(e,t){return{kind:"validation",type:"ends_with",reference:Mr,async:!1,expects:'"'.concat(e,'"'),requirement:e,message:t,"~run":function(e,t){return e.typed&&!e.value.endsWith(this.requirement)&&wn(this,"end",e,t,{received:'"'.concat(e.value.slice(-this.requirement.length),'"')}),e}}}function Rr(e,t){return{kind:"validation",type:"every_item",reference:Rr,async:!1,expects:null,requirement:e,message:t,"~run":function(e,t){return e.typed&&!e.value.every(this.requirement)&&wn(this,"item",e,t),e}}}function jr(e,t){var n=En(e);return{kind:"validation",type:"excludes",reference:jr,async:!1,expects:"!".concat(n),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.includes(this.requirement)&&wn(this,"content",e,t,{received:n}),e}}}function Br(e){return{kind:"transformation",type:"filter_items",reference:Br,async:!1,operation:e,"~run":function(e){return e.value=e.value.filter(this.operation),e}}}function qr(e){return{kind:"transformation",type:"find_item",reference:qr,async:!1,operation:e,"~run":function(e){return e.value=e.value.find(this.operation),e}}}function Gr(e){return{kind:"validation",type:"finite",reference:Gr,async:!1,expects:null,requirement:Number.isFinite,message:e,"~run":function(e,t){return e.typed&&!this.requirement(e.value)&&wn(this,"finite",e,t),e}}}function Ur(e,t){return{kind:"validation",type:"graphemes",reference:Ur,async:!1,expects:"".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=Sn(e.value);n!==this.requirement&&wn(this,"graphemes",e,t,{received:"".concat(n)})}return e}}}function Lr(e,t){return{kind:"validation",type:"gt_value",reference:Lr,async:!1,expects:">".concat(e instanceof Date?e.toJSON():En(e)),requirement:e,message:t,"~run":function(e,t){return!e.typed||e.value>this.requirement||wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}var zr={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function Wr(e,t){return{kind:"validation",type:"hash",reference:Wr,expects:null,async:!1,requirement:RegExp(e.map((function(e){return"^[a-f0-9]{".concat(zr[e],"}$")})).join("|"),"iu"),message:t,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"hash",e,t),e}}}function Vr(e){return{kind:"validation",type:"hexadecimal",reference:Vr,async:!1,expects:null,requirement:Jn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"hexadecimal",e,t),e}}}function $r(e){return{kind:"validation",type:"hex_color",reference:$r,async:!1,expects:null,requirement:Yn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"hex color",e,t),e}}}function Xr(e){return{kind:"validation",type:"imei",reference:Xr,async:!1,expects:null,requirement:function(e){return Kn.test(e)&&Nn(e)},message:e,"~run":function(e,t){return e.typed&&!this.requirement(e.value)&&wn(this,"IMEI",e,t),e}}}function Hr(e,t){var n=En(e);return{kind:"validation",type:"includes",reference:Hr,async:!1,expects:n,requirement:e,message:t,"~run":function(e,t){return e.typed&&!e.value.includes(this.requirement)&&wn(this,"content",e,t,{received:"!".concat(n)}),e}}}function Jr(e){return{kind:"validation",type:"integer",reference:Jr,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run":function(e,t){return e.typed&&!this.requirement(e.value)&&wn(this,"integer",e,t),e}}}function Yr(e){return{kind:"validation",type:"ip",reference:Yr,async:!1,expects:null,requirement:er,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"IP",e,t),e}}}function Kr(e){return{kind:"validation",type:"ipv4",reference:Kr,async:!1,expects:null,requirement:Zn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"IPv4",e,t),e}}}function Zr(e){return{kind:"validation",type:"ipv6",reference:Zr,async:!1,expects:null,requirement:Qn,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"IPv6",e,t),e}}}function Qr(e){return{kind:"validation",type:"iso_date",reference:Qr,async:!1,expects:null,requirement:tr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"date",e,t),e}}}function ei(e){return{kind:"validation",type:"iso_date_time",reference:ei,async:!1,expects:null,requirement:nr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"date-time",e,t),e}}}function ti(e){return{kind:"validation",type:"iso_time",reference:ti,async:!1,expects:null,requirement:rr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"time",e,t),e}}}function ni(e){return{kind:"validation",type:"iso_time_second",reference:ni,async:!1,expects:null,requirement:ir,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"time-second",e,t),e}}}function ri(e){return{kind:"validation",type:"iso_timestamp",reference:ri,async:!1,expects:null,requirement:or,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"timestamp",e,t),e}}}function ii(e){return{kind:"validation",type:"iso_week",reference:ii,async:!1,expects:null,requirement:ur,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"week",e,t),e}}}function oi(e,t){return{kind:"validation",type:"length",reference:oi,async:!1,expects:"".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.length!==this.requirement&&wn(this,"length",e,t,{received:"".concat(e.value.length)}),e}}}function ui(e,t){return{kind:"validation",type:"lt_value",reference:ui,async:!1,expects:"<".concat(e instanceof Date?e.toJSON():En(e)),requirement:e,message:t,"~run":function(e,t){return!e.typed||e.value<this.requirement||wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}function si(e){return{kind:"validation",type:"mac",reference:si,async:!1,expects:null,requirement:cr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"MAC",e,t),e}}}function ai(e){return{kind:"validation",type:"mac48",reference:ai,async:!1,expects:null,requirement:sr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"48-bit MAC",e,t),e}}}function ci(e){return{kind:"validation",type:"mac64",reference:ci,async:!1,expects:null,requirement:ar,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"64-bit MAC",e,t),e}}}function fi(e){return{kind:"transformation",type:"map_items",reference:fi,async:!1,operation:e,"~run":function(e){return e.value=e.value.map(this.operation),e}}}function pi(e,t){return{kind:"validation",type:"max_bytes",reference:pi,async:!1,expects:"<=".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=xn(e.value);n>this.requirement&&wn(this,"bytes",e,t,{received:"".concat(n)})}return e}}}function li(e,t){return{kind:"validation",type:"max_graphemes",reference:li,async:!1,expects:"<=".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=Sn(e.value);n>this.requirement&&wn(this,"graphemes",e,t,{received:"".concat(n)})}return e}}}function di(e,t){return{kind:"validation",type:"max_length",reference:di,async:!1,expects:"<=".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.length>this.requirement&&wn(this,"length",e,t,{received:"".concat(e.value.length)}),e}}}function hi(e,t){return{kind:"validation",type:"max_size",reference:hi,async:!1,expects:"<=".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.size>this.requirement&&wn(this,"size",e,t,{received:"".concat(e.value.size)}),e}}}function yi(e,t){return{kind:"validation",type:"max_value",reference:yi,async:!1,expects:"<=".concat(e instanceof Date?e.toJSON():En(e)),requirement:e,message:t,"~run":function(e,t){return!e.typed||e.value<=this.requirement||wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}function vi(e,t,n){return{kind:"validation",type:"max_words",reference:vi,async:!1,expects:"<=".concat(t),locales:e,requirement:t,message:n,"~run":function(e,t){if(e.typed){var n=_n(this.locales,e.value);n>this.requirement&&wn(this,"words",e,t,{received:"".concat(n)})}return e}}}function mi(e){return{kind:"metadata",type:"metadata",reference:mi,metadata:e}}function bi(e,t){return{kind:"validation",type:"mime_type",reference:bi,async:!1,expects:Pn(e.map((function(e){return'"'.concat(e,'"')})),"|"),requirement:e,message:t,"~run":function(e,t){return e.typed&&!this.requirement.includes(e.value.type)&&wn(this,"MIME type",e,t,{received:'"'.concat(e.value.type,'"')}),e}}}function gi(e,t){return{kind:"validation",type:"min_bytes",reference:gi,async:!1,expects:">=".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=xn(e.value);n<this.requirement&&wn(this,"bytes",e,t,{received:"".concat(n)})}return e}}}function ki(e,t){return{kind:"validation",type:"min_graphemes",reference:ki,async:!1,expects:">=".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=Sn(e.value);n<this.requirement&&wn(this,"graphemes",e,t,{received:"".concat(n)})}return e}}}function Di(e,t){return{kind:"validation",type:"min_length",reference:Di,async:!1,expects:">=".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.length<this.requirement&&wn(this,"length",e,t,{received:"".concat(e.value.length)}),e}}}function Ei(e,t){return{kind:"validation",type:"min_size",reference:Ei,async:!1,expects:">=".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.size<this.requirement&&wn(this,"size",e,t,{received:"".concat(e.value.size)}),e}}}function wi(e,t){return{kind:"validation",type:"min_value",reference:wi,async:!1,expects:">=".concat(e instanceof Date?e.toJSON():En(e)),requirement:e,message:t,"~run":function(e,t){return!e.typed||e.value>=this.requirement||wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}function xi(e,t,n){return{kind:"validation",type:"min_words",reference:xi,async:!1,expects:">=".concat(t),locales:e,requirement:t,message:n,"~run":function(e,t){if(e.typed){var n=_n(this.locales,e.value);n<this.requirement&&wn(this,"words",e,t,{received:"".concat(n)})}return e}}}function Si(e,t){return{kind:"validation",type:"multiple_of",reference:Si,async:!1,expects:"%".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value%this.requirement!=0&&wn(this,"multiple",e,t),e}}}function Ci(e){return{kind:"validation",type:"nanoid",reference:Ci,async:!1,expects:null,requirement:fr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"Nano ID",e,t),e}}}function _i(e){return{kind:"validation",type:"non_empty",reference:_i,async:!1,expects:"!0",message:e,"~run":function(e,t){return e.typed&&0===e.value.length&&wn(this,"length",e,t,{received:"0"}),e}}}function Oi(e){return{kind:"transformation",type:"normalize",reference:Oi,async:!1,form:e,"~run":function(e){return e.value=e.value.normalize(this.form),e}}}function Ni(e,t){return{kind:"validation",type:"not_bytes",reference:Ni,async:!1,expects:"!".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=xn(e.value);n===this.requirement&&wn(this,"bytes",e,t,{received:"".concat(n)})}return e}}}function Ai(e,t){return{kind:"validation",type:"not_graphemes",reference:Ai,async:!1,expects:"!".concat(e),requirement:e,message:t,"~run":function(e,t){if(e.typed){var n=Sn(e.value);n===this.requirement&&wn(this,"graphemes",e,t,{received:"".concat(n)})}return e}}}function Pi(e,t){return{kind:"validation",type:"not_length",reference:Pi,async:!1,expects:"!".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.length===this.requirement&&wn(this,"length",e,t,{received:"".concat(e.value.length)}),e}}}function Fi(e,t){return{kind:"validation",type:"not_size",reference:Fi,async:!1,expects:"!".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.size===this.requirement&&wn(this,"size",e,t,{received:"".concat(e.value.size)}),e}}}function Ii(e,t){return{kind:"validation",type:"not_value",reference:Ii,async:!1,expects:e instanceof Date?"!".concat(e.toJSON()):"!".concat(En(e)),requirement:e,message:t,"~run":function(e,t){return e.typed&&this.requirement<=e.value&&this.requirement>=e.value&&wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}function Ti(e,t){return{kind:"validation",type:"not_values",reference:Ti,async:!1,expects:"!".concat(Pn(e.map((function(e){return e instanceof Date?e.toJSON():En(e)})),"|")),requirement:e,message:t,"~run":function(e,t){return e.typed&&this.requirement.some((function(t){return t<=e.value&&t>=e.value}))&&wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}function Mi(e,t,n){return{kind:"validation",type:"not_words",reference:Mi,async:!1,expects:"!".concat(t),locales:e,requirement:t,message:n,"~run":function(e,t){if(e.typed){var n=_n(this.locales,e.value);n===this.requirement&&wn(this,"words",e,t,{received:"".concat(n)})}return e}}}function Ri(e){return{kind:"validation",type:"octal",reference:Ri,async:!1,expects:null,requirement:pr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"octal",e,t),e}}}function ji(e,t){if(e.issues){var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,u=S(e.issues);try{for(u.s();!(i=u.n()).done;){for(var s,a,c=i.value,f=!1,p=Math.min(o.length,null!==(s=null===(a=c.path)||void 0===a?void 0:a.length)&&void 0!==s?s:0),l=0;l<p;l++)if(o[l]!==c.path[l].key&&("$"!==o[l]||"array"!==c.path[l].type)){f=!0;break}if(!f)return!1}}catch(e){u.e(e)}finally{u.f()}}}catch(e){r.e(e)}finally{r.f()}}return!0}function Bi(e,t,n){return{kind:"validation",type:"partial_check",reference:Bi,async:!1,expects:null,paths:e,requirement:t,message:n,"~run":function(t,n){return!t.typed&&!ji(t,e)||this.requirement(t.value)||wn(this,"input",t,n),t}}}function qi(e,t,n){return{kind:"validation",type:"partial_check",reference:qi,async:!0,expects:null,paths:e,requirement:t,message:n,"~run":function(t,n){var r=this;return f(u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=t.typed||ji(t,e),!i.t0){i.next=5;break}return i.next=4,r.requirement(t.value);case 4:i.t0=!i.sent;case 5:if(!i.t0){i.next=7;break}wn(r,"input",t,n);case 7:return i.abrupt("return",t);case 8:case"end":return i.stop()}}),i)})))()}}}function Gi(e){return{kind:"validation",type:"raw_check",reference:Gi,async:!1,expects:null,"~run":function(t,n){var r=this;return e({dataset:t,config:n,addIssue:function(e){var i;return wn(r,null!==(i=null==e?void 0:e.label)&&void 0!==i?i:"input",t,n,e)}}),t}}}function Ui(e){return{kind:"validation",type:"raw_check",reference:Ui,async:!0,expects:null,"~run":function(t,n){var r=this;return f(u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e({dataset:t,config:n,addIssue:function(e){var i;return wn(r,null!==(i=null==e?void 0:e.label)&&void 0!==i?i:"input",t,n,e)}});case 2:return i.abrupt("return",t);case 3:case"end":return i.stop()}}),i)})))()}}}function Li(e){return{kind:"transformation",type:"raw_transform",reference:Li,async:!1,"~run":function(t,n){var r=this,i=e({dataset:t,config:n,addIssue:function(e){var i;return wn(r,null!==(i=null==e?void 0:e.label)&&void 0!==i?i:"input",t,n,e)},NEVER:null});return t.issues?t.typed=!1:t.value=i,t}}}function zi(e){return{kind:"transformation",type:"raw_transform",reference:zi,async:!0,"~run":function(t,n){var r=this;return f(u().mark((function i(){var o;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e({dataset:t,config:n,addIssue:function(e){var i;return wn(r,null!==(i=null==e?void 0:e.label)&&void 0!==i?i:"input",t,n,e)},NEVER:null});case 2:return o=i.sent,t.issues?t.typed=!1:t.value=o,i.abrupt("return",t);case 5:case"end":return i.stop()}}),i)})))()}}}function Wi(){return{kind:"transformation",type:"readonly",reference:Wi,async:!1,"~run":function(e){return e}}}function Vi(e,t){return{kind:"transformation",type:"reduce_items",reference:Vi,async:!1,operation:e,initial:t,"~run":function(e){return e.value=e.value.reduce(this.operation,this.initial),e}}}function $i(e,t){return{kind:"validation",type:"regex",reference:$i,async:!1,expects:"".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"format",e,t),e}}}function Xi(e){return{kind:"transformation",type:"returns",reference:Xi,async:!1,schema:e,"~run":function(e,t){var n=this,r=e.value;return e.value=function(){var e=n.schema["~run"]({value:r.apply(void 0,arguments)},t);if(e.issues)throw new Bn(e.issues);return e.value},e}}}function Hi(e){return{kind:"transformation",type:"returns",reference:Hi,async:!1,schema:e,"~run":function(e,t){var n=this,r=e.value;return e.value=f(u().mark((function e(){var i,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.schema,e.next=3,r.apply(void 0,o);case 3:return e.t1=e.sent,e.t2={value:e.t1},e.t3=t,e.next=8,e.t0["~run"].call(e.t0,e.t2,e.t3);case 8:if(!(i=e.sent).issues){e.next=11;break}throw new Bn(i.issues);case 11:return e.abrupt("return",i.value);case 12:case"end":return e.stop()}}),e)}))),e}}}function Ji(e){return{kind:"validation",type:"rfc_email",reference:Ji,expects:null,async:!1,requirement:lr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"email",e,t),e}}}function Yi(e){return{kind:"validation",type:"safe_integer",reference:Yi,async:!1,expects:null,requirement:Number.isSafeInteger,message:e,"~run":function(e,t){return e.typed&&!this.requirement(e.value)&&wn(this,"safe integer",e,t),e}}}function Ki(e,t){return{kind:"validation",type:"size",reference:Ki,async:!1,expects:"".concat(e),requirement:e,message:t,"~run":function(e,t){return e.typed&&e.value.size!==this.requirement&&wn(this,"size",e,t,{received:"".concat(e.value.size)}),e}}}function Zi(e){return{kind:"validation",type:"slug",reference:Zi,async:!1,expects:null,requirement:dr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"slug",e,t),e}}}function Qi(e,t){return{kind:"validation",type:"some_item",reference:Qi,async:!1,expects:null,requirement:e,message:t,"~run":function(e,t){return e.typed&&!e.value.some(this.requirement)&&wn(this,"item",e,t),e}}}function eo(e){return{kind:"transformation",type:"sort_items",reference:eo,async:!1,operation:e,"~run":function(e){return e.value=e.value.sort(this.operation),e}}}function to(e,t){return{kind:"validation",type:"starts_with",reference:to,async:!1,expects:'"'.concat(e,'"'),requirement:e,message:t,"~run":function(e,t){return e.typed&&!e.value.startsWith(this.requirement)&&wn(this,"start",e,t,{received:'"'.concat(e.value.slice(0,this.requirement.length),'"')}),e}}}function no(e){return{kind:"metadata",type:"title",reference:no,title:e}}function ro(){return{kind:"transformation",type:"to_lower_case",reference:ro,async:!1,"~run":function(e){return e.value=e.value.toLowerCase(),e}}}function io(e){return{kind:"transformation",type:"to_max_value",reference:io,async:!1,requirement:e,"~run":function(e){return e.value=e.value>this.requirement?this.requirement:e.value,e}}}function oo(e){return{kind:"transformation",type:"to_min_value",reference:oo,async:!1,requirement:e,"~run":function(e){return e.value=e.value<this.requirement?this.requirement:e.value,e}}}function uo(){return{kind:"transformation",type:"to_upper_case",reference:uo,async:!1,"~run":function(e){return e.value=e.value.toUpperCase(),e}}}function so(e){return{kind:"transformation",type:"transform",reference:so,async:!1,operation:e,"~run":function(e){return e.value=this.operation(e.value),e}}}function ao(e){return{kind:"transformation",type:"transform",reference:ao,async:!0,operation:e,"~run":function(e){var t=this;return f(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.operation(e.value);case 2:return e.value=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))()}}}function co(){return{kind:"transformation",type:"trim",reference:co,async:!1,"~run":function(e){return e.value=e.value.trim(),e}}}function fo(){return{kind:"transformation",type:"trim_end",reference:fo,async:!1,"~run":function(e){return e.value=e.value.trimEnd(),e}}}function po(){return{kind:"transformation",type:"trim_start",reference:po,async:!1,"~run":function(e){return e.value=e.value.trimStart(),e}}}function lo(e){return{kind:"validation",type:"ulid",reference:lo,async:!1,expects:null,requirement:hr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"ULID",e,t),e}}}function ho(e){return{kind:"validation",type:"url",reference:ho,async:!1,expects:null,requirement:function(e){try{return new URL(e),!0}catch(e){return!1}},message:e,"~run":function(e,t){return e.typed&&!this.requirement(e.value)&&wn(this,"URL",e,t),e}}}function yo(e){return{kind:"validation",type:"uuid",reference:yo,async:!1,expects:null,requirement:yr,message:e,"~run":function(e,t){return e.typed&&!this.requirement.test(e.value)&&wn(this,"UUID",e,t),e}}}function vo(e,t){return{kind:"validation",type:"value",reference:vo,async:!1,expects:e instanceof Date?e.toJSON():En(e),requirement:e,message:t,"~run":function(e,t){return!e.typed||this.requirement<=e.value&&this.requirement>=e.value||wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}function mo(e,t){return{kind:"validation",type:"values",reference:mo,async:!1,expects:"".concat(Pn(e.map((function(e){return e instanceof Date?e.toJSON():En(e)})),"|")),requirement:e,message:t,"~run":function(e,t){return e.typed&&!this.requirement.some((function(t){return t<=e.value&&t>=e.value}))&&wn(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():En(e.value)}),e}}}function bo(e,t,n){return{kind:"validation",type:"words",reference:bo,async:!1,expects:"".concat(t),locales:e,requirement:t,message:n,"~run":function(e,t){if(e.typed){var n=_n(this.locales,e.value);n!==this.requirement&&wn(this,"words",e,t,{received:"".concat(n)})}return e}}}function go(e,t){var n=e["~run"]({value:t},{abortEarly:!0}).issues;if(n)throw new Bn(n)}function ko(e,t){return o(o({},e),{},{get"~standard"(){return Cn(this)},"~run":function(n,r){return e["~run"](n,o(o({},r),t))}})}function Do(e,t,n){return"function"==typeof e.fallback?e.fallback(t,n):e.fallback}function Eo(e,t){return o(o({},e),{},{fallback:t,get"~standard"(){return Cn(this)},"~run":function(t,n){var r=e["~run"](t,n);return r.issues?{typed:!0,value:Do(this,r,n)}:r}})}function wo(e,t){return o(o({},e),{},{fallback:t,async:!0,get"~standard"(){return Cn(this)},"~run":function(t,n){var r=this;return f(u().mark((function i(){var o;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e["~run"](t,n);case 2:if(!(o=i.sent).issues){i.next=10;break}return i.next=6,Do(r,o,n);case 6:i.t1=i.sent,i.t0={typed:!0,value:i.t1},i.next=11;break;case 10:i.t0=o;case 11:return i.abrupt("return",i.t0);case 12:case"end":return i.stop()}}),i)})))()}})}function xo(e){var t,n={},r=S(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.path){var o=Tn(i);o?(n.nested||(n.nested={}),n.nested[o]?n.nested[o].push(i.message):n.nested[o]=[i.message]):n.other?n.other.push(i.message):n.other=[i.message]}else n.root?n.root.push(i.message):n.root=[i.message]}}catch(e){r.e(e)}finally{r.f()}return n}function So(e,t){return o(o({},e),{},{"~run":function(n,r){var i=n.issues&&E(n.issues);if((n=e["~run"](n,r)).issues){var o,u=S(n.issues);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(null==i||!i.includes(s)){var a,c=n.value,f=S(t);try{for(f.s();!(a=f.n()).done;){var p=a.value,l=c[p],d={type:"unknown",origin:"value",input:c,key:p,value:l};if(s.path?s.path.push(d):s.path=[d],!l)break;c=l}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){u.e(e)}finally{u.f()}}return n}})}function Co(e,t){return o(o({},e),{},{async:!0,"~run":function(n,r){return f(u().mark((function i(){var o,s,a,c,f,p,l,d,h,y;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=n.issues&&E(n.issues),i.next=3,e["~run"](n,r);case 3:if(!(n=i.sent).issues){i.next=43;break}s=S(n.issues),i.prev=6,s.s();case 8:if((a=s.n()).done){i.next=35;break}if(c=a.value,null!=o&&o.includes(c)){i.next=33;break}f=n.value,p=S(t),i.prev=13,p.s();case 15:if((l=p.n()).done){i.next=25;break}if(d=l.value,h=f[d],y={type:"unknown",origin:"value",input:f,key:d,value:h},c.path?c.path.push(y):c.path=[y],h){i.next=22;break}return i.abrupt("break",25);case 22:f=h;case 23:i.next=15;break;case 25:i.next=30;break;case 27:i.prev=27,i.t0=i.catch(13),p.e(i.t0);case 30:return i.prev=30,p.f(),i.finish(30);case 33:i.next=8;break;case 35:i.next=40;break;case 37:i.prev=37,i.t1=i.catch(6),s.e(i.t1);case 40:return i.prev=40,s.f(),i.finish(40);case 43:return i.abrupt("return",n);case 44:case"end":return i.stop()}}),i,null,[[6,37,40,43],[13,27,30,33]])})))()}})}function _o(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function Oo(e){if("entries"in e){var t={};for(var n in e.entries)t[n]=Oo(e.entries[n]);return t}return"items"in e?e.items.map(Oo):_o(e)}function No(e){return Ao.apply(this,arguments)}function Ao(){return Ao=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("entries"in t)){e.next=6;break}return e.t0=Object,e.next=4,Promise.all(Object.entries(t.entries).map(function(){var e=f(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t,2),r=n[0],i=n[1],e.t0=r,e.next=4,No(i);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.t1=e.sent,e.abrupt("return",e.t0.fromEntries.call(e.t0,e.t1));case 6:if(!("items"in t)){e.next=8;break}return e.abrupt("return",Promise.all(t.items.map(No)));case 8:return e.abrupt("return",_o(t));case 9:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Po(e){if("entries"in e){var t={};for(var n in e.entries)t[n]=Po(e.entries[n]);return t}return"items"in e?e.items.map(Po):Do(e)}function Fo(e){return Io.apply(this,arguments)}function Io(){return Io=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("entries"in t)){e.next=6;break}return e.t0=Object,e.next=4,Promise.all(Object.entries(t.entries).map(function(){var e=f(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t,2),r=n[0],i=n[1],e.t0=r,e.next=4,Fo(i);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.t1=e.sent,e.abrupt("return",e.t0.fromEntries.call(e.t0,e.t1));case 6:if(!("items"in t)){e.next=8;break}return e.abrupt("return",Promise.all(t.items.map(Fo)));case 8:return e.abrupt("return",Do(t));case 9:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function To(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Mo(){return{kind:"schema",type:"any",reference:Mo,expects:"any",async:!1,get"~standard"(){return Cn(this)},"~run":function(e){return e.typed=!0,e}}}function Ro(e,t){return{kind:"schema",type:"array",reference:Ro,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(var r=0;r<n.length;r++){var i=n[r],o=this.item["~run"]({value:i},t);if(o.issues){var u,s={type:"array",origin:"value",input:n,key:r,value:i},a=S(o.issues);try{for(a.s();!(u=a.n()).done;){var c,f=u.value;f.path?f.path.unshift(s):f.path=[s],null===(c=e.issues)||void 0===c||c.push(f)}}catch(e){a.e(e)}finally{a.f()}if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}}else wn(this,"type",e,t);return e}}}function jo(e,t){return{kind:"schema",type:"array",reference:jo,expects:"Array",async:!0,item:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,f,p,l,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.value,!Array.isArray(i)){r.next=25;break}return e.typed=!0,e.value=[],r.next=6,Promise.all(i.map((function(e){return n.item["~run"]({value:e},t)})));case 6:o=r.sent,s=0;case 8:if(!(s<o.length)){r.next=23;break}if(!(a=o[s]).issues){r.next=18;break}c={type:"array",origin:"value",input:i,key:s,value:i[s]},f=S(a.issues);try{for(f.s();!(p=f.n()).done;)(d=p.value).path?d.path.unshift(c):d.path=[c],null===(l=e.issues)||void 0===l||l.push(d)}catch(e){f.e(e)}finally{f.f()}if(e.issues||(e.issues=a.issues),!t.abortEarly){r.next=18;break}return e.typed=!1,r.abrupt("break",23);case 18:a.typed||(e.typed=!1),e.value.push(a.value);case 20:s++,r.next=8;break;case 23:r.next=26;break;case 25:wn(n,"type",e,t);case 26:return r.abrupt("return",e);case 27:case"end":return r.stop()}}),r)})))()}}}function Bo(e){return{kind:"schema",type:"bigint",reference:Bo,expects:"bigint",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return"bigint"==typeof e.value?e.typed=!0:wn(this,"type",e,t),e}}}function qo(e){return{kind:"schema",type:"blob",reference:qo,expects:"Blob",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return e.value instanceof Blob?e.typed=!0:wn(this,"type",e,t),e}}}function Go(e){return{kind:"schema",type:"boolean",reference:Go,expects:"boolean",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return"boolean"==typeof e.value?e.typed=!0:wn(this,"type",e,t),e}}}function Uo(e,t){return{kind:"schema",type:"custom",reference:Uo,expects:"unknown",async:!1,check:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return this.check(e.value)?e.typed=!0:wn(this,"type",e,t),e}}}function Lo(e,t){return{kind:"schema",type:"custom",reference:Lo,expects:"unknown",async:!0,check:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.check(e.value);case 2:if(!r.sent){r.next=6;break}e.typed=!0,r.next=7;break;case 6:wn(n,"type",e,t);case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}}),r)})))()}}}function zo(e){return{kind:"schema",type:"date",reference:zo,expects:"Date",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return e.value instanceof Date?isNaN(e.value)?wn(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:wn(this,"type",e,t),e}}}function Wo(e,t){var n=[];for(var r in e)"".concat(+r)===r&&"string"==typeof e[r]&&Object.is(e[e[r]],+r)||n.push(e[r]);return{kind:"schema",type:"enum",reference:Wo,expects:Pn(n.map(En),"|"),async:!1,enum:e,options:n,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return this.options.includes(e.value)?e.typed=!0:wn(this,"type",e,t),e}}}function Vo(e,t){return{kind:"schema",type:"exact_optional",reference:Vo,expects:e.expects,async:!1,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return this.wrapped["~run"](e,t)}}}function $o(e,t){return{kind:"schema",type:"exact_optional",reference:$o,expects:e.expects,async:!0,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.wrapped["~run"](e,t));case 1:case"end":return r.stop()}}),r)})))()}}}function Xo(e){return{kind:"schema",type:"file",reference:Xo,expects:"File",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return e.value instanceof File?e.typed=!0:wn(this,"type",e,t),e}}}function Ho(e){return{kind:"schema",type:"function",reference:Ho,expects:"Function",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return"function"==typeof e.value?e.typed=!0:wn(this,"type",e,t),e}}}function Jo(e,t){return{kind:"schema",type:"instance",reference:Jo,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return e.value instanceof this.class?e.typed=!0:wn(this,"type",e,t),e}}}function Yo(e,t){if(a(e)===a(t)){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{value:e};if(e&&t&&e.constructor===Object&&t.constructor===Object){for(var n in t)if(n in e){var r=Yo(e[n],t[n]);if(r.issue)return r;e[n]=r.value}else e[n]=t[n];return{value:e}}if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(var i=0;i<e.length;i++){var o=Yo(e[i],t[i]);if(o.issue)return o;e[i]=o.value}return{value:e}}}return{issue:!0}}function Ko(e,t){return{kind:"schema",type:"intersect",reference:Ko,expects:Pn(e.map((function(e){return e.expects})),"&"),async:!1,options:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){if(this.options.length){var n,r=e.value;e.typed=!0;var i,o=S(this.options);try{for(o.s();!(i=o.n()).done;){var u=i.value["~run"]({value:r},t);if(u.issues){var s;if(e.issues)(s=e.issues).push.apply(s,E(u.issues));else e.issues=u.issues;if(t.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.typed&&(n?n.push(u.value):n=[u.value])}}catch(e){o.e(e)}finally{o.f()}if(e.typed){e.value=n[0];for(var a=1;a<n.length;a++){var c=Yo(e.value,n[a]);if(c.issue){wn(this,"type",e,t,{received:"unknown"});break}e.value=c.value}}}else wn(this,"type",e,t);return e}}}function Zo(e,t){return{kind:"schema",type:"intersect",reference:Zo,expects:Pn(e.map((function(e){return e.expects})),"&"),async:!0,options:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,f,p,l,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.options.length){r.next=42;break}return i=e.value,e.typed=!0,r.next=5,Promise.all(n.options.map((function(e){return e["~run"]({value:i},t)})));case 5:s=r.sent,a=S(s),r.prev=7,a.s();case 9:if((c=a.n()).done){r.next=20;break}if(!(f=c.value).issues){r.next=16;break}if(e.issues?(p=e.issues).push.apply(p,E(f.issues)):e.issues=f.issues,!t.abortEarly){r.next=16;break}return e.typed=!1,r.abrupt("break",20);case 16:f.typed||(e.typed=!1),e.typed&&(o?o.push(f.value):o=[f.value]);case 18:r.next=9;break;case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(7),a.e(r.t0);case 25:return r.prev=25,a.f(),r.finish(25);case 28:if(!e.typed){r.next=40;break}e.value=o[0],l=1;case 31:if(!(l<o.length)){r.next=40;break}if(!(d=Yo(e.value,o[l])).issue){r.next=36;break}return wn(n,"type",e,t,{received:"unknown"}),r.abrupt("break",40);case 36:e.value=d.value;case 37:l++,r.next=31;break;case 40:r.next=43;break;case 42:wn(n,"type",e,t);case 43:return r.abrupt("return",e);case 44:case"end":return r.stop()}}),r,null,[[7,22,25,28]])})))()}}}function Qo(e){return{kind:"schema",type:"lazy",reference:Qo,expects:"unknown",async:!1,getter:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return this.getter(e.value)["~run"](e,t)}}}function eu(e){return{kind:"schema",type:"lazy",reference:eu,expects:"unknown",async:!0,getter:e,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getter(e.value);case 2:return r.abrupt("return",r.sent["~run"](e,t));case 3:case"end":return r.stop()}}),r)})))()}}}function tu(e,t){return{kind:"schema",type:"literal",reference:tu,expects:En(e),async:!1,literal:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return e.value===this.literal?e.typed=!0:wn(this,"type",e,t),e}}}function nu(e,t){return{kind:"schema",type:"loose_object",reference:nu,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n&&"object"===a(n)){for(var r in e.typed=!0,e.value={},this.entries){var i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){var o=r in n?n[r]:_o(i),u=i["~run"]({value:o},t);if(u.issues){var s,c={type:"object",origin:"value",input:n,key:r,value:o},f=S(u.issues);try{for(f.s();!(s=f.n()).done;){var p,l=s.value;l.path?l.path.unshift(c):l.path=[c],null===(p=e.issues)||void 0===p||p.push(l)}}catch(e){f.e(e)}finally{f.f()}if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[r]=u.value}else if(void 0!==i.fallback)e.value[r]=Do(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(wn(this,"key",e,t,{input:void 0,expected:'"'.concat(r,'"'),path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(var d in n)An(n,d)&&!(d in this.entries)&&(e.value[d]=n[d])}else wn(this,"type",e,t);return e}}}function ru(e,t){return{kind:"schema",type:"loose_object",reference:ru,expects:"Object",async:!0,entries:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,c,p,l,d,h,y,v,m,b,g,k,E;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=e.value)||"object"!==a(i)){r.next=48;break}return e.typed=!0,e.value={},r.next=6,Promise.all(Object.entries(n.entries).map(function(){var e=f(u().mark((function e(n){var r,o,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(n,2),o=r[0],s=r[1],!(o in i)&&("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type||void 0===s.default)){e.next=17;break}if(!(o in i)){e.next=6;break}e.t0=i[o],e.next=9;break;case 6:return e.next=8,_o(s);case 8:e.t0=e.sent;case 9:return a=e.t0,e.t1=o,e.t2=a,e.t3=s,e.next=15,s["~run"]({value:a},t);case 15:return e.t4=e.sent,e.abrupt("return",[e.t1,e.t2,e.t3,e.t4]);case 17:return e.abrupt("return",[o,i[o],s,null]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((c=s.n()).done){r.next=37;break}if(p=D(c.value,4),l=p[0],d=p[1],h=p[2],!(y=p[3])){r.next=25;break}if(!y.issues){r.next=21;break}v={type:"object",origin:"value",input:i,key:l,value:d},m=S(y.issues);try{for(m.s();!(b=m.n()).done;)(k=b.value).path?k.path.unshift(v):k.path=[v],null===(g=e.issues)||void 0===g||g.push(k)}catch(e){m.e(e)}finally{m.f()}if(e.issues||(e.issues=y.issues),!t.abortEarly){r.next=21;break}return e.typed=!1,r.abrupt("break",37);case 21:y.typed||(e.typed=!1),e.value[l]=y.value,r.next=35;break;case 25:if(void 0===h.fallback){r.next=31;break}return r.next=28,Do(h);case 28:e.value[l]=r.sent,r.next=35;break;case 31:if("exact_optional"===h.type||"optional"===h.type||"nullish"===h.type){r.next=35;break}if(wn(n,"key",e,t,{input:void 0,expected:'"'.concat(l,'"'),path:[{type:"object",origin:"key",input:i,key:l,value:d}]}),!t.abortEarly){r.next=35;break}return r.abrupt("break",37);case 35:r.next=10;break;case 37:r.next=42;break;case 39:r.prev=39,r.t0=r.catch(8),s.e(r.t0);case 42:return r.prev=42,s.f(),r.finish(42);case 45:if(!e.issues||!t.abortEarly)for(E in i)An(i,E)&&!(E in n.entries)&&(e.value[E]=i[E]);r.next=49;break;case 48:wn(n,"type",e,t);case 49:return r.abrupt("return",e);case 50:case"end":return r.stop()}}),r,null,[[8,39,42,45]])})))()}}}function iu(e,t){return{kind:"schema",type:"loose_tuple",reference:iu,expects:"Array",async:!1,items:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(var r=0;r<this.items.length;r++){var i=n[r],o=this.items[r]["~run"]({value:i},t);if(o.issues){var u,s={type:"array",origin:"value",input:n,key:r,value:i},a=S(o.issues);try{for(a.s();!(u=a.n()).done;){var c,f=u.value;f.path?f.path.unshift(s):f.path=[s],null===(c=e.issues)||void 0===c||c.push(f)}}catch(e){a.e(e)}finally{a.f()}if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}if(!e.issues||!t.abortEarly)for(var p=this.items.length;p<n.length;p++)e.value.push(n[p])}else wn(this,"type",e,t);return e}}}function ou(e,t){return{kind:"schema",type:"loose_tuple",reference:ou,expects:"Array",async:!0,items:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,p,l,d,h,y,v,m,b,g;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.value,!Array.isArray(i)){r.next=35;break}return e.typed=!0,e.value=[],r.next=6,Promise.all(n.items.map(function(){var e=f(u().mark((function e(n,r){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i[r],e.t0=r,e.t1=o,e.next=5,n["~run"]({value:o},t);case 5:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((a=s.n()).done){r.next=24;break}if(c=D(a.value,3),p=c[0],l=c[1],!(d=c[2]).issues){r.next=20;break}h={type:"array",origin:"value",input:i,key:p,value:l},y=S(d.issues);try{for(y.s();!(v=y.n()).done;)(b=v.value).path?b.path.unshift(h):b.path=[h],null===(m=e.issues)||void 0===m||m.push(b)}catch(e){y.e(e)}finally{y.f()}if(e.issues||(e.issues=d.issues),!t.abortEarly){r.next=20;break}return e.typed=!1,r.abrupt("break",24);case 20:d.typed||(e.typed=!1),e.value.push(d.value);case 22:r.next=10;break;case 24:r.next=29;break;case 26:r.prev=26,r.t0=r.catch(8),s.e(r.t0);case 29:return r.prev=29,s.f(),r.finish(29);case 32:if(!e.issues||!t.abortEarly)for(g=n.items.length;g<i.length;g++)e.value.push(i[g]);r.next=36;break;case 35:wn(n,"type",e,t);case 36:return r.abrupt("return",e);case 37:case"end":return r.stop()}}),r,null,[[8,26,29,32]])})))()}}}function uu(e,t,n){return{kind:"schema",type:"map",reference:uu,expects:"Map",async:!1,key:e,value:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n instanceof Map){e.typed=!0,e.value=new Map;var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var o=D(r.value,2),u=o[0],s=o[1],a=this.key["~run"]({value:u},t);if(a.issues){var c,f={type:"map",origin:"key",input:n,key:u,value:s},p=S(a.issues);try{for(p.s();!(c=p.n()).done;){var l,d=c.value;d.path?d.path.unshift(f):d.path=[f],null===(l=e.issues)||void 0===l||l.push(d)}}catch(e){p.e(e)}finally{p.f()}if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}var h=this.value["~run"]({value:s},t);if(h.issues){var y,v={type:"map",origin:"value",input:n,key:u,value:s},m=S(h.issues);try{for(m.s();!(y=m.n()).done;){var b,g=y.value;g.path?g.path.unshift(v):g.path=[v],null===(b=e.issues)||void 0===b||b.push(g)}}catch(e){m.e(e)}finally{m.f()}if(e.issues||(e.issues=h.issues),t.abortEarly){e.typed=!1;break}}a.typed&&h.typed||(e.typed=!1),e.value.set(a.value,h.value)}}catch(e){i.e(e)}finally{i.f()}}else wn(this,"type",e,t);return e}}}function su(e,t,n){return{kind:"schema",type:"map",reference:su,expects:"Map",async:!0,key:e,value:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,f,p,l,d,h,y,v,m,b,g,k,w,x,C;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((i=e.value)instanceof Map)){r.next=42;break}return e.typed=!0,e.value=new Map,r.next=6,Promise.all(E(i).map((function(e){var r=D(e,2),i=r[0],o=r[1];return Promise.all([i,o,n.key["~run"]({value:i},t),n.value["~run"]({value:o},t)])})));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((a=s.n()).done){r.next=32;break}if(c=D(a.value,4),f=c[0],p=c[1],l=c[2],d=c[3],!l.issues){r.next=20;break}h={type:"map",origin:"key",input:i,key:f,value:p},y=S(l.issues);try{for(y.s();!(v=y.n()).done;)(b=v.value).path?b.path.unshift(h):b.path=[h],null===(m=e.issues)||void 0===m||m.push(b)}catch(e){y.e(e)}finally{y.f()}if(e.issues||(e.issues=l.issues),!t.abortEarly){r.next=20;break}return e.typed=!1,r.abrupt("break",32);case 20:if(!d.issues){r.next=28;break}g={type:"map",origin:"value",input:i,key:f,value:p},k=S(d.issues);try{for(k.s();!(w=k.n()).done;)(C=w.value).path?C.path.unshift(g):C.path=[g],null===(x=e.issues)||void 0===x||x.push(C)}catch(e){k.e(e)}finally{k.f()}if(e.issues||(e.issues=d.issues),!t.abortEarly){r.next=28;break}return e.typed=!1,r.abrupt("break",32);case 28:l.typed&&d.typed||(e.typed=!1),e.value.set(l.value,d.value);case 30:r.next=10;break;case 32:r.next=37;break;case 34:r.prev=34,r.t0=r.catch(8),s.e(r.t0);case 37:return r.prev=37,s.f(),r.finish(37);case 40:r.next=43;break;case 42:wn(n,"type",e,t);case 43:return r.abrupt("return",e);case 44:case"end":return r.stop()}}),r,null,[[8,34,37,40]])})))()}}}function au(e){return{kind:"schema",type:"nan",reference:au,expects:"NaN",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return Number.isNaN(e.value)?e.typed=!0:wn(this,"type",e,t),e}}}function cu(e){return{kind:"schema",type:"never",reference:cu,expects:"never",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return wn(this,"type",e,t),e}}}function fu(e,t){return{kind:"schema",type:"non_nullable",reference:fu,expects:"!null",async:!1,wrapped:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return null!==e.value&&(e=this.wrapped["~run"](e,t)),null===e.value&&wn(this,"type",e,t),e}}}function pu(e,t){return{kind:"schema",type:"non_nullable",reference:pu,expects:"!null",async:!0,wrapped:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===e.value){r.next=4;break}return r.next=3,n.wrapped["~run"](e,t);case 3:e=r.sent;case 4:return null===e.value&&wn(n,"type",e,t),r.abrupt("return",e);case 6:case"end":return r.stop()}}),r)})))()}}}function lu(e,t){return{kind:"schema",type:"non_nullish",reference:lu,expects:"(!null & !undefined)",async:!1,wrapped:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return null!==e.value&&void 0!==e.value&&(e=this.wrapped["~run"](e,t)),null!==e.value&&void 0!==e.value||wn(this,"type",e,t),e}}}function du(e,t){return{kind:"schema",type:"non_nullish",reference:du,expects:"(!null & !undefined)",async:!0,wrapped:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===e.value||void 0===e.value){r.next=4;break}return r.next=3,n.wrapped["~run"](e,t);case 3:e=r.sent;case 4:return null!==e.value&&void 0!==e.value||wn(n,"type",e,t),r.abrupt("return",e);case 6:case"end":return r.stop()}}),r)})))()}}}function hu(e,t){return{kind:"schema",type:"non_optional",reference:hu,expects:"!undefined",async:!1,wrapped:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return void 0!==e.value&&(e=this.wrapped["~run"](e,t)),void 0===e.value&&wn(this,"type",e,t),e}}}function yu(e,t){return{kind:"schema",type:"non_optional",reference:yu,expects:"!undefined",async:!0,wrapped:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e.value){r.next=4;break}return r.next=3,n.wrapped["~run"](e,t);case 3:e=r.sent;case 4:return void 0===e.value&&wn(n,"type",e,t),r.abrupt("return",e);case 6:case"end":return r.stop()}}),r)})))()}}}function vu(e){return{kind:"schema",type:"null",reference:vu,expects:"null",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return null===e.value?e.typed=!0:wn(this,"type",e,t),e}}}function mu(e,t){return{kind:"schema",type:"nullable",reference:mu,expects:"(".concat(e.expects," | null)"),async:!1,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return null===e.value&&(void 0!==this.default&&(e.value=_o(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function bu(e,t){return{kind:"schema",type:"nullable",reference:bu,expects:"(".concat(e.expects," | null)"),async:!0,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e.value){r.next=8;break}if(void 0===n.default){r.next=5;break}return r.next=4,_o(n,e,t);case 4:e.value=r.sent;case 5:if(null!==e.value){r.next=8;break}return e.typed=!0,r.abrupt("return",e);case 8:return r.abrupt("return",n.wrapped["~run"](e,t));case 9:case"end":return r.stop()}}),r)})))()}}}function gu(e,t){return{kind:"schema",type:"nullish",reference:gu,expects:"(".concat(e.expects," | null | undefined)"),async:!1,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return null!==e.value&&void 0!==e.value||(void 0!==this.default&&(e.value=_o(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped["~run"](e,t):(e.typed=!0,e)}}}function ku(e,t){return{kind:"schema",type:"nullish",reference:ku,expects:"(".concat(e.expects," | null | undefined)"),async:!0,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e.value&&void 0!==e.value){r.next=8;break}if(void 0===n.default){r.next=5;break}return r.next=4,_o(n,e,t);case 4:e.value=r.sent;case 5:if(null!==e.value&&void 0!==e.value){r.next=8;break}return e.typed=!0,r.abrupt("return",e);case 8:return r.abrupt("return",n.wrapped["~run"](e,t));case 9:case"end":return r.stop()}}),r)})))()}}}function Du(e){return{kind:"schema",type:"number",reference:Du,expects:"number",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return"number"!=typeof e.value||isNaN(e.value)?wn(this,"type",e,t):e.typed=!0,e}}}function Eu(e,t){return{kind:"schema",type:"object",reference:Eu,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n&&"object"===a(n))for(var r in e.typed=!0,e.value={},this.entries){var i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){var o=r in n?n[r]:_o(i),u=i["~run"]({value:o},t);if(u.issues){var s,c={type:"object",origin:"value",input:n,key:r,value:o},f=S(u.issues);try{for(f.s();!(s=f.n()).done;){var p,l=s.value;l.path?l.path.unshift(c):l.path=[c],null===(p=e.issues)||void 0===p||p.push(l)}}catch(e){f.e(e)}finally{f.f()}if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[r]=u.value}else if(void 0!==i.fallback)e.value[r]=Do(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(wn(this,"key",e,t,{input:void 0,expected:'"'.concat(r,'"'),path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}else wn(this,"type",e,t);return e}}}function wu(e,t){return{kind:"schema",type:"object",reference:wu,expects:"Object",async:!0,entries:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,c,p,l,d,h,y,v,m,b,g,k;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=e.value)||"object"!==a(i)){r.next=47;break}return e.typed=!0,e.value={},r.next=6,Promise.all(Object.entries(n.entries).map(function(){var e=f(u().mark((function e(n){var r,o,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(n,2),o=r[0],s=r[1],!(o in i)&&("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type||void 0===s.default)){e.next=17;break}if(!(o in i)){e.next=6;break}e.t0=i[o],e.next=9;break;case 6:return e.next=8,_o(s);case 8:e.t0=e.sent;case 9:return a=e.t0,e.t1=o,e.t2=a,e.t3=s,e.next=15,s["~run"]({value:a},t);case 15:return e.t4=e.sent,e.abrupt("return",[e.t1,e.t2,e.t3,e.t4]);case 17:return e.abrupt("return",[o,i[o],s,null]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((c=s.n()).done){r.next=37;break}if(p=D(c.value,4),l=p[0],d=p[1],h=p[2],!(y=p[3])){r.next=25;break}if(!y.issues){r.next=21;break}v={type:"object",origin:"value",input:i,key:l,value:d},m=S(y.issues);try{for(m.s();!(b=m.n()).done;)(k=b.value).path?k.path.unshift(v):k.path=[v],null===(g=e.issues)||void 0===g||g.push(k)}catch(e){m.e(e)}finally{m.f()}if(e.issues||(e.issues=y.issues),!t.abortEarly){r.next=21;break}return e.typed=!1,r.abrupt("break",37);case 21:y.typed||(e.typed=!1),e.value[l]=y.value,r.next=35;break;case 25:if(void 0===h.fallback){r.next=31;break}return r.next=28,Do(h);case 28:e.value[l]=r.sent,r.next=35;break;case 31:if("exact_optional"===h.type||"optional"===h.type||"nullish"===h.type){r.next=35;break}if(wn(n,"key",e,t,{input:void 0,expected:'"'.concat(l,'"'),path:[{type:"object",origin:"key",input:i,key:l,value:d}]}),!t.abortEarly){r.next=35;break}return r.abrupt("break",37);case 35:r.next=10;break;case 37:r.next=42;break;case 39:r.prev=39,r.t0=r.catch(8),s.e(r.t0);case 42:return r.prev=42,s.f(),r.finish(42);case 45:r.next=48;break;case 47:wn(n,"type",e,t);case 48:return r.abrupt("return",e);case 49:case"end":return r.stop()}}),r,null,[[8,39,42,45]])})))()}}}function xu(e,t,n){return{kind:"schema",type:"object_with_rest",reference:xu,expects:"Object",async:!1,entries:e,rest:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n&&"object"===a(n)){for(var r in e.typed=!0,e.value={},this.entries){var i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){var o=r in n?n[r]:_o(i),u=i["~run"]({value:o},t);if(u.issues){var s,c={type:"object",origin:"value",input:n,key:r,value:o},f=S(u.issues);try{for(f.s();!(s=f.n()).done;){var p,l=s.value;l.path?l.path.unshift(c):l.path=[c],null===(p=e.issues)||void 0===p||p.push(l)}}catch(e){f.e(e)}finally{f.f()}if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[r]=u.value}else if(void 0!==i.fallback)e.value[r]=Do(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(wn(this,"key",e,t,{input:void 0,expected:'"'.concat(r,'"'),path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(var d in n)if(An(n,d)&&!(d in this.entries)){var h=this.rest["~run"]({value:n[d]},t);if(h.issues){var y,v={type:"object",origin:"value",input:n,key:d,value:n[d]},m=S(h.issues);try{for(m.s();!(y=m.n()).done;){var b,g=y.value;g.path?g.path.unshift(v):g.path=[v],null===(b=e.issues)||void 0===b||b.push(g)}}catch(e){m.e(e)}finally{m.f()}if(e.issues||(e.issues=h.issues),t.abortEarly){e.typed=!1;break}}h.typed||(e.typed=!1),e.value[d]=h.value}}else wn(this,"type",e,t);return e}}}function Su(e,t,n){return{kind:"schema",type:"object_with_rest",reference:Su,expects:"Object",async:!0,entries:e,rest:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,c,p,l,d,h,y,v,m,b,g,k,E,w,x,C,_,O,N,A,P,F,I,T,M,R;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=e.value)||"object"!==a(i)){r.next=76;break}return e.typed=!0,e.value={},r.next=6,Promise.all([Promise.all(Object.entries(n.entries).map(function(){var e=f(u().mark((function e(n){var r,o,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(n,2),o=r[0],s=r[1],!(o in i)&&("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type||void 0===s.default)){e.next=17;break}if(!(o in i)){e.next=6;break}e.t0=i[o],e.next=9;break;case 6:return e.next=8,_o(s);case 8:e.t0=e.sent;case 9:return a=e.t0,e.t1=o,e.t2=a,e.t3=s,e.next=15,s["~run"]({value:a},t);case 15:return e.t4=e.sent,e.abrupt("return",[e.t1,e.t2,e.t3,e.t4]);case 17:return e.abrupt("return",[o,i[o],s,null]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),Promise.all(Object.entries(i).filter((function(e){var t=D(e,1)[0];return An(i,t)&&!(t in n.entries)})).map(function(){var e=f(u().mark((function e(r){var i,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=D(r,2),o=i[0],s=i[1],e.t0=o,e.t1=s,e.next=5,n.rest["~run"]({value:s},t);case 5:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))]);case 6:o=r.sent,s=D(o,2),c=s[0],p=s[1],l=S(c),r.prev=11,l.s();case 13:if((d=l.n()).done){r.next=40;break}if(h=D(d.value,4),y=h[0],v=h[1],m=h[2],!(b=h[3])){r.next=28;break}if(!b.issues){r.next=24;break}g={type:"object",origin:"value",input:i,key:y,value:v},k=S(b.issues);try{for(k.s();!(E=k.n()).done;)(x=E.value).path?x.path.unshift(g):x.path=[g],null===(w=e.issues)||void 0===w||w.push(x)}catch(e){k.e(e)}finally{k.f()}if(e.issues||(e.issues=b.issues),!t.abortEarly){r.next=24;break}return e.typed=!1,r.abrupt("break",40);case 24:b.typed||(e.typed=!1),e.value[y]=b.value,r.next=38;break;case 28:if(void 0===m.fallback){r.next=34;break}return r.next=31,Do(m);case 31:e.value[y]=r.sent,r.next=38;break;case 34:if("exact_optional"===m.type||"optional"===m.type||"nullish"===m.type){r.next=38;break}if(wn(n,"key",e,t,{input:void 0,expected:'"'.concat(y,'"'),path:[{type:"object",origin:"key",input:i,key:y,value:v}]}),!t.abortEarly){r.next=38;break}return r.abrupt("break",40);case 38:r.next=13;break;case 40:r.next=45;break;case 42:r.prev=42,r.t0=r.catch(11),l.e(r.t0);case 45:return r.prev=45,l.f(),r.finish(45);case 48:if(e.issues&&t.abortEarly){r.next=74;break}C=S(p),r.prev=50,C.s();case 52:if((_=C.n()).done){r.next=66;break}if(O=D(_.value,3),N=O[0],A=O[1],!(P=O[2]).issues){r.next=62;break}F={type:"object",origin:"value",input:i,key:N,value:A},I=S(P.issues);try{for(I.s();!(T=I.n()).done;)(R=T.value).path?R.path.unshift(F):R.path=[F],null===(M=e.issues)||void 0===M||M.push(R)}catch(e){I.e(e)}finally{I.f()}if(e.issues||(e.issues=P.issues),!t.abortEarly){r.next=62;break}return e.typed=!1,r.abrupt("break",66);case 62:P.typed||(e.typed=!1),e.value[N]=P.value;case 64:r.next=52;break;case 66:r.next=71;break;case 68:r.prev=68,r.t1=r.catch(50),C.e(r.t1);case 71:return r.prev=71,C.f(),r.finish(71);case 74:r.next=77;break;case 76:wn(n,"type",e,t);case 77:return r.abrupt("return",e);case 78:case"end":return r.stop()}}),r,null,[[11,42,45,48],[50,68,71,74]])})))()}}}function Cu(e,t){return{kind:"schema",type:"optional",reference:Cu,expects:"(".concat(e.expects," | undefined)"),async:!1,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=_o(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function _u(e,t){return{kind:"schema",type:"optional",reference:_u,expects:"(".concat(e.expects," | undefined)"),async:!0,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==e.value){r.next=8;break}if(void 0===n.default){r.next=5;break}return r.next=4,_o(n,e,t);case 4:e.value=r.sent;case 5:if(void 0!==e.value){r.next=8;break}return e.typed=!0,r.abrupt("return",e);case 8:return r.abrupt("return",n.wrapped["~run"](e,t));case 9:case"end":return r.stop()}}),r)})))()}}}function Ou(e,t){return{kind:"schema",type:"picklist",reference:Ou,expects:Pn(e.map(En),"|"),async:!1,options:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return this.options.includes(e.value)?e.typed=!0:wn(this,"type",e,t),e}}}function Nu(e){return{kind:"schema",type:"promise",reference:Nu,expects:"Promise",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return e.value instanceof Promise?e.typed=!0:wn(this,"type",e,t),e}}}function Au(e,t,n){return{kind:"schema",type:"record",reference:Au,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n&&"object"===a(n)){for(var r in e.typed=!0,e.value={},n)if(An(n,r)){var i=n[r],o=this.key["~run"]({value:r},t);if(o.issues){var u,s={type:"object",origin:"key",input:n,key:r,value:i},c=S(o.issues);try{for(c.s();!(u=c.n()).done;){var f,p=u.value;p.path=[s],null===(f=e.issues)||void 0===f||f.push(p)}}catch(e){c.e(e)}finally{c.f()}if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}var l=this.value["~run"]({value:i},t);if(l.issues){var d,h={type:"object",origin:"value",input:n,key:r,value:i},y=S(l.issues);try{for(y.s();!(d=y.n()).done;){var v,m=d.value;m.path?m.path.unshift(h):m.path=[h],null===(v=e.issues)||void 0===v||v.push(m)}}catch(e){y.e(e)}finally{y.f()}if(e.issues||(e.issues=l.issues),t.abortEarly){e.typed=!1;break}}o.typed&&l.typed||(e.typed=!1),o.typed&&(e.value[o.value]=l.value)}}else wn(this,"type",e,t);return e}}}function Pu(e,t,n){return{kind:"schema",type:"record",reference:Pu,expects:"Object",async:!0,key:e,value:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,c,f,p,l,d,h,y,v,m,b,g,k,E,w,x,C;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=e.value)||"object"!==a(i)){r.next=42;break}return e.typed=!0,e.value={},r.next=6,Promise.all(Object.entries(i).filter((function(e){var t=D(e,1)[0];return An(i,t)})).map((function(e){var r=D(e,2),i=r[0],o=r[1];return Promise.all([i,o,n.key["~run"]({value:i},t),n.value["~run"]({value:o},t)])})));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((c=s.n()).done){r.next=32;break}if(f=D(c.value,4),p=f[0],l=f[1],d=f[2],h=f[3],!d.issues){r.next=20;break}y={type:"object",origin:"key",input:i,key:p,value:l},v=S(d.issues);try{for(v.s();!(m=v.n()).done;)(g=m.value).path=[y],null===(b=e.issues)||void 0===b||b.push(g)}catch(e){v.e(e)}finally{v.f()}if(e.issues||(e.issues=d.issues),!t.abortEarly){r.next=20;break}return e.typed=!1,r.abrupt("break",32);case 20:if(!h.issues){r.next=28;break}k={type:"object",origin:"value",input:i,key:p,value:l},E=S(h.issues);try{for(E.s();!(w=E.n()).done;)(C=w.value).path?C.path.unshift(k):C.path=[k],null===(x=e.issues)||void 0===x||x.push(C)}catch(e){E.e(e)}finally{E.f()}if(e.issues||(e.issues=h.issues),!t.abortEarly){r.next=28;break}return e.typed=!1,r.abrupt("break",32);case 28:d.typed&&h.typed||(e.typed=!1),d.typed&&(e.value[d.value]=h.value);case 30:r.next=10;break;case 32:r.next=37;break;case 34:r.prev=34,r.t0=r.catch(8),s.e(r.t0);case 37:return r.prev=37,s.f(),r.finish(37);case 40:r.next=43;break;case 42:wn(n,"type",e,t);case 43:return r.abrupt("return",e);case 44:case"end":return r.stop()}}),r,null,[[8,34,37,40]])})))()}}}function Fu(e,t){return{kind:"schema",type:"set",reference:Fu,expects:"Set",async:!1,value:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n instanceof Set){e.typed=!0,e.value=new Set;var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=this.value["~run"]({value:o},t);if(u.issues){var s,a={type:"set",origin:"value",input:n,key:null,value:o},c=S(u.issues);try{for(c.s();!(s=c.n()).done;){var f,p=s.value;p.path?p.path.unshift(a):p.path=[a],null===(f=e.issues)||void 0===f||f.push(p)}}catch(e){c.e(e)}finally{c.f()}if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value.add(u.value)}}catch(e){i.e(e)}finally{i.f()}}else wn(this,"type",e,t);return e}}}function Iu(e,t){return{kind:"schema",type:"set",reference:Iu,expects:"Set",async:!0,value:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,p,l,d,h,y,v,m;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((i=e.value)instanceof Set)){r.next=34;break}return e.typed=!0,e.value=new Set,r.next=6,Promise.all(E(i).map(function(){var e=f(u().mark((function e(r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,n.value["~run"]({value:r},t);case 3:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((a=s.n()).done){r.next=24;break}if(c=D(a.value,2),p=c[0],!(l=c[1]).issues){r.next=20;break}d={type:"set",origin:"value",input:i,key:null,value:p},h=S(l.issues);try{for(h.s();!(y=h.n()).done;)(m=y.value).path?m.path.unshift(d):m.path=[d],null===(v=e.issues)||void 0===v||v.push(m)}catch(e){h.e(e)}finally{h.f()}if(e.issues||(e.issues=l.issues),!t.abortEarly){r.next=20;break}return e.typed=!1,r.abrupt("break",24);case 20:l.typed||(e.typed=!1),e.value.add(l.value);case 22:r.next=10;break;case 24:r.next=29;break;case 26:r.prev=26,r.t0=r.catch(8),s.e(r.t0);case 29:return r.prev=29,s.f(),r.finish(29);case 32:r.next=35;break;case 34:wn(n,"type",e,t);case 35:return r.abrupt("return",e);case 36:case"end":return r.stop()}}),r,null,[[8,26,29,32]])})))()}}}function Tu(e,t){return{kind:"schema",type:"strict_object",reference:Tu,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n&&"object"===a(n)){for(var r in e.typed=!0,e.value={},this.entries){var i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){var o=r in n?n[r]:_o(i),u=i["~run"]({value:o},t);if(u.issues){var s,c={type:"object",origin:"value",input:n,key:r,value:o},f=S(u.issues);try{for(f.s();!(s=f.n()).done;){var p,l=s.value;l.path?l.path.unshift(c):l.path=[c],null===(p=e.issues)||void 0===p||p.push(l)}}catch(e){f.e(e)}finally{f.f()}if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}u.typed||(e.typed=!1),e.value[r]=u.value}else if(void 0!==i.fallback)e.value[r]=Do(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(wn(this,"key",e,t,{input:void 0,expected:'"'.concat(r,'"'),path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(var d in n)if(!(d in this.entries)){wn(this,"key",e,t,{input:d,expected:"never",path:[{type:"object",origin:"key",input:n,key:d,value:n[d]}]});break}}else wn(this,"type",e,t);return e}}}function Mu(e,t){return{kind:"schema",type:"strict_object",reference:Mu,expects:"Object",async:!0,entries:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,c,p,l,d,h,y,v,m,b,g,k,E;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=e.value)||"object"!==a(i)){r.next=56;break}return e.typed=!0,e.value={},r.next=6,Promise.all(Object.entries(n.entries).map(function(){var e=f(u().mark((function e(n){var r,o,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(n,2),o=r[0],s=r[1],!(o in i)&&("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type||void 0===s.default)){e.next=17;break}if(!(o in i)){e.next=6;break}e.t0=i[o],e.next=9;break;case 6:return e.next=8,_o(s);case 8:e.t0=e.sent;case 9:return a=e.t0,e.t1=o,e.t2=a,e.t3=s,e.next=15,s["~run"]({value:a},t);case 15:return e.t4=e.sent,e.abrupt("return",[e.t1,e.t2,e.t3,e.t4]);case 17:return e.abrupt("return",[o,i[o],s,null]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((c=s.n()).done){r.next=37;break}if(p=D(c.value,4),l=p[0],d=p[1],h=p[2],!(y=p[3])){r.next=25;break}if(!y.issues){r.next=21;break}v={type:"object",origin:"value",input:i,key:l,value:d},m=S(y.issues);try{for(m.s();!(b=m.n()).done;)(k=b.value).path?k.path.unshift(v):k.path=[v],null===(g=e.issues)||void 0===g||g.push(k)}catch(e){m.e(e)}finally{m.f()}if(e.issues||(e.issues=y.issues),!t.abortEarly){r.next=21;break}return e.typed=!1,r.abrupt("break",37);case 21:y.typed||(e.typed=!1),e.value[l]=y.value,r.next=35;break;case 25:if(void 0===h.fallback){r.next=31;break}return r.next=28,Do(h);case 28:e.value[l]=r.sent,r.next=35;break;case 31:if("exact_optional"===h.type||"optional"===h.type||"nullish"===h.type){r.next=35;break}if(wn(n,"key",e,t,{input:void 0,expected:'"'.concat(l,'"'),path:[{type:"object",origin:"key",input:i,key:l,value:d}]}),!t.abortEarly){r.next=35;break}return r.abrupt("break",37);case 35:r.next=10;break;case 37:r.next=42;break;case 39:r.prev=39,r.t0=r.catch(8),s.e(r.t0);case 42:return r.prev=42,s.f(),r.finish(42);case 45:if(e.issues&&t.abortEarly){r.next=54;break}r.t1=u().keys(i);case 47:if((r.t2=r.t1()).done){r.next=54;break}if((E=r.t2.value)in n.entries){r.next=52;break}return wn(n,"key",e,t,{input:E,expected:"never",path:[{type:"object",origin:"key",input:i,key:E,value:i[E]}]}),r.abrupt("break",54);case 52:r.next=47;break;case 54:r.next=57;break;case 56:wn(n,"type",e,t);case 57:return r.abrupt("return",e);case 58:case"end":return r.stop()}}),r,null,[[8,39,42,45]])})))()}}}function Ru(e,t){return{kind:"schema",type:"strict_tuple",reference:Ru,expects:"Array",async:!1,items:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(var r=0;r<this.items.length;r++){var i=n[r],o=this.items[r]["~run"]({value:i},t);if(o.issues){var u,s={type:"array",origin:"value",input:n,key:r,value:i},a=S(o.issues);try{for(a.s();!(u=a.n()).done;){var c,f=u.value;f.path?f.path.unshift(s):f.path=[s],null===(c=e.issues)||void 0===c||c.push(f)}}catch(e){a.e(e)}finally{a.f()}if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}e.issues&&t.abortEarly||!(this.items.length<n.length)||wn(this,"type",e,t,{input:n[this.items.length],expected:"never",path:[{type:"array",origin:"value",input:n,key:this.items.length,value:n[this.items.length]}]})}else wn(this,"type",e,t);return e}}}function ju(e,t){return{kind:"schema",type:"strict_tuple",reference:ju,expects:"Array",async:!0,items:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,p,l,d,h,y,v,m,b;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.value,!Array.isArray(i)){r.next=35;break}return e.typed=!0,e.value=[],r.next=6,Promise.all(n.items.map(function(){var e=f(u().mark((function e(n,r){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i[r],e.t0=r,e.t1=o,e.next=5,n["~run"]({value:o},t);case 5:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((a=s.n()).done){r.next=24;break}if(c=D(a.value,3),p=c[0],l=c[1],!(d=c[2]).issues){r.next=20;break}h={type:"array",origin:"value",input:i,key:p,value:l},y=S(d.issues);try{for(y.s();!(v=y.n()).done;)(b=v.value).path?b.path.unshift(h):b.path=[h],null===(m=e.issues)||void 0===m||m.push(b)}catch(e){y.e(e)}finally{y.f()}if(e.issues||(e.issues=d.issues),!t.abortEarly){r.next=20;break}return e.typed=!1,r.abrupt("break",24);case 20:d.typed||(e.typed=!1),e.value.push(d.value);case 22:r.next=10;break;case 24:r.next=29;break;case 26:r.prev=26,r.t0=r.catch(8),s.e(r.t0);case 29:return r.prev=29,s.f(),r.finish(29);case 32:e.issues&&t.abortEarly||!(n.items.length<i.length)||wn(n,"type",e,t,{input:i[n.items.length],expected:"never",path:[{type:"array",origin:"value",input:i,key:n.items.length,value:i[n.items.length]}]}),r.next=36;break;case 35:wn(n,"type",e,t);case 36:return r.abrupt("return",e);case 37:case"end":return r.stop()}}),r,null,[[8,26,29,32]])})))()}}}function Bu(e){return{kind:"schema",type:"string",reference:Bu,expects:"string",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return"string"==typeof e.value?e.typed=!0:wn(this,"type",e,t),e}}}function qu(e){return{kind:"schema",type:"symbol",reference:qu,expects:"symbol",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return"symbol"===a(e.value)?e.typed=!0:wn(this,"type",e,t),e}}}function Gu(e,t){return{kind:"schema",type:"tuple",reference:Gu,expects:"Array",async:!1,items:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(var r=0;r<this.items.length;r++){var i=n[r],o=this.items[r]["~run"]({value:i},t);if(o.issues){var u,s={type:"array",origin:"value",input:n,key:r,value:i},a=S(o.issues);try{for(a.s();!(u=a.n()).done;){var c,f=u.value;f.path?f.path.unshift(s):f.path=[s],null===(c=e.issues)||void 0===c||c.push(f)}}catch(e){a.e(e)}finally{a.f()}if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}}else wn(this,"type",e,t);return e}}}function Uu(e,t){return{kind:"schema",type:"tuple",reference:Uu,expects:"Array",async:!0,items:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,p,l,d,h,y,v,m,b;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.value,!Array.isArray(i)){r.next=34;break}return e.typed=!0,e.value=[],r.next=6,Promise.all(n.items.map(function(){var e=f(u().mark((function e(n,r){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i[r],e.t0=r,e.t1=o,e.next=5,n["~run"]({value:o},t);case 5:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:o=r.sent,s=S(o),r.prev=8,s.s();case 10:if((a=s.n()).done){r.next=24;break}if(c=D(a.value,3),p=c[0],l=c[1],!(d=c[2]).issues){r.next=20;break}h={type:"array",origin:"value",input:i,key:p,value:l},y=S(d.issues);try{for(y.s();!(v=y.n()).done;)(b=v.value).path?b.path.unshift(h):b.path=[h],null===(m=e.issues)||void 0===m||m.push(b)}catch(e){y.e(e)}finally{y.f()}if(e.issues||(e.issues=d.issues),!t.abortEarly){r.next=20;break}return e.typed=!1,r.abrupt("break",24);case 20:d.typed||(e.typed=!1),e.value.push(d.value);case 22:r.next=10;break;case 24:r.next=29;break;case 26:r.prev=26,r.t0=r.catch(8),s.e(r.t0);case 29:return r.prev=29,s.f(),r.finish(29);case 32:r.next=35;break;case 34:wn(n,"type",e,t);case 35:return r.abrupt("return",e);case 36:case"end":return r.stop()}}),r,null,[[8,26,29,32]])})))()}}}function Lu(e,t,n){return{kind:"schema",type:"tuple_with_rest",reference:Lu,expects:"Array",async:!1,items:e,rest:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(var r=0;r<this.items.length;r++){var i=n[r],o=this.items[r]["~run"]({value:i},t);if(o.issues){var u,s={type:"array",origin:"value",input:n,key:r,value:i},a=S(o.issues);try{for(a.s();!(u=a.n()).done;){var c,f=u.value;f.path?f.path.unshift(s):f.path=[s],null===(c=e.issues)||void 0===c||c.push(f)}}catch(e){a.e(e)}finally{a.f()}if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}if(!e.issues||!t.abortEarly)for(var p=this.items.length;p<n.length;p++){var l=n[p],d=this.rest["~run"]({value:l},t);if(d.issues){var h,y={type:"array",origin:"value",input:n,key:p,value:l},v=S(d.issues);try{for(v.s();!(h=v.n()).done;){var m,b=h.value;b.path?b.path.unshift(y):b.path=[y],null===(m=e.issues)||void 0===m||m.push(b)}}catch(e){v.e(e)}finally{v.f()}if(e.issues||(e.issues=d.issues),t.abortEarly){e.typed=!1;break}}d.typed||(e.typed=!1),e.value.push(d.value)}}else wn(this,"type",e,t);return e}}}function zu(e,t,n){return{kind:"schema",type:"tuple_with_rest",reference:zu,expects:"Array",async:!0,items:e,rest:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,p,l,d,h,y,v,m,b,g,k,E,w,x,C,_,O,N,A,P,F,I,T;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.value,!Array.isArray(i)){r.next=63;break}return e.typed=!0,e.value=[],r.next=6,Promise.all([Promise.all(n.items.map(function(){var e=f(u().mark((function e(n,r){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i[r],e.t0=r,e.t1=o,e.next=5,n["~run"]({value:o},t);case 5:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),Promise.all(i.slice(n.items.length).map(function(){var e=f(u().mark((function e(r,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i+n.items.length,e.t1=r,e.next=4,n.rest["~run"]({value:r},t);case 4:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))]);case 6:o=r.sent,s=D(o,2),a=s[0],c=s[1],p=S(a),r.prev=11,p.s();case 13:if((l=p.n()).done){r.next=27;break}if(d=D(l.value,3),h=d[0],y=d[1],!(v=d[2]).issues){r.next=23;break}m={type:"array",origin:"value",input:i,key:h,value:y},b=S(v.issues);try{for(b.s();!(g=b.n()).done;)(E=g.value).path?E.path.unshift(m):E.path=[m],null===(k=e.issues)||void 0===k||k.push(E)}catch(e){b.e(e)}finally{b.f()}if(e.issues||(e.issues=v.issues),!t.abortEarly){r.next=23;break}return e.typed=!1,r.abrupt("break",27);case 23:v.typed||(e.typed=!1),e.value.push(v.value);case 25:r.next=13;break;case 27:r.next=32;break;case 29:r.prev=29,r.t0=r.catch(11),p.e(r.t0);case 32:return r.prev=32,p.f(),r.finish(32);case 35:if(e.issues&&t.abortEarly){r.next=61;break}w=S(c),r.prev=37,w.s();case 39:if((x=w.n()).done){r.next=53;break}if(C=D(x.value,3),_=C[0],O=C[1],!(N=C[2]).issues){r.next=49;break}A={type:"array",origin:"value",input:i,key:_,value:O},P=S(N.issues);try{for(P.s();!(F=P.n()).done;)(T=F.value).path?T.path.unshift(A):T.path=[A],null===(I=e.issues)||void 0===I||I.push(T)}catch(e){P.e(e)}finally{P.f()}if(e.issues||(e.issues=N.issues),!t.abortEarly){r.next=49;break}return e.typed=!1,r.abrupt("break",53);case 49:N.typed||(e.typed=!1),e.value.push(N.value);case 51:r.next=39;break;case 53:r.next=58;break;case 55:r.prev=55,r.t1=r.catch(37),w.e(r.t1);case 58:return r.prev=58,w.f(),r.finish(58);case 61:r.next=64;break;case 63:wn(n,"type",e,t);case 64:return r.abrupt("return",e);case 65:case"end":return r.stop()}}),r,null,[[11,29,32,35],[37,55,58,61]])})))()}}}function Wu(e){return{kind:"schema",type:"undefined",reference:Wu,expects:"undefined",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return void 0===e.value?e.typed=!0:wn(this,"type",e,t),e}}}function Vu(e,t){return{kind:"schema",type:"undefinedable",reference:Vu,expects:"(".concat(e.expects," | undefined)"),async:!1,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=_o(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function $u(e,t){return{kind:"schema",type:"undefinedable",reference:$u,expects:"(".concat(e.expects," | undefined)"),async:!0,wrapped:e,default:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==e.value){r.next=8;break}if(void 0===n.default){r.next=5;break}return r.next=4,_o(n,e,t);case 4:e.value=r.sent;case 5:if(void 0!==e.value){r.next=8;break}return e.typed=!0,r.abrupt("return",e);case 8:return r.abrupt("return",n.wrapped["~run"](e,t));case 9:case"end":return r.stop()}}),r)})))()}}}function Xu(e){var t;if(e){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value;if(t)(i=t).push.apply(i,E(o.issues));else t=o.issues}}catch(e){r.e(e)}finally{r.f()}}return t}function Hu(e,t){return{kind:"schema",type:"union",reference:Hu,expects:Pn(e.map((function(e){return e.expects})),"|"),async:!1,options:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n,r,i,o,u,s=S(this.options);try{for(s.s();!(u=s.n()).done;){var a=u.value["~run"]({value:e.value},t);if(a.typed){if(!a.issues){r=a;break}i?i.push(a):i=[a]}else o?o.push(a):o=[a]}}catch(e){s.e(e)}finally{s.f()}if(r)return r;if(i){if(1===i.length)return i[0];wn(this,"type",e,t,{issues:Xu(i)}),e.typed=!0}else{if(1===(null===(n=o)||void 0===n?void 0:n.length))return o[0];wn(this,"type",e,t,{issues:Xu(o)})}return e}}}function Ju(e,t){return{kind:"schema",type:"union",reference:Ju,expects:Pn(e.map((function(e){return e.expects})),"|"),async:!0,options:e,message:t,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,a,c,f,p,l;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c=S(n.options),r.prev=1,c.s();case 3:if((f=c.n()).done){r.next=20;break}return p=f.value,r.next=7,p["~run"]({value:e.value},t);case 7:if(!(l=r.sent).typed){r.next=17;break}if(!l.issues){r.next=13;break}s?s.push(l):s=[l],r.next=15;break;case 13:return o=l,r.abrupt("break",20);case 15:r.next=18;break;case 17:a?a.push(l):a=[l];case 18:r.next=3;break;case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(1),c.e(r.t0);case 25:return r.prev=25,c.f(),r.finish(25);case 28:if(!o){r.next=30;break}return r.abrupt("return",o);case 30:if(!s){r.next=37;break}if(1!==s.length){r.next=33;break}return r.abrupt("return",s[0]);case 33:wn(n,"type",e,t,{issues:Xu(s)}),e.typed=!0,r.next=42;break;case 37:if(1!==(null===(i=a)||void 0===i?void 0:i.length)){r.next=41;break}return r.abrupt("return",a[0]);case 41:wn(n,"type",e,t,{issues:Xu(a)});case 42:return r.abrupt("return",e);case 43:case"end":return r.stop()}}),r,null,[[1,22,25,28]])})))()}}}function Yu(){return{kind:"schema",type:"unknown",reference:Yu,expects:"unknown",async:!1,get"~standard"(){return Cn(this)},"~run":function(e){return e.typed=!0,e}}}function Ku(e,t,n){return{kind:"schema",type:"variant",reference:Ku,expects:"Object",async:!1,key:e,options:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=e.value;if(n&&"object"===a(n)){var r,i=0,o=this.key,u=[];if(function e(s,a){var c,f=S(s.options);try{for(f.s();!(c=f.n()).done;){var p=c.value;if("variant"===p.type)e(p,new Set(a).add(p.key));else{var l,d=!0,h=0,y=S(a);try{for(y.s();!(l=y.n()).done;){var v=l.value,m=p.entries[v];if(v in n?m["~run"]({typed:!1,value:n[v]},t).issues:"exact_optional"!==m.type&&"optional"!==m.type&&"nullish"!==m.type){d=!1,o!==v&&(i<h||i===h&&v in n&&!(o in n))&&(i=h,o=v,u=[]),o===v&&u.push(p.entries[v].expects);break}h++}}catch(e){y.e(e)}finally{y.f()}if(d){var b=p["~run"]({value:n},t);(!r||!r.typed&&b.typed)&&(r=b)}}if(r&&!r.issues)break}}catch(e){f.e(e)}finally{f.f()}}(this,new Set([this.key])),r)return r;wn(this,"type",e,t,{input:n[o],expected:Pn(u,"|"),path:[{type:"object",origin:"value",input:n,key:o,value:n[o]}]})}else wn(this,"type",e,t);return e}}}function Zu(e,t,n){return{kind:"schema",type:"variant",reference:Zu,expects:"Object",async:!0,key:e,options:t,message:n,get"~standard"(){return Cn(this)},"~run":function(e,t){var n=this;return f(u().mark((function r(){var i,o,s,c,p,l;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=e.value)||"object"!==a(i)){r.next=13;break}return s=0,c=n.key,p=[],l=function(){var e=f(u().mark((function e(n,r){var a,f,d,h,y,v,m,b,g,k;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=S(n.options),e.prev=1,a.s();case 3:if((f=a.n()).done){e.next=50;break}if("variant"!==(d=f.value).type){e.next=10;break}return e.next=8,l(d,new Set(r).add(d.key));case 8:e.next=46;break;case 10:h=!0,y=0,v=S(r),e.prev=13,v.s();case 15:if((m=v.n()).done){e.next=33;break}if(b=m.value,g=d.entries[b],!(b in i)){e.next=24;break}return e.next=21,g["~run"]({typed:!1,value:i[b]},t);case 21:e.t0=e.sent.issues,e.next=25;break;case 24:e.t0="exact_optional"!==g.type&&"optional"!==g.type&&"nullish"!==g.type;case 25:if(!e.t0){e.next=30;break}return h=!1,c!==b&&(s<y||s===y&&b in i&&!(c in i))&&(s=y,c=b,p=[]),c===b&&p.push(d.entries[b].expects),e.abrupt("break",33);case 30:y++;case 31:e.next=15;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(13),v.e(e.t1);case 38:return e.prev=38,v.f(),e.finish(38);case 41:if(!h){e.next=46;break}return e.next=44,d["~run"]({value:i},t);case 44:k=e.sent,(!o||!o.typed&&k.typed)&&(o=k);case 46:if(!o||o.issues){e.next=48;break}return e.abrupt("break",50);case 48:e.next=3;break;case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(1),a.e(e.t2);case 55:return e.prev=55,a.f(),e.finish(55);case 58:case"end":return e.stop()}}),e,null,[[1,52,55,58],[13,35,38,41]])})));return function(t,n){return e.apply(this,arguments)}}(),r.next=8,l(n,new Set([n.key]));case 8:if(!o){r.next=10;break}return r.abrupt("return",o);case 10:wn(n,"type",e,t,{input:i[c],expected:Pn(p,"|"),path:[{type:"object",origin:"value",input:i,key:c,value:i[c]}]}),r.next=14;break;case 13:wn(n,"type",e,t);case 14:return r.abrupt("return",e);case 15:case"end":return r.stop()}}),r)})))()}}}function Qu(e){return{kind:"schema",type:"void",reference:Qu,expects:"void",async:!1,message:e,get"~standard"(){return Cn(this)},"~run":function(e,t){return void 0===e.value?e.typed=!0:wn(this,"type",e,t),e}}}function es(e,t){return Ou(Object.keys(e.entries),t)}function ts(e,t){var n,r=o({},e.entries),i=S(t);try{for(i.s();!(n=i.n()).done;){delete r[n.value]}}catch(e){i.e(e)}finally{i.f()}return o(o({},e),{},{entries:r,get"~standard"(){return Cn(this)}})}function ns(e,t,n){var r=e["~run"]({value:t},pn(n));if(r.issues)throw new Bn(r.issues);return r.value}function rs(e,t,n){return is.apply(this,arguments)}function is(){return(is=f(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t["~run"]({value:n},pn(r));case 2:if(!(i=e.sent).issues){e.next=5;break}throw new Bn(i.issues);case 5:return e.abrupt("return",i.value);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t){var n=function(n){return ns(e,n,t)};return n.schema=e,n.config=t,n}function us(e,t){var n=function(n){return rs(e,n,t)};return n.schema=e,n.config=t,n}function ss(e,t){var n={};for(var r in e.entries)n[r]=!t||t.includes(r)?Cu(e.entries[r]):e.entries[r];return o(o({},e),{},{entries:n,get"~standard"(){return Cn(this)}})}function as(e,t){var n={};for(var r in e.entries)n[r]=!t||t.includes(r)?_u(e.entries[r]):e.entries[r];return o(o({},e),{},{entries:n,get"~standard"(){return Cn(this)}})}function cs(e,t){var n,r={},i=S(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;r[u]=e.entries[u]}}catch(e){i.e(e)}finally{i.f()}return o(o({},e),{},{entries:r,get"~standard"(){return Cn(this)}})}function fs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(o({},t[0]),{},{pipe:t,get"~standard"(){return Cn(this)},"~run":function(e,n){for(var r=0,i=t;r<i.length;r++){var o=i[r];if("metadata"!==o.kind){if(e.issues&&("schema"===o.kind||"transformation"===o.kind)){e.typed=!1;break}e.issues&&(n.abortEarly||n.abortPipeEarly)||(e=o["~run"](e,n))}}return e}})}function ps(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(o({},t[0]),{},{pipe:t,async:!0,get"~standard"(){return Cn(this)},"~run":function(e,n){return f(u().mark((function r(){var i,o,s;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=0,o=t;case 1:if(!(i<o.length)){r.next=14;break}if("metadata"===(s=o[i]).kind){r.next=11;break}if(!e.issues||"schema"!==s.kind&&"transformation"!==s.kind){r.next=7;break}return e.typed=!1,r.abrupt("break",14);case 7:if(e.issues&&(n.abortEarly||n.abortPipeEarly)){r.next=11;break}return r.next=10,s["~run"](e,n);case 10:e=r.sent;case 11:i++,r.next=1;break;case 14:return r.abrupt("return",e);case 15:case"end":return r.stop()}}),r)})))()}})}function ls(e,t,n){var r=Array.isArray(t)?t:void 0,i=Array.isArray(t)?n:t,u={};for(var s in e.entries)u[s]=!r||r.includes(s)?hu(e.entries[s],i):e.entries[s];return o(o({},e),{},{entries:u,get"~standard"(){return Cn(this)}})}function ds(e,t,n){var r=Array.isArray(t)?t:void 0,i=Array.isArray(t)?n:t,u={};for(var s in e.entries)u[s]=!r||r.includes(s)?yu(e.entries[s],i):e.entries[s];return o(o({},e),{},{entries:u,get"~standard"(){return Cn(this)}})}function hs(e,t,n){var r=e["~run"]({value:t},pn(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}function ys(e,t,n){return vs.apply(this,arguments)}function vs(){return(vs=f(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t["~run"]({value:n},pn(r));case 2:return i=e.sent,e.abrupt("return",{typed:i.typed,success:!i.issues,output:i.value,issues:i.issues});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e,t){var n=function(n){return hs(e,n,t)};return n.schema=e,n.config=t,n}function bs(e,t){var n=function(n){return ys(e,n,t)};return n.schema=e,n.config=t,n}function gs(e){return e.wrapped}var ks,Ds={};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.MessageType=void 0,function(e){e.TEXT="text",e.IMAGE="image",e.FILE="file",e.VIDEO="video",e.AUDIO="audio"}(ks||(Ds.MessageType=ks={}));var Es={};Object.defineProperty(Es,"__esModule",{value:!0}),Es.Target=void 0;var ws=Mt,xs=he,Ss=wt,Cs=function(){function e(e,t,n){this.scene=e,this.id=t,xs.default.isDef(n)&&(this.teamId=n)}return e.prototype.toString=function(){return ws.Scene.PRIVATE===this.scene||ws.Scene.GROUP===this.scene?this.scene+"#"+this.id:this.scene+"#"+this.id+"#"+this.teamId},e.prototype.customerId=function(){if(ws.Scene.CS===this.scene)return this.id===this.teamId?Ss.G.Socket.user().id:this.id},e.byScene=function(t,n,r){return new e(t,n,r)},e.byIMMessage=function(t){var n,r,i=t.scene();if(i===ws.Scene.PRIVATE){var o=t.senderId,u=t.targetId();r=Ss.G.Socket.user().id===o?u:o}else if(i===ws.Scene.GROUP)r=t.targetId();else{if(i!==ws.Scene.CS)throw{code:400,content:"scene ".concat(i," not exists")};r=t.targetId(),n=t.teamId}return new e(i,r,n)},e.byMessageReadRemoteEvent=function(t){var n,r=t.scene,i=t.targetId,o=t.markerId,u=t.teamId;return r===ws.Scene.PRIVATE?n=Ss.G.Socket.user().id===o?i:o:r===ws.Scene.GROUP?n=i:r===ws.Scene.CS&&(n=i===u?o===Ss.G.Socket.user().id?u:o:o===Ss.G.Socket.user().id?i:u),new e(r,n,u)},e.byIMMessageDeletedEvent=function(t){var n=t.scene,r=t.deleterId;return n===ws.Scene.PRIVATE?new e(n,Ss.G.Socket.user().id===r?t.targetId:r):n===ws.Scene.GROUP?new e(n,t.targetId):void 0},e.byConversationDTO=function(e){var t=e.lastMessage;return this.byIMMessage(t)},e.byConversationId=function(t,n){var r;if(t===ws.Scene.PRIVATE){var i=n.split(":",2);r=i[0]===Ss.G.Socket.user().id?i[1]:i[0]}else r=n;return new e(t,r)},e}();Es.Target=Cs;var _s={},Os={};Object.defineProperty(Os,"__esModule",{value:!0}),Os.AbstractMessage=void 0;var Ns=wt,As=function(){function e(){}return e.prototype.clearUseLessAttribute=function(){delete this.buildOptions},e.prototype.isOtherSent=function(){return this.senderId!==Ns.G.Socket.user().id},e}();Os.AbstractMessage=As,Object.defineProperty(_s,"__esModule",{value:!0}),_s.PrivateMessage=void 0;var Ps=oe,Fs=Mt,Is=function(e){function t(){var t=e.apply(this,Ps.__spreadArray([],Ps.__read(arguments),!1))||this;return t.read=!1,t}return Ps.__extends(t,e),t.prototype.scene=function(){return Fs.Scene.PRIVATE},t.prototype.targetId=function(){return this.receiverId},t}(Os.AbstractMessage);_s.PrivateMessage=Is;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.GroupMessage=void 0;var Ms=oe,Rs=Mt,js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ms.__extends(t,e),t.prototype.scene=function(){return Rs.Scene.GROUP},t.prototype.targetId=function(){return this.groupId},t}(Os.AbstractMessage);Ts.GroupMessage=js;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.CSMessage=void 0;var qs=oe,Gs=Mt,Us=wt,Ls=function(e){function t(){var t=e.apply(this,qs.__spreadArray([],qs.__read(arguments),!1))||this;return t.accepted=!1,t}return qs.__extends(t,e),t.prototype.scene=function(){return Gs.Scene.CS},t.prototype.targetId=function(){return Us.G.Socket.user().id===this.customerId()?this.teamId:this.customerId()},t.prototype.sendByCustomer=function(){return this.to===this.teamId},t.prototype.customerId=function(){return this.sendByCustomer()?this.senderId:this.to},t.prototype.isOtherSent=function(){return Us.G.Socket.user().id===this.customerId()?this.senderId!==Us.G.Socket.user().id:this.senderId===this.customerId()},t}(Os.AbstractMessage);Bs.CSMessage=Ls,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.validateChannel=Ht.validateUnSubscribeGroupPresence=Ht.validateSubscribePresence=Ht.validateSubscribeOptions=Ht.validatePublish=Ht.validateGroupIds=Ht.validateUserIds=Ht.validateCSTransfer=Ht.validateCSAccept=Ht.validateHistoryQuery=Ht.validateDeleteMessage=Ht.validateRecallMessage=Ht.validateMessage=Ht.validateIdType=Ht.validateGroupId=Ht.validateUserId=Ht.validateId=Ht.validateCustomId=Ht.validateConnectOptions=Ht.validateGoEasyOptions=void 0;var zs=oe,Ws=cn,Vs=wt,$s=Mt,Xs=Ds,Hs=Es,Js=_s,Ys=Ts,Ks=Bs,Zs={maxString:function(e){return Ws.pipe(Ws.string(),Ws.nonEmpty(),Ws.maxLength(e))},nonEmptyString:Ws.pipe(Ws.string(),Ws.nonEmpty()),object:Ws.custom((function(e){return"object"===a(e)&&null!==e&&!Array.isArray(e)}),"must be an object."),userId:Ws.pipe(Ws.string(),Ws.nonEmpty(),Ws.maxLength(60),Ws.custom((function(e){if(Vs.G.Socket.user().id===e)throw new Error("id can not be the same as your id");return e}))),sceneType:Ws.pipe(Ws.string(),Ws.picklist([$s.Scene.PRIVATE,$s.Scene.GROUP,$s.Scene.CS]))},Qs={onSuccess:Ws.optional(Ws.function()),onFailed:Ws.optional(Ws.function())},ea=Ws.object({appkey:Zs.nonEmptyString,host:Zs.nonEmptyString,modules:Ws.array(Zs.nonEmptyString),allowNotification:Ws.optional(Ws.boolean()),forceTLS:Ws.optional(Ws.boolean()),supportOldBrowser:Ws.optional(Ws.boolean()),reactNativeOptions:Ws.optional(Ws.object({platform:Ws.any(),asyncStorage:Ws.any()})),customProvider:Ws.optional(Ws.object({loadConversations:Ws.function(),loadHistory:Ws.function()}))}),ta=Ws.pipe(Ws.object(zs.__assign({id:Ws.optional(Zs.nonEmptyString),data:Ws.optional(Zs.object),otp:Ws.optional(Zs.nonEmptyString),wxmpId:Ws.optional(Ws.object({appid:Zs.nonEmptyString,openid:Zs.nonEmptyString})),onProgress:Ws.optional(Ws.function())},Qs)),Ws.forward(Ws.partialCheck([["id"],["data"]],(function(e){return!Vs.GModules.modules.get("GIM")||e.id&&e.data}),"id and data are required for IM module"),["data"])),na=Ws.object({id:Zs.userId,data:Zs.object}),ra=Ws.pipe(Ws.union([Ws.object({type:Zs.sceneType,id:Zs.userId,data:Zs.object}),Ws.object({type:Zs.sceneType,receivers:Ws.array(na)})]),Ws.custom((function(e){if(!e.receivers)return!0;var t=e.receivers.map((function(e){return e.id}));if(Array.from(new Set(t)).length<t.length)throw new Error("receivers cannot have duplicate ids");if(e.type===$s.Scene.PRIVATE&&e.receivers.length>200)throw new Error("private message cannot have more than 200 receivers");if(e.type===$s.Scene.GROUP&&e.receivers.length>3)throw new Error("group message cannot have more than 3 receivers");return!0}))),ia=Ws.optional(Ws.object({template_id:Ws.string(),url:Ws.optional(Ws.string()),miniprogram:Ws.optional(Ws.object({appid:Ws.string(),pagepath:Ws.string()})),data:Zs.object})),oa=Ws.pipe(Ws.object({channel_id:Ws.optional(Ws.string()),category:Ws.optional(Ws.string())}),Ws.custom((function(e){if(!e.channel_id&&!e.category)throw{code:400,content:"Must provide at least one of channel_id or category."};return!0}))),ua=Ws.optional(Ws.object({title:Zs.maxString(32),body:Zs.maxString(50),sound:Ws.optional(Ws.string()),badge:Ws.optional(Ws.string()),vendorOptions:Ws.optional(Ws.object({huawei:Ws.optional(Ws.object({category:Ws.string()})),xiaomi:Ws.optional(Ws.object({channel_id:Ws.string()})),oppo:Ws.optional(oa),vivo:Ws.optional(Ws.object({classification:Ws.number(),category:Ws.string()}))}))})),sa={image:["gif","jpg","png","jpeg"],video:["avi","mov","rmvb","rm","flv","mp4","3gp","quicktime"],audio:["mp3","ogg","wav","wma","ape","acc","mpeg"]},aa=function(e,t){return void 0===e&&(e=30),Ws.pipe(Ws.any(),Ws.nonEmpty(),Ws.custom((function(n){var r;if(n.size&&n.size>1024*e*1024)throw new Error("File size must be <= ".concat(e,"MB."));if(t){var i=n.type||n.tempFile&&n.tempFile.type;if(!i)return!0;var o=null===(r=i.split("/")[1])||void 0===r?void 0:r.toLowerCase();if(o&&!sa[t].includes(o))throw new Error("Only ".concat(sa[t].join(",")," is supported for ").concat(t,"."))}return!0})))};function ca(e){return Ws.object(zs.__assign(zs.__assign(zs.__assign({},e),{to:ra,notification:ua,wxmpTemplateMsg:ia,beforeSend:Ws.optional(Ws.function()),onProgress:Ws.optional(Ws.function())}),Qs))}var fa=Ws.variant("type",[ca({type:Ws.literal(Xs.MessageType.TEXT),text:Zs.maxString(2500)}),ca({type:Ws.literal(Xs.MessageType.IMAGE),file:aa(30,"image")}),ca({type:Ws.literal(Xs.MessageType.VIDEO),file:aa(30,"video")}),ca({type:Ws.literal(Xs.MessageType.AUDIO),file:aa(30,"audio")}),ca({type:Ws.literal(Xs.MessageType.FILE),file:aa(500)}),ca({type:Ws.string(),payload:Ws.union([Zs.maxString(2500),Zs.object])})]),pa=Ws.object(zs.__assign({messages:Ws.pipe(Ws.array(Ws.union([Ws.instance(Js.PrivateMessage),Ws.instance(Ys.GroupMessage)])),Ws.nonEmpty(),Ws.maxLength(20),Ws.custom((function(e){for(var t=Hs.Target.byIMMessage(e[0]),n=1;n<e.length;n++){var r=Hs.Target.byIMMessage(e[n]);if(r.scene!==t.scene||r.id!==t.id)throw new Error("each message must be from the same friend or group");var i=e[n];if(i.status!==$s.MessageStatus.SUCCESS)throw new Error("message[".concat(n,"] is '").concat(i.status,"' and cannot be recalled"));if(i.recalled)throw new Error("message[".concat(n,"] has been recalled"));if(i.senderId!==Vs.G.Socket.user().id)throw new Error("it is not allowed to recall messages sent by others")}return!0})))},Qs)),la=Ws.object(zs.__assign({messages:Ws.pipe(Ws.array(Ws.union([Ws.instance(Js.PrivateMessage),Ws.instance(Ys.GroupMessage),Ws.instance(Ks.CSMessage)])),Ws.nonEmpty(),Ws.maxLength(20),Ws.custom((function(e){for(var t=Hs.Target.byIMMessage(e[0]),n=1;n<e.length;n++){var r=Hs.Target.byIMMessage(e[n]);if(r.scene!==t.scene||r.id!==t.id)throw new Error("each message must be from the same friend or group");var i=e[n];if(i.status===$s.MessageStatus.SENDING)throw new Error("message[".concat(n,"] is '").concat(i.status,"' and cannot be deleted"))}return!0})))},Qs)),da=function(e){return Ws.pipe(Ws.string(),Ws.nonEmpty(),Ws.custom((function(t){if(!t)throw new Error("".concat(e," is required."));return t})))},ha=da("customId"),ya=da("id"),va=Ws.object({userId:Zs.nonEmptyString}),ma=Ws.object({groupId:Zs.nonEmptyString}),ba=Ws.object({type:Zs.sceneType,id:Zs.nonEmptyString}),ga=Ws.union([va,ma,ba]),ka=Ws.object({customer:na}),Da=Ws.object({customerId:Zs.nonEmptyString,agentId:Zs.nonEmptyString}),Ea=Ws.pipe(Ws.union([Ws.string(),Ws.number()]),Ws.custom((function(e){if(!e&&0!==e)throw new Error("param require string or number.");return!0}))),wa=function(e){return void 0===e&&(e=100),Ws.pipe(Ws.array(Ea),Ws.nonEmpty(),Ws.maxLength(e),Ws.custom((function(e){if(e.some((function(e){return 0===e.length})))throw new Error("array has empty item.");if(Array.from(new Set(e)).length<e.length)throw new Error("Duplicate element found in array");return!0})))},xa=Ws.object(zs.__assign({channel:Ea,message:Zs.maxString(2500),qos:Ws.optional(Ws.picklist([-1,0,1])),notification:ua,wxmpTemplateMsg:ia,accessToken:Ws.optional(Ws.string())},Qs)),Sa=Ws.pipe(Ws.object({channel:Ws.optional(Ea),channels:Ws.optional(wa(100)),presence:Ws.optional(Ws.object({enable:Ws.boolean()})),accessToken:Ws.optional(Ws.string()),onMessage:Ws.function()}),Ws.forward(Ws.partialCheck([["channel"],["channels"]],(function(e){return!e.channel!=!e.channels}),"Must provide either channel or channels, but not both or neither"),["channels"]),Ws.forward(Ws.partialCheck([["channel"],["presence"]],(function(e){var t;return!(null===(t=e.presence)||void 0===t?void 0:t.enable)||!!Vs.G.Socket.user().id}),"Subscription failed. If presence is enable, the id must be specified when calling the connect method"),["presence"])),Ca=Ws.object({userIds:wa(100)}),_a=Ws.object({groupIds:wa(100)}),Oa=Ws.object({channel:Ea}),Na=Ws.object({channel:Ea,membersLimit:Ws.optional(Ws.pipe(Ws.number(),Ws.maxValue(100))),onPresence:Ws.function()}),Aa=Ws.object({groupId:Ea});function Pa(e,t){var n;try{return Ws.parse(e,t)}catch(e){if(e instanceof Ws.ValiError){var r=e.issues[0],i=null===(n=r.path)||void 0===n?void 0:n.map((function(e){return e.key})).filter(Boolean),o=(null==i?void 0:i.join("."))||"value";throw{code:400,content:{string:"TypeError: ".concat(o," must be a string."),number:"TypeError: ".concat(o," must be a number."),non_empty:"".concat(o," cannot be empty."),max_length:"".concat(o," over max length."),picklist:"".concat(o," has invalid value.")}[r.type]||"".concat(o,": ").concat(r.message)}}throw e}}Ht.validateGoEasyOptions=function(e){return Pa(ea,e)};Ht.validateConnectOptions=function(e){return Pa(ta,e)};Ht.validateCustomId=function(e){return Pa(ha,e)};Ht.validateId=function(e){return Pa(ya,e)};Ht.validateUserId=function(e){return Pa(va,e)};Ht.validateGroupId=function(e){return Pa(ma,e)};Ht.validateIdType=function(e){return Pa(ba,e)};Ht.validateMessage=function(e){return Pa(fa,e)};Ht.validateRecallMessage=function(e){return Pa(pa,e)};Ht.validateDeleteMessage=function(e){return Pa(la,e)};Ht.validateHistoryQuery=function(e){return Pa(ga,e)};Ht.validateCSAccept=function(e){return Pa(ka,e)};Ht.validateCSTransfer=function(e){return Pa(Da,e)};Ht.validateUserIds=function(e){return Pa(Ca,e)};Ht.validateGroupIds=function(e){return Pa(_a,e)};Ht.validatePublish=function(e){return Pa(xa,e)};Ht.validateSubscribeOptions=function(e){return Pa(Sa,e)};Ht.validateSubscribePresence=function(e){return Pa(Na,e)};Ht.validateUnSubscribeGroupPresence=function(e){return Pa(Aa,e)};Ht.validateChannel=function(e){return Pa(Oa,e)},Object.defineProperty($t,"__esModule",{value:!0});var Fa=Te,Ia=Fe,Ta=wt,Ma=Xt,Ra=Me,ja=Ht,Ba=function(){function e(){}return e.prototype.publish=function(e){(0,ja.validatePublish)(e),e.channel=e.channel.toString();var t={channel:e.channel,content:e.message,nt:e.notification,at:e.accessToken,guid:Ta.UUID.get(),q:e.qos};e.wxmpTemplateMsg&&(t.wxmpTemplateMsg=(0,Ma.default)(e.wxmpTemplateMsg),t.wxmpTemplateMsg.data=JSON.stringify(t.wxmpTemplateMsg.data));var n=new Ta.Rocket({name:Ia.RocketTypes.publish,params:t,unique:!0,singleTimeout:Fa.SocketTimeout.commonRequestSingle,totalTimeout:Fa.SocketTimeout.commonRequestTotal,permission:Ta.Permission.WRITE,success:function(t){Ra.CallbackUtils.onSuccess(e,{code:200,content:"ok"})},fail:function(t){Ra.CallbackUtils.onFailed(e,{code:t.resultCode,content:t.content})}});Ta.G.Socket.e(n)},e}();$t.default=Ba;var qa={},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.Subscription=void 0;var Ua=he,La=function(e){if(this.options=e,this.channels=e.channels||[e.channel],!Ua.default.isEmpty(e.channel)){var t=e.channel.toString();this.channels=[t]}Ua.default.isEmpty(e.channels)||(this.channels=e.channels.toString().split(","))};Ga.Subscription=La;var za,Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.RemoteEvents=void 0,function(e){e.message="message",e.imMessage="imMessage",e.IM_MSG_SYNC="im:msg:sync",e.IM_MSG_NEW="im:msg:new",e.userPresence="userPresence",e.groupPresence="groupPresence",e.PS_PRESENCE_EVENT="PS_PRESENCE_EVENT",e.IM_MSG_READ="IM_MSG_READ",e.IM_MSG_DELETED="IM_MSG_DELETED",e.IM_MSG_RECALLED="IM_MSG_RECALLED",e.CS_ONLINE_CHANGED="CS_ONLINE_CHANGED"}(za||(Wa.RemoteEvents=za={}));var Va,$a={};Object.defineProperty($a,"__esModule",{value:!0}),$a.SocketEvent=void 0,function(e){e.CONNECTED="CONNECTED",e.RECONNECTED="RECONNECTED",e.DISCONNECTED="DISCONNECTED",e.LOST="LOST",e.EXPIRED_RECONNECTED="EXPIRED_RECONNECTED",e.NEW_MESSAGE="NEW_MESSAGE",e.CONNECTING="CONNECTING"}(Va||($a.SocketEvent=Va={})),Object.defineProperty(qa,"__esModule",{value:!0}),qa.Subscriber=void 0;var Xa=he,Ha=Ga,Ja=Te,Ya=Fe,Ka=Wa,Za=wt,Qa=Me,ec=$a,tc=Ht,nc=function(){function e(){this.subscriptions=[],Za.G.Socket.onMessage(Ka.RemoteEvents.message,this.onNewMessage.bind(this)),Za.G.Socket.on(ec.SocketEvent.EXPIRED_RECONNECTED,this.expiredResubscribe.bind(this)),Za.G.Socket.on(ec.SocketEvent.RECONNECTED,this.resubscribePresenceChannel.bind(this))}return e.prototype.expiredResubscribe=function(){var e=this;this.subscriptions.forEach((function(t){e.doSubscribe(t,!1)}))},e.prototype.resubscribePresenceChannel=function(){var e=this;this.subscriptions.forEach((function(t){var n=t.options;n.presence&&n.presence.enable&&e.doSubscribe(t,!0)}))},e.prototype.onNewMessage=function(e){if(!(e.n.indexOf("_presence")>-1)){e.a&&Za.G.Socket.sendAck("ack",{i:e.i,c:e.n});var t={time:e.t,channel:e.n,content:e.c};this.createNotification(e);var n=this.findSubscriptionByChannel(t.channel);null==n||n.options.onMessage(t)}},e.prototype.createNotification=function(e){var t=Za.G.N.supportAppNotification();if(Xa.default.isObject(e.nt)&&t){var n={ch:e.n,ctt:e.c};Za.G.N.createLocalNotification(e.nt.t,e.nt.c,n,e.nt.sound,e.nt.badge)}},e.prototype.subscribe=function(e){var t=this;(0,tc.validateSubscribeOptions)(e);var n=new Ha.Subscription(e);this.doSubscribe(n,!1).then((function(){t.subscriptions.push(n),Qa.CallbackUtils.onSuccess(e,{code:200,content:"ok"})})).catch((function(t){Qa.CallbackUtils.onFailed(e,{code:t.resultCode,content:t.content})}))},e.prototype.doSubscribe=function(e,t){var n=e.options;return new Promise((function(r,i){var o=new Za.Rocket({name:Ya.RocketTypes.subscribe,permission:Za.Permission.READ,singleTimeout:Ja.SocketTimeout.commonRequestSingle,totalTimeout:Ja.SocketTimeout.commonRequestTotal,params:{channels:e.channels,accessToken:n.accessToken,presence:n.presence,resubscribe:t},success:function(){r()},fail:function(e){i(e)}});Za.G.Socket.e(o)}))},e.prototype.unsubscribe=function(e){var t=this;(0,tc.validateChannel)(e),e.channel=e.channel.toString();var n=this.findSubscriptionByChannel(e.channel);if(n){var r=new Za.Rocket({name:Ya.RocketTypes.unsubscribe,params:{channel:e.channel,presence:n.options.presence},permission:Za.Permission.READ,singleTimeout:Ja.SocketTimeout.commonRequestSingle,totalTimeout:Ja.SocketTimeout.commonRequestTotal,success:function(){e.onSuccess({code:200,content:"ok"}),t.removeChannel(e.channel)},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});Za.G.Socket.e(r)}else e.onFailed({code:400,content:"channel["+e.channel+"] is not subscribed"})},e.prototype.removeChannel=function(e){for(var t=this.subscriptions.length-1;t>=0;t--){var n=this.subscriptions[t].channels,r=n.indexOf(e);if(r>-1){n.splice(r,1),0===n.length&&this.subscriptions.splice(t,1);break}}},e.prototype.findSubscriptionByChannel=function(e){for(var t=!1,n=null,r=this.subscriptions.length-1;r>=0;r--){for(var i=this.subscriptions[r].channels,o=0;o<i.length;o++)if(i[o]==e){t=!0,n=this.subscriptions[r];break}if(t)break}return n},e}();qa.Subscriber=nc;var rc={};Object.defineProperty(rc,"__esModule",{value:!0}),rc.History=void 0;var ic=Te,oc=Fe,uc=wt,sc=Ht,ac=Me,fc=function(){function e(){}return e.prototype.get=function(e){(0,sc.validateChannel)(e),e.channel=e.channel.toString();var t=new uc.Rocket({name:oc.RocketTypes.historyMessages,permission:uc.Permission.READ,params:e,singleTimeout:ic.SocketTimeout.commonQuerySingle,totalTimeout:ic.SocketTimeout.commonQueryTotal,success:function(t){ac.CallbackUtils.onSuccess(e,{code:t.resultCode||t.code||200,content:t.content})},fail:function(t){ac.CallbackUtils.onFailed(e,{code:t.resultCode||t.code,content:t.content})}});uc.G.Socket.e(t)},e}();rc.History=fc;var pc={};Object.defineProperty(pc,"__esModule",{value:!0}),pc.ChannelPresence=pc.PresenceService=void 0;var lc=oe,dc=wt,hc=Te,yc=Wa,vc=Fe,mc=$a,bc=Ht,gc=function(){function e(){var e=this;this.channelPresenceMap=new Map,this.onPresenceEvent=function(t){var n=e.channelPresenceMap.get(t.channel);null==n||n.onPresence(t)},this.expireAllChannelPresences=function(){e.channelPresenceMap.forEach((function(e,t){e.expire()}))},this.resubscribe=function(){e.channelPresenceMap.forEach((function(e,t){e.subscribed()&&e.doSubscribe()}))},dc.G.Socket.on(mc.SocketEvent.LOST,this.expireAllChannelPresences),dc.G.Socket.on(mc.SocketEvent.RECONNECTED,this.resubscribe),dc.G.Socket.onMessage(yc.RemoteEvents.PS_PRESENCE_EVENT,this.onPresenceEvent)}return e.prototype.hereNow=function(e){(0,bc.validateChannel)(e);var t,n=this.channelPresenceMap.get(e.channel.toString());n&&n.queryPromise?(e.limit&&e.limit>n.membersLimit&&n.doQuery(e.limit),t=n.queryPromise):t=Dc(e.channel,e.limit),t.then((function(t){e.onSuccess(t)})).catch((function(t){e.onFailed(t)}))},e.prototype.subscribe=function(e){(0,bc.validateSubscribePresence)(e);var t=e.channel.toString(),n=this.channelPresenceMap.get(t);n||(n=new kc(t),this.channelPresenceMap.set(t,n)),n.subscribe(e)},e.prototype.unsubscribe=function(e){var t=this;(0,bc.validateChannel)(e);var n=e.channel.toString();if(this.channelPresenceMap.get(n)){var r=new dc.Rocket({name:vc.RocketTypes.PUBSUB_PRESENCE_UNSUBSCRIBE,permission:dc.Permission.READ,singleTimeout:hc.SocketTimeout.commonRequestSingle,totalTimeout:hc.SocketTimeout.commonRequestTotal,params:{channel:n},success:function(r){t.channelPresenceMap.delete(n),e.onSuccess()},fail:function(t){e.onFailed(t)}});dc.G.Socket.e(r)}else e.onSuccess()},e}();pc.PresenceService=gc;var kc=function(){function e(e){this.membersLimit=10,this.queried=!1,this.channel=e}return e.prototype.onPresence=function(e){return lc.__awaiter(this,void 0,void 0,(function(){return lc.__generator(this,(function(t){switch(t.label){case 0:return this.queried?(this.update(e),[3,3]):[3,1];case 1:return[4,this.queryPromise];case 2:t.sent(),t.label=3;case 3:return this.on({channel:this.channel,action:e.action,member:e.member,time:e.time,amount:this.amount,members:this.membersByLimit()}),[2]}}))}))},e.prototype.membersByLimit=function(){return this.members.slice(0,this.membersLimit)},e.prototype.subscribe=function(e){return lc.__awaiter(this,void 0,void 0,(function(){var t;return lc.__generator(this,(function(n){switch(n.label){case 0:if(e.membersLimit&&(this.membersLimit=Math.min(e.membersLimit,300)),this.subscribed())return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.doSubscribe()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),e.onFailed(t),[2];case 4:return this.on=e.onPresence,e.onSuccess(),[2]}}))}))},e.prototype.doSubscribe=function(){var e=this;return this.doQuery(this.membersLimit),new Promise((function(t,n){var r=new dc.Rocket({name:vc.RocketTypes.PUBSUB_PRESENCE_SUBSCRIBE,permission:dc.Permission.READ,params:{channel:e.channel},singleTimeout:hc.SocketTimeout.commonRequestSingle,totalTimeout:hc.SocketTimeout.commonRequestTotal,success:function(e){t()},fail:function(e){n(e)}});dc.G.Socket.e(r)}))},e.prototype.doQuery=function(e){var t=this;this.queryPromise=Dc(this.channel,e),this.queryPromise.then((function(e){t.members=e.content.members,t.amount=e.content.amount,t.queried=!0})).catch((function(e){throw e}))},e.prototype.update=function(e){if(["join","back"].includes(e.action))this.members.unshift(e.member);else if(["leave","timeout"].includes(e.action)){var t=this.members.findIndex((function(t){return t.id===e.member.id}));t>-1&&this.members.splice(t,1)}this.amount=e.amount},e.prototype.expire=function(){this.queried=!1,this.queryPromise=null},e.prototype.subscribed=function(){return void 0!==this.on},e}();function Dc(e,t){return t||(t=10),new Promise((function(n,r){var i={channel:e,limit:t},o=new dc.Rocket({name:vc.RocketTypes.PUBSUB_PRESENCE_HERENOW,permission:dc.Permission.READ,params:i,singleTimeout:hc.SocketTimeout.commonQuerySingle,totalTimeout:hc.SocketTimeout.commonQueryTotal,success:function(e){n(e)},fail:function(e){r(e)}});dc.G.Socket.e(o)}))}pc.ChannelPresence=kc,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PubSub=void 0;var Ec=$t,wc=qa,xc=rc,Sc=pc,Cc=function(){function e(){this.publisher=new Ec.default,this.subscriber=new wc.Subscriber,this.presence2=new Sc.PresenceService,this.histories=new xc.History}return e.init=function(){this.instance=new e},e.prototype.publish=function(e){this.publisher.publish(e)},e.prototype.subscribe=function(e){this.subscriber.subscribe(e)},e.prototype.unsubscribe=function(e){this.subscriber.unsubscribe(e)},e.prototype.subscribePresence=function(e){this.presence2.subscribe(e)},e.prototype.unsubscribePresence=function(e){this.presence2.unsubscribe(e)},e.prototype.history=function(e){this.histories.get(e)},e.prototype.hereNow=function(e){this.presence2.hereNow(e)},e}();Vt.PubSub=Cc,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.GWSModule=void 0;var _c=oe,Oc=Vt,Nc=de,Ac=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _c.__extends(t,e),t.init=function(){return this.module=new t,this.module.name=this.GWS_MODULE_NAME,this.initGN(),this.module},t.initGN=function(){Nc.GN.addAssembler(new(function(){function e(){}return e.prototype.assemble=function(e){return{channel:e.ch,content:e.ctt}},e.prototype.support=function(e){return!!e.ch},e}()))},t.prototype.postConnect=function(){Oc.PubSub.init()},t.check=function(){if(!this.module)throw{code:400,content:"PubSub not initialized. Please include 'PUBSUB' in the 'modules' during GoEasy initialization."}},t.GWS_MODULE_NAME="GWS",t}(wt.GModule);Wt.GWSModule=Ac;var Pc={},Fc={},Ic={},Tc={exports:{}},Mc=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Rc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],jc=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=Mc.exec(e||""),o={},u=14;u--;)o[Rc[u]]=i[u]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},Bc={exports:{}},qc={exports:{}},Gc=1e3,Uc=60*Gc,Lc=60*Uc,zc=24*Lc,Wc=365.25*zc,Vc=function(e,t){t=t||{};var n=a(e);if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Wc;case"days":case"day":case"d":return n*zc;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Lc;case"minutes":case"minute":case"mins":case"min":case"m":return n*Uc;case"seconds":case"second":case"secs":case"sec":case"s":return n*Gc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return $c(e,zc,"day")||$c(e,Lc,"hour")||$c(e,Uc,"minute")||$c(e,Gc,"second")||e+" ms"}(e):function(e){if(e>=zc)return Math.round(e/zc)+"d";if(e>=Lc)return Math.round(e/Lc)+"h";if(e>=Uc)return Math.round(e/Uc)+"m";if(e>=Gc)return Math.round(e/Gc)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function $c(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}!function(e,t){function n(e){var n;function i(){if(i.enabled){var e=i,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var u=new Array(arguments.length),s=0;s<u.length;s++)u[s]=arguments[s];u[0]=t.coerce(u[0]),"string"!=typeof u[0]&&u.unshift("%O");var a=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;a++;var i=t.formatters[r];if("function"==typeof i){var o=u[a];n=i.call(e,o),u.splice(a,1),a--}return n})),t.formatArgs.call(e,u),(i.log||t.log||console.log.bind(console)).apply(e,u)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),i.destroy=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Vc,t.instances=[],t.names=[],t.skips=[],t.formatters={}}(qc,qc.exports),function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=qc.exports).log=function(){return"object"===("undefined"==typeof console?"undefined":a(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}(Bc,Bc.exports);var Xc=jc,Hc=Bc.exports("socket.io-client:url"),Jc=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(Hc("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),Hc("parse %s",e),n=Xc(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n};var Yc={},Kc={}.toString,Zc=Array.isArray||function(e){return"[object Array]"==Kc.call(e)};!function(e){Bc.exports("socket.io-parser");var t=qe.exports,n=Zc;function r(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=o;var i=e.ERROR+'"encode error"';function o(){this.reconstructor=null}function u(t){return{type:e.ERROR,data:"parser error: "+t}}r.prototype.encode=function(t,n){var r=function(t){var n=""+t.type;e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-");t.nsp&&"/"!==t.nsp&&(n+=t.nsp+",");null!=t.id&&(n+=t.id);if(null!=t.data){var r=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(t.data);if(!1===r)return i;n+=r}return n}(t);n([r])},t(o.prototype),o.prototype.add=function(t){var r;if("string"!=typeof t)throw new Error("Unknown type: "+t);r=function(t){var r=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return u("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||"-"!==t.charAt(r))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(r+1))for(i.nsp="";++r;){if(","===(a=t.charAt(r)))break;if(i.nsp+=a,r===t.length)break}else i.nsp="/";var s=t.charAt(r+1);if(""!==s&&Number(s)==s){for(i.id="";++r;){var a;if(null==(a=t.charAt(r))||Number(a)!=a){--r;break}if(i.id+=t.charAt(r),r===t.length)break}i.id=Number(i.id)}if(t.charAt(++r)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(t.substr(r));if(!(!1!==c&&(i.type===e.ERROR||n(c))))return u("invalid payload");i.data=c}return i}(t),this.emit("decoded",r)},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}(Yc);var Qc={exports:{}},ef={},tf={},nf=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},rf=Zc,of=Object.prototype.toString,uf="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===of.call(Blob),sf="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===of.call(File),af=function e(t){if(!t||"object"!==a(t))return!1;if(rf(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||uf&&t instanceof Blob||sf&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1};var cf=function(e,t,n){var r=!1;return n=n||ff,i.count=e,0===e?t():i;function i(e,o){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(r=!0,t(e),t=n):0!==i.count||r||t(null,o)}};function ff(){}var pf,lf,df,hf=String.fromCharCode;function yf(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function vf(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function mf(e,t){return hf(e>>t&63|128)}function bf(e,t){if(0==(4294967168&e))return hf(e);var n="";return 0==(4294965248&e)?n=hf(e>>6&31|192):0==(4294901760&e)?(vf(e,t)||(e=65533),n=hf(e>>12&15|224),n+=mf(e,6)):0==(4292870144&e)&&(n=hf(e>>18&7|240),n+=mf(e,12),n+=mf(e,6)),n+=hf(63&e|128)}function gf(){if(df>=lf)throw Error("Invalid byte index");var e=255&pf[df];if(df++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function kf(e){var t,n;if(df>lf)throw Error("Invalid byte index");if(df==lf)return!1;if(t=255&pf[df],df++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|gf())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|gf()<<6|gf())>=2048)return vf(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|gf()<<12|gf()<<6|gf())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var Df={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=yf(e),i=r.length,o=-1,u="";++o<i;)u+=bf(r[o],n);return u},decode:function(e,t){var n=!1!==(t=t||{}).strict;pf=yf(e),lf=pf.length,df=0;for(var r,i=[];!1!==(r=kf(n));)i.push(r);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=hf((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=hf(t);return i}(i)}},Ef=void 0!==Ef?Ef:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,wf=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),xf=wf&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),Sf=Ef&&Ef.prototype.append&&Ef.prototype.getBlob;function Cf(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function _f(e,t){t=t||{};var n=new Ef;return Cf(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function Of(e,t){return new Blob(Cf(e),t||{})}"undefined"!=typeof Blob&&(_f.prototype=Blob.prototype,Of.prototype=Blob.prototype);var Nf=wf?xf?Blob:Of:Sf?_f:void 0;!function(e){var t=nf,n=af,r=cf,i=Df;"undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),"undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),e.protocol=3;var o=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},u=t(o),s={type:"error",data:"parser error"},a=Nf;e.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null),void 0===e.data||e.data.buffer||e.data;var u=o[e.type];return void 0!==e.data&&(u+=n?i.encode(String(e.data),{strict:!1}):String(e.data)),r(""+u)},e.decodePacket=function(e,t,n){if(void 0===e)return s;if("string"==typeof e){if(n&&!1===(e=function(e){try{e=i.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return s;var r=e.charAt(0);return Number(r)==r&&u[r]?e.length>1?{type:u[r],data:e.substring(1)}:{type:u[r]}:s}r=new Uint8Array(e)[0];var o=sliceBuffer(e,1);return a&&"blob"===t&&(o=new a([o])),{type:u[r],data:o}},e.encodePayload=function(t,i,o){"function"==typeof i&&(o=i,i=null);var u=n(t);if(!t.length)return o("0:");!function(e,t,n){for(var i=new Array(e.length),o=r(e.length,n),u=function(e,n,r){t(n,(function(t,n){i[e]=n,r(t,i)}))},s=0;s<e.length;s++)u(s,e[s],o)}(t,(function(t,n){e.encodePacket(t,!!u&&i,!0,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return o(t.join(""))}))},e.decodePayload=function(t,n,r){var i;if("function"==typeof n&&(r=n,n=null),""===t)return r(s,0,1);for(var o,u,a="",c=0,f=t.length;c<f;c++){var p=t.charAt(c);if(":"===p){if(""===a||a!=(o=Number(a)))return r(s,0,1);if(a!=(u=t.substr(c+1,o)).length)return r(s,0,1);if(u.length){if(i=e.decodePacket(u,n,!0),s.type===i.type&&s.data===i.data)return r(s,0,1);if(!1===r(i,c+o,f))return}c+=o,a=""}else a+=p}return""!==a?r(s,0,1):void 0}}(tf);var Af=tf,Pf=Ff;function Ff(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}(0,qe.exports)(Ff.prototype),Ff.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Ff.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Ff.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Ff.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Ff.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Ff.prototype.onData=function(e){var t=Af.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Ff.prototype.onPacket=function(e){this.emit("packet",e)},Ff.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var If,Tf={encode:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},decode:function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},Mf=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Rf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),jf=64,Bf={},qf=0,Gf=0;function Uf(e){var t="";do{t=Rf[e%jf]+t,e=Math.floor(e/jf)}while(e>0);return t}function Lf(){var e=Uf(+new Date);return e!==If?(qf=0,If=e):e+"."+Uf(qf++)}for(;Gf<jf;Gf++)Bf[Rf[Gf]]=Gf;Lf.encode=Uf,Lf.decode=function(e){var t=0;for(Gf=0;Gf<e.length;Gf++)t=t*jf+Bf[e.charAt(Gf)];return t};var zf=Lf,Wf={exports:{}};try{Wf.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){Wf.exports=!1}var Vf=Wf.exports,$f=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Vf))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},Xf=Pf,Hf=Tf,Jf=tf,Yf=Mf,Kf=zf,Zf=Bc.exports("engine.io-client:polling"),Qf=tp,ep=null!=new $f({xdomain:!1}).responseType;function tp(e){var t=e&&e.forceBase64;ep&&!t||(this.supportsBinary=!1),Xf.call(this,e)}Yf(tp,Xf),tp.prototype.name="polling",tp.prototype.doOpen=function(){this.poll()},tp.prototype.pause=function(e){var t=this;function n(){Zf("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(Zf("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){Zf("pre-pause polling complete"),--r||n()}))),this.writable||(Zf("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){Zf("pre-pause writing complete"),--r||n()})))}else n()},tp.prototype.poll=function(){Zf("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},tp.prototype.onData=function(e){var t=this;Zf("polling got data %s",e);Jf.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Zf('ignoring poll - transport state "%s"',this.readyState))},tp.prototype.doClose=function(){var e=this;function t(){Zf("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(Zf("transport open - closing"),t()):(Zf("transport not open - deferring close"),this.once("open",t))},tp.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};Jf.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},tp.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=Kf()),this.supportsBinary||e.sid||(e.b64=1),e=Hf.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var np,rp=Qf,ip=cp,op=/\n/g,up=/\\n/g;function sp(){}function ap(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function cp(e){if(rp.call(this,e),this.query=this.query||{},!np){var t=ap();np=t.___eio=t.___eio||[]}this.index=np.length;var n=this;np.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=sp)}),!1)}Mf(cp,rp),cp.prototype.supportsBinary=!1,cp.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),rp.prototype.doClose.call(this)},cp.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},cp.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function s(){a(),t()}function a(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),a(),e=e.replace(up,"\\\n"),this.area.value=e.replace(op,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&s()}:this.iframe.onload=s};var fp,pp,lp=Pf,dp=tf,hp=Tf,yp=Mf,vp=zf,mp=Bc.exports("engine.io-client:websocket");("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket)&&("undefined"!=typeof WebSocket?fp=WebSocket:"undefined"!=typeof self?fp=self.WebSocket||self.MozWebSocket:function(){try{pp=require("ws")}catch(e){}}());var bp=fp||pp,gp="undefined"!=typeof uni&&"harmonyos"===uni.getSystemInfoSync().platform;(("undefined"!=typeof uni||"undefined"!=typeof wx||"undefined"!=typeof my||"undefined"!=typeof swan)&&"undefined"==typeof WebSocket||"undefined"!=typeof GameGlobal||gp)&&(bp=function(e){var t=this;if(t.onopen=function(){},t.onclose=function(){},t.onmessage=function(e){},t.onerror=function(e){},"object"===("undefined"==typeof tt?"undefined":a(tt))&&tt.getSystemInfo){var n=tt.connectSocket({url:e});t.send=function(e){n.send({data:e})},t.close=function(){n.close()},n.onOpen((function(){t.onopen()})),n.onError((function(e){t.onerror(e)})),n.onMessage((function(e){t.onmessage(e)})),n.onClose((function(){t.onclose()}))}else if("undefined"!=typeof my)my.connectSocket({url:e}),t.send=function(e){my.sendSocketMessage({data:e})},t.close=function(e){my.closeSocket()},my.onSocketOpen((function(e){t.onopen()})),my.onSocketError((function(e){t.onerror(e)})),my.onSocketMessage((function(e){t.onmessage(e)})),my.onSocketClose((function(e){t.onclose(e)}));else if("undefined"!=typeof swan)swan.connectSocket({url:e}),t.send=function(e){swan.sendSocketMessage({data:e})},t.close=function(e){swan.closeSocket()},swan.onSocketOpen((function(e){t.onopen()})),swan.onSocketError((function(e){t.onerror(e)})),swan.onSocketMessage((function(e){t.onmessage(e)})),swan.onSocketClose((function(e){t.onclose(e)}));else if("undefined"!=typeof uni){var r=uni.connectSocket({url:e,complete:function(){}});t.send=function(e){r.send({data:e})},t.close=function(){r.close()},r.onOpen((function(e){t.onopen()})),r.onError((function(e){t.onerror(e)})),r.onMessage((function(e){t.onmessage(e)})),r.onClose((function(e){t.onclose()}))}else{var i=wx.connectSocket({url:e});t.send=function(e){i.send({data:e})},t.close=function(e){i.close({code:1e3})},i.onOpen((function(){t.onopen()})),i.onError((function(e){t.onerror(e)})),i.onMessage((function(e){t.onmessage(e)})),i.onClose((function(e){t.onclose(e)}))}});var kp=Dp;function Dp(e){e&&e.forceBase64&&(this.supportsBinary=!1),("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket)&&(this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=fp&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(bp=pp)),lp.call(this,e)}yp(Dp,lp),Dp.prototype.name="websocket",Dp.prototype.supportsBinary=!1,Dp.prototype.doOpen=function(){var e=this;if(this.check()){var t,n,r=this.uri();if(("undefined"==typeof uni&&"undefined"==typeof wx&&"undefined"==typeof my&&"undefined"==typeof swan||"undefined"!=typeof WebSocket)&&(t=this.protocols),(n=("undefined"!=typeof uni||"undefined"!=typeof wx||"undefined"!=typeof my||"undefined"!=typeof swan)&&"undefined"==typeof WebSocket||gp?{agent:this.agent}:{agent:this.agent,perMessageDeflate:this.perMessageDeflate}).pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,"object"===("undefined"==typeof navigator?"undefined":a(navigator))&&"ReactNative"===navigator.product&&(n={}),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress),"undefined"!=typeof cc&&"Windows"===cc.sys.os)cc.resources.load("cacert",(function(t,n){var i=n.nativeUrl;e.ws=new bp(r,[],i),e.ws.binaryType="arraybuffer",e.addEventListeners()}));else{try{("undefined"!=typeof uni||"undefined"!=typeof wx||"undefined"!=typeof my||"undefined"!=typeof swan)&&"undefined"==typeof WebSocket||gp?this.ws=new bp(r):this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new bp(r,t):new bp(r):new bp(r,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}}},Dp.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},Dp.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){dp.encodePacket(e,t.supportsBinary,(function(r){if(("undefined"!=typeof uni||"undefined"!=typeof wx||"undefined"!=typeof my||"undefined"!=typeof swan)&&"undefined"==typeof WebSocket||gp)try{t.ws.send(r)}catch(e){mp("websocket closed before onclose event")}else{if(!t.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),t.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,i)}catch(e){mp("websocket closed before onclose event")}}--n||o()}))}(e[r]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},Dp.prototype.onClose=function(){lp.prototype.onClose.call(this)},Dp.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},Dp.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=vp()),this.supportsBinary||(e.b64=1),(e=hp.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},Dp.prototype.check=function(){return!(!bp||"__initialize"in bp&&this.name===Dp.prototype.name)};var Ep=ip,wp=kp;ef.polling=function(e){var t=!1,n=!1;if(e.jsonp,"undefined"!=typeof location){var r="https:"===location.protocol,i=location.port;i||(i=r?443:80),t=e.hostname!==location.hostname||i!==e.port,n=e.secure!==r}return e.xdomain=t,e.xscheme=n,new Ep(e)},ef.websocket=wp;var xp=[].indexOf,Sp=function(e,t){if(xp)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},Cp=ef,_p=qe.exports,Op=Bc.exports("engine.io-client:socket"),Np=Sp,Ap=tf,Pp=jc,Fp=Tf,Ip=Tp;function Tp(e,t){if(!(this instanceof Tp))return new Tp(e,t);t=t||{},e&&"object"===a(e)&&(t=e,e=null),e?(e=Pp(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Pp(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=Fp.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Tp.priorWebsocketSuccess=!1,_p(Tp.prototype),Tp.protocol=Ap.protocol,Tp.Socket=Tp,Tp.Transport=Pf,Tp.transports=ef,Tp.parser=tf,Tp.prototype.createTransport=function(e){Op('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=Ap.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new Cp[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},Tp.prototype.open=function(){var e;if(this.rememberUpgrade&&Tp.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},Tp.prototype.setTransport=function(e){Op("setting transport %s",e.name);var t=this;this.transport&&(Op("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},Tp.prototype.probe=function(e){Op('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(Op('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(Op('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;Tp.priorWebsocketSuccess="websocket"===t.name,Op('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(Op("changing transport and sending upgrade packet"),f(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{Op('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,f(),t.close(),t=null)}function u(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),Op('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function s(){u("transport closed")}function a(){u("socket closed")}function c(e){t&&e.name!==t.name&&(Op('"%s" works - aborting "%s"',e.name,t.name),o())}function f(){t.removeListener("open",i),t.removeListener("error",u),t.removeListener("close",s),r.removeListener("close",a),r.removeListener("upgrading",c)}Tp.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",u),t.once("close",s),this.once("close",a),this.once("upgrading",c),t.open()},Tp.prototype.onOpen=function(){if(Op("socket open"),this.readyState="open",Tp.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){Op("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},Tp.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Op('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else Op('packet received with socket readyState "%s"',this.readyState)},Tp.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Tp.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},Tp.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){Op("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},Tp.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},Tp.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Tp.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Op("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Tp.prototype.write=Tp.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},Tp.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},Tp.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),Op("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},Tp.prototype.onError=function(e){Op("socket error %j",e),Tp.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},Tp.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){Op('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},Tp.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~Np(this.transports,e[n])&&t.push(e[n]);return t},Qc.exports=Ip,Qc.exports.parser=tf;var Mp={exports:{}},Rp=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n};var jp=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}};var Bp=[].slice,qp=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Bp.call(arguments,2);return function(){return t.apply(e,n.concat(Bp.call(arguments)))}};!function(e,t){var n=Yc,r=qe.exports,i=Rp,o=jp,u=qp,s=(Bc.exports("socket.io-client:socket"),Tf),c=af;e.exports=l;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=r.prototype.emit;function l(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",u(this,"onopen")),o(e,"packet",u(this,"onpacket")),o(e,"close",u(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},l.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},l.prototype.emit=function(e){if(f.hasOwnProperty(e))return p.apply(this,arguments),this;var t=i(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:c(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(this.ids,this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},l.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},l.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var e="object"===a(this.query)?s.encode(this.query):this.query;this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},l.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},l.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&"/"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},l.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},l.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var o=i(arguments);t.packet({type:c(o)?n.BINARY_ACK:n.ACK,id:e,data:o})}}},l.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(e.id,e.data,t.apply(this,e.data),delete this.acks[e.id]):e.id},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){this.nsp,this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(this.nsp,this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(e){return this.flags.compress=e,this},l.prototype.binary=function(e){return this.flags.binary=e,this}}(Mp);var Gp=Up;function Up(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Up.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Up.prototype.reset=function(){this.attempts=0},Up.prototype.setMin=function(e){this.ms=e},Up.prototype.setMax=function(e){this.max=e},Up.prototype.setJitter=function(e){this.jitter=e};var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.URIResolver=void 0;var zp=me,Wp=function(){function e(){}return e.init=function(e,t,n){this.host=e,(void 0!==t&&!1===t||!0===n)&&(this.https=!1)},e.isMP=function(){return[zp.PlatformType.MP_WX,zp.PlatformType.MP_ALI,zp.PlatformType.MP_BYTE,zp.PlatformType.MP_WGAME,zp.PlatformType.MP_BAIDU].includes(zp.PlatformDetector.currentPlatform())},e.uri=function(){var e="http";return this.https&&(e+="s"),e+"://"+this.index()+this.host},e.index=function(){return 0==this.i?this.i=Math.floor(Math.random()*this.max)+1:this.i=this.i%this.max+1,this.i},e.i=0,e.max=5,e.https=!0,e}();Lp.URIResolver=Wp;var Vp=Qc.exports,$p=Mp.exports,Xp=qe.exports,Hp=Yc,Jp=jp,Yp=qp,Kp=(Bc.exports("socket.io-client:manager"),Sp),Zp=Gp,Qp=Lp.URIResolver,el=we.runStatus,tl=Object.prototype.hasOwnProperty,nl=rl;function rl(e,t){if(!(this instanceof rl))return new rl(e,t);e&&"object"===a(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Zp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||Hp;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}rl.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)tl.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},rl.prototype.updateSocketIds=function(){for(var e in this.nsps)tl.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},rl.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},Xp(rl.prototype),rl.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},rl.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},rl.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},rl.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},rl.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},rl.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},rl.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},rl.prototype.open=rl.prototype.connect=function(e,t){if(this.readyState,~this.readyState.indexOf("open"))return this;this.uri,this.engine=Vp(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=Jp(n,"open",(function(){r.onopen(),e&&e()})),o=Jp(n,"error",function(){var t=f(u().mark((function t(n){var i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.uri=Qp.uri(),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",n),e?((i=new Error("Connection error")).data=n,e(i)):r.maybeReconnectOnOpen();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());if(!1!==this._timeout){var s=this._timeout,a=setTimeout((function(){i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)}),s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},rl.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(Jp(e,"data",Yp(this,"ondata"))),this.subs.push(Jp(e,"ping",Yp(this,"onping"))),this.subs.push(Jp(e,"pong",Yp(this,"onpong"))),this.subs.push(Jp(e,"error",Yp(this,"onerror"))),this.subs.push(Jp(e,"close",Yp(this,"onclose"))),this.subs.push(Jp(this.decoder,"decoded",Yp(this,"ondecoded")))},rl.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},rl.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},rl.prototype.ondata=function(e){this.decoder.add(e)},rl.prototype.ondecoded=function(e){this.emit("packet",e)},rl.prototype.onerror=function(e){this.emitAll("error",e)},rl.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new $p(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&i()}function i(){~Kp(r.connecting,n)||r.connecting.push(n)}return n},rl.prototype.destroy=function(e){var t=Kp(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},rl.prototype.packet=function(e){var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},rl.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},rl.prototype.cleanup=function(){for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},rl.prototype.close=rl.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},rl.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},rl.prototype.reconnect=function(){if(el.isBackend(),this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();this.reconnecting=!0;var n=setTimeout((function(){if(el.isBackend())return e.reconnecting=!1,e.reconnect(),void e.emitAll("reconnect_error","Uniapp running backend, skipped reconnect...");e.skipReconnect||(e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):e.onreconnect()})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},rl.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)},function(e,t){var n=Jc,r=Yc,i=nl;Bc.exports("socket.io-client");e.exports=t=u;var o=t.managers={};function u(e,t){"object"===a(e)&&(t=e,e=void 0),t=t||{};var r,u=n(e),s=u.source,c=u.id,f=u.path,p=o[c]&&f in o[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?r=i(s,t):(o[c]||(o[c]=i(s,t)),r=o[c]),u.query&&!t.query&&(t.query=u.query),r.socket(u.path,t)}t.protocol=r.protocol,t.connect=u,t.Manager=nl,t.Socket=Mp.exports}(Tc,Tc.exports),Object.defineProperty(Ic,"__esModule",{value:!0});var il=le,ol=wt,ul=Tc.exports,sl=he,al=function(){function e(){this.io=ul,this.status=il.NetworkStatus.DISCONNECTED,this.permissions=[ol.Permission.NONE],this.connectedObservers=[],this.disconnectedObservers=[]}return e.prototype.connect=function(){this.status=il.NetworkStatus.CONNECTING},e.prototype.socketio=function(){return this.io},e.prototype.on=function(e,t){this.io.on(e,t)},e.prototype.disconnect=function(){this.io.disconnect()},e.prototype.getStatus=function(){return this.status},e.prototype.addConnectedObserver=function(e){sl.default.isFunction(e)&&this.connectedObservers.push(e)},e.prototype.addDisconnectedObserver=function(e){sl.default.isFunction(e)&&this.disconnectedObservers.push(e)},e.prototype.notify=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},e}();Ic.default=al;var cl={};Object.defineProperty(cl,"__esModule",{value:!0});var fl=oe,pl=le,ll=function(e){function t(t){var n=e.call(this)||this;return n.reconnectingObservers=[],n.addReconnectingObserver(t.onReconnecting),n.addDisconnectedObserver(t.onDisconnected),n}return fl.__extends(t,e),t.prototype.connect=function(t){e.prototype.connect.call(this),this.io=this.io.connect(t.uri,t.opts),this.initListener()},t.prototype.initListener=function(){var e=this;this.io.on("connect",(function(){e.status=pl.NetworkStatus.CONNECTED,e.notify(e.connectedObservers)})),this.io.on("reconnecting",(function(t){e.status=pl.NetworkStatus.CONNECTING,e.notify(e.reconnectingObservers,t)})),this.io.on("disconnect",(function(){e.status=pl.NetworkStatus.DISCONNECTED,e.notify(e.disconnectedObservers)})),this.io.on("connect_error",(function(e){}))},t.prototype.addReconnectingObserver=function(e){this.reconnectingObservers.push(e)},t}(Ic.default);cl.default=ll;var dl={},hl={},yl={};Object.defineProperty(yl,"__esModule",{value:!0}),yl.Cookie=void 0;var vl=oe,ml=function(){function e(){}return e.get=function(e){var t,n,r=encodeURIComponent(e)+"=",i=document.cookie.split("; ");try{for(var o=vl.__values(i),u=o.next();!u.done;u=o.next()){var s=u.value;if(s.startsWith(r))return decodeURIComponent(s.substring(r.length))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null},e.set=function(e,t,n,r,i,o){void 0===i&&(i="/"),void 0===o&&(o=!1);var u=encodeURIComponent(e)+"="+encodeURIComponent(t);n instanceof Date&&(u+="; expires="+n.toGMTString()),i&&(u+="; path="+i),r&&(u+="; domain="+r),o&&(u+="; secure"),document.cookie=u},e.remove=function(t,n,r,i){void 0===r&&(r="/"),void 0===i&&(i=!1),e.set(t,"",new Date(0),n,r,i)},e}();yl.Cookie=ml,Object.defineProperty(hl,"__esModule",{value:!0}),hl.LocalStorageDispatcher=hl.BrowserStorage=hl.AbstractLocalStorage=void 0;var bl=oe,gl=yl,kl=r,Dl=C,El=function(){function e(){}return e.prototype.asyncGet=function(e){var t=this.get(e);return Promise.resolve(t)},e.prototype.asyncPut=function(e,t){return this.put(e,t),Promise.resolve()},e.prototype.get=function(e){var t=this.doGet(e);return t=JSON.parse(t)},e.prototype.put=function(e,t){this.doPut(e,JSON.stringify(t))},e}();hl.AbstractLocalStorage=El;var wl=function(e){function t(){var t=e.call(this)||this;t.domain=null;return t.domain="undefined"!=typeof location&&/^(?:[A-za-z0-9-]+\.)+[A-za-z]{2,4}(?:[\/\?#][\/=\?%\-&~`@[\]\':+!\.#\w]*)?$/.test(location.host)?location.host.split(".").slice(-2).join("."):null,t}return bl.__extends(t,e),t.prototype.doGet=function(e){return gl.Cookie.get(e)||null},t.prototype.doPut=function(e,t){var n=new Date(2030,12,31,0,0,0,0),r=this.domain;gl.Cookie.set(e,t,n,r)},t.prototype.remove=function(e){var t=this.domain;gl.Cookie.remove(e,t)},t.prototype.support=function(){return"undefined"!=typeof navigator&&!0===navigator.cookieEnabled},t}(El),xl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.doGet=function(e){return localStorage.getItem(e)||null},t.prototype.doPut=function(e,t){localStorage.setItem(e,t)},t.prototype.remove=function(e){localStorage.removeItem(e)},t.prototype.support=function(){return!("undefined"!=typeof GameGlobal||"undefined"==typeof localStorage||!localStorage.setItem)},t}(El),Sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.doGet=function(e){return uni.getStorageSync(e)||null},t.prototype.doPut=function(e,t){uni.setStorageSync(e,t)},t.prototype.remove=function(e){uni.removeStorageSync(e)},t.prototype.support=function(){return!("object"!==("undefined"==typeof uni?"undefined":a(uni))||!uni.getStorageSync)},t}(El),Cl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.doGet=function(e){return cc.sys.localStorage.getItem(e)||null},t.prototype.doPut=function(e,t){cc.sys.localStorage.setItem(e,t)},t.prototype.remove=function(e){cc.sys.localStorage.removeItem(e)},t.prototype.support=function(){return"undefined"!=typeof cc&&void 0!==cc.sys.localStorage},t}(El),_l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.doGet=function(e){return wx.getStorageSync(e)||null},t.prototype.doPut=function(e,t){wx.setStorageSync(e,t)},t.prototype.remove=function(e){wx.removeStorageSync(e)},t.prototype.support=function(){return!("object"!==("undefined"==typeof wx?"undefined":a(wx))||!wx.getStorageSync||"undefined"!=typeof tt)},t}(El),Ol=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.asyncGet=function(e){return bl.__awaiter(this,void 0,void 0,(function(){var t;return bl.__generator(this,(function(n){switch(n.label){case 0:return[4,kl.RNPlugins.asyncStorage.getItem(e)];case 1:return t=n.sent(),[2,JSON.parse(t)]}}))}))},t.prototype.asyncPut=function(e,t){return kl.RNPlugins.asyncStorage.setItem(e,JSON.stringify(t))},t.prototype.doPut=function(e,t){throw new Error("Method not implemented.")},t.prototype.remove=function(e){kl.RNPlugins.asyncStorage.removeItem(e)},t.prototype.support=function(){return Dl.FrameworkDetector.currentFramework()===Dl.Framework.REACT_NATIVE},t.prototype.doGet=function(e){throw new Error("Method not implemented.")},t}(El),Nl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.doGet=function(e){var t=my.getStorageSync({key:e}).data||null;return"string"==typeof JSON.parse(t)?JSON.parse(t):t},t.prototype.doPut=function(e,t){my.setStorageSync({key:e,data:JSON.stringify(t)})},t.prototype.remove=function(e){my.removeStorageSync({key:e})},t.prototype.support=function(){return!("undefined"==typeof my||!my.getStorageSync)},t}(El);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}bl.__extends(t,e),t.prototype.doGet=function(e){return qq.getStorageSync(e)||null},t.prototype.doPut=function(e,t){qq.setStorageSync(e,t)},t.prototype.remove=function(e){qq.removeStorageSync(e)},t.prototype.support=function(){return!("undefined"==typeof qq||!qq.getStorageSync)}}(El);var Al=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.doGet=function(e){return tt.getStorageSync(e)||null},t.prototype.doPut=function(e,t){tt.setStorageSync(e,t)},t.prototype.remove=function(e){tt.removeStorageSync(e)},t.prototype.support=function(){return!("object"!==("undefined"==typeof tt?"undefined":a(tt))||!tt.getStorageSync)},t}(El),Pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl.__extends(t,e),t.prototype.doGet=function(e){return swan.getStorageSync(e)||null},t.prototype.doPut=function(e,t){swan.setStorageSync(e,t)},t.prototype.remove=function(e){swan.removeStorageSync(e)},t.prototype.support=function(){return!("undefined"==typeof swan||!swan.getStorageSync)},t}(El),Fl=function(e){function t(){var n=e.call(this)||this;return n.api=t.dispatch(),n.api,n}return bl.__extends(t,e),t.dispatch=function(){var e=new xl,t=new wl;return e.support()?e:t},t.prototype.doGet=function(e){return this.api.doGet(e)},t.prototype.doPut=function(e,t){this.api.put(e,t)},t.prototype.remove=function(e){this.api.remove(e)},t.prototype.support=function(){return"undefined"!=typeof localStorage},t}(El);hl.BrowserStorage=Fl;var Il=function(){function e(){this.supportedStorage=null;var t=e.storages;t.push(new Sl),t.push(new Cl),t.push(new xl),t.push(new _l),t.push(new Ol),t.push(new Nl),t.push(new Pl),t.push(new Al),t.push(new wl),this.dispatch(),this.supportedStorage}return e.localStorage=function(){return this.instance.supportedStorage},e.prototype.dispatch=function(){var t,n;try{for(var r=bl.__values(e.storages),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.support()){this.supportedStorage=o;break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.storages=new Array,e.instance=new e,e}();hl.LocalStorageDispatcher=Il,Object.defineProperty(dl,"__esModule",{value:!0}),dl.ServerMarkRepository=void 0;var Tl=oe,Ml=hl,Rl=function(){function e(){}return e.get=function(){return Tl.__awaiter(this,void 0,void 0,(function(){var t,n;return Tl.__generator(this,(function(r){switch(r.label){case 0:return null===(t=Ml.LocalStorageDispatcher.localStorage())?[3,2]:[4,t.asyncGet(e.SM_KEY)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}}))}))},e.put=function(t){return Tl.__awaiter(this,void 0,void 0,(function(){var n,r;return Tl.__generator(this,(function(i){return n=Ml.LocalStorageDispatcher.localStorage(),r=t.sm,null!==n&&r&&n.asyncPut(e.SM_KEY,r),[2]}))}))},e.SM_KEY="GE-SM",e}();dl.ServerMarkRepository=Rl;var jl={},Bl={};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.ZE=void 0;var ql=function(){function e(){}return e.e=function(e,t){var n=32,r=126;function i(e){return function(e){return e>=n&&e<=r}(e)?String.fromCharCode(function(e){var i=e+t;return i>r?n+(i-r):i}(e)):String.fromCharCode(e)}for(var o="",u=0;u<e.length;u++){o+=i(e.charCodeAt(u))}return o},e}();Bl.ZE=ql;var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.nodeOS=function(){try{return require("os")}catch(e){}},Object.defineProperty(jl,"__esModule",{value:!0}),jl.Z=void 0;var Ul=oe,Ll=me,zl=C,Wl=Bl,Vl=r,$l=Gl,Xl=function(){function e(){}return e.initRNUniqueId=function(){if(zl.FrameworkDetector.currentFramework()===zl.Framework.REACT_NATIVE){var e=Vl.RNPlugins.platform,t=e.constants,n={os:e.OS};return"android"===n.os?n.f=t.Fingerprint:n.v=e.Version,JSON.stringify(n)}return null},e.initPlusDeviceId=function(){return new Promise((function(e,t){"undefined"!=typeof plus?plus.device.getInfo({success:function(t){e(t.uuid)},fail:function(e){t(e)}}):e(null)}))},e.getVideoCard=function(){var e;if(Ll.PlatformDetector.currentPlatform()===Ll.PlatformType.BROWSER&&"undefined"!=typeof document){var t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=0,i=0;if(navigator.userAgent.indexOf("Firefox")>-1)i=n.VENDOR,r=n.RENDERER;else{var o=n.getExtension("WEBGL_debug_renderer_info");if(!o)return null;i=o.UNMASKED_VENDOR_WEBGL,r=o.UNMASKED_RENDERER_WEBGL}var u={vendor:(n.getParameter(i)||"").toString(),renderer:(n.getParameter(r)||"").toString()};return JSON.stringify(u)}}return null},e.z=function(){return Ul.__awaiter(this,void 0,void 0,(function(){var e;return Ul.__generator(this,(function(t){return function(e){if(Ll.PlatformDetector.currentPlatform()===Ll.PlatformType.NODE){var t=(0,$l.nodeOS)().networkInterfaces();for(var n in t){var r=t[n].find((function(e){return"undefined"!==e.mac&&"00:00:00:00:00:00"!==e.mac}));r&&(e.mc=r.mac)}}}(e={p:Ll.PlatformDetector.currentPlatform(),f:zl.FrameworkDetector.currentFramework(),vc:this.getVideoCard(),rfp:this.initRNUniqueId()}),[2,Wl.ZE.e(JSON.stringify(e),5)]}))}))},e}();jl.Z=Xl;var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.Emitter=void 0;var Jl=le,Yl=function(){function e(e){this.rocketsBuffer=new Set,this.socket=e,this.socket.addConnectedObserver(this.onSocketConnected.bind(this))}return e.prototype.emit=function(e){this.socket.status!==Jl.NetworkStatus.DISCONNECTED?(e.start(),this.doEmit(e)):e.fail({resultCode:"409",content:"Please connect first"})},e.prototype.doEmit=function(e){var t=this;if(!e.complete)if(this.socket.status!==Jl.NetworkStatus.CONNECT_FAILED)if(this.isConnected())if(this.hasPermission(e)){var n=setTimeout((function(){t.doEmit(e)}),e.singleTimeout);e.unique&&(e.params.retried=e.retried),this.socket.socketio().emit(e.name,e.params,(function(t){clearTimeout(n),200===t.resultCode||200==t.code?e.success(t):e.fail(t)})),e.retried++}else e.fail({resultCode:401,content:"No permission"});else this.isConnecting()&&this.rocketsBuffer.add(e);else e.fail({resultCode:408,content:"Failed to connect GoEasy."})},e.prototype.hasPermission=function(e){return!!this.socket.permissions.find((function(t){return t===e.permission}))},e.prototype.isConnected=function(){return[Jl.NetworkStatus.CONNECTED,Jl.NetworkStatus.RECONNECTED,Jl.NetworkStatus.EXPIRED_RECONNECTED,Jl.NetworkStatus.DISCONNECTING].includes(this.socket.status)},e.prototype.isConnecting=function(){return[Jl.NetworkStatus.CONNECTING,Jl.NetworkStatus.RECONNECTING].includes(this.socket.status)},e.prototype.onSocketConnected=function(){this.emitBuffer()},e.prototype.emitBuffer=function(){var e=this;Array.from(this.rocketsBuffer).forEach((function(t){e.rocketsBuffer.delete(t),e.doEmit(t)}))},e}();Hl.Emitter=Yl;var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.SEC=void 0;var Zl=oe,Ql=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zl.__extends(t,e),t.init=function(){t.i=new t},t.fire=function(e,t){this.i.fire(e,t)},t.on=function(e,t){this.i.on(e,t)},t.off=function(e,t){this.i.off(e,t)},t}(wt.AbstractEventCenter);Kl.SEC=Ql,Object.defineProperty(Fc,"__esModule",{value:!0});var ed=oe,td=cl,nd=le,rd=he,id=Te,od=Mt,ud=Fe,sd=$a,ad=dl,cd=jl,fd=Hl,pd=Lp,ld=me,dd=Gl,hd=wt,yd=Kl,vd=function(e){function t(t,n){var r=e.call(this)||this;return r.ioSocket=null,r.sid=null,r.anonymous=!1,r.userId=null,r.artifactVersion=od.version,r.vname=null,r.uri=null,r.ioOpts=null,r.reconnectingTimes=0,r.messageObservers=new Map,r.connectFailedObservers=[],r.connectingObservers=[],r.expiredReconnectedObservers=[],r.options=t,r.ioSocket=new td.default({onDisconnected:r.onIoDisconnected.bind(r),onReconnecting:r.onIoReconnecting.bind(r)}),r.ioSocketEmitter=new fd.Emitter(r.ioSocket),r.ioSocket.addConnectedObserver(r.onIoReconnected.bind(r)),r.initOptions(n),r.connect(),r}return ed.__extends(t,e),t.prototype.initUserId=function(){var e=this.connectOptions.id;rd.default.isEmpty(e)?this.anonymous=!0:this.userId=e.toString()},t.prototype.socketio=function(){return this.ioSocket.socketio()},t.prototype.extendOptions=function(){var e=this.connectOptions;if(rd.default.isNull(e.data)||rd.default.isDef(e.data)&&!rd.default.isObject(e.data))throw{code:400,content:"TypeError: data requires an object."};if((rd.default.isDef(e.data)?String(e.data).length:0)>300&&rd.default.isObject(e)&&rd.default.isFunction(e.onFailed))throw{code:400,content:"user.data-length limit 300 byte."};if(rd.default.isObject(e.wxmpId)){if(rd.default.isEmpty(e.wxmpId.appid))throw{code:400,content:"wxmpId.appid is required."};if(rd.default.isEmpty(e.wxmpId.openid))throw{code:400,content:"wxmpId.openid is required. requires string."}}else if(rd.default.isPrimitive(e.wxmpId))throw{code:400,content:"TypeError: wxmpId requires an object."}},t.prototype.initUriAndOpts=function(){var e=this.options;pd.URIResolver.init(e.host,e.forceTLS,e.supportOldBrowser),this.uri=pd.URIResolver.uri();var t=["websocket"];!0===e.supportOldBrowser&&t.push("polling"),this.ioOpts={transports:t,timeout:id.SocketTimeout.connect,reconnectionDelayMax:id.SocketTimeout.reconnectionDelayMax},function(e){if(ld.PlatformDetector.currentPlatform()===ld.PlatformType.NODE){var t=(0,dd.nodeOS)(),n="Nodejs/".concat(process.version," (").concat(t.platform()," ").concat(t.release()," ").concat(t.arch(),")");e.extraHeaders={"User-Agent":n}}}(this.ioOpts)},t.prototype.onIoReconnected=function(){this.status===nd.NetworkStatus.RECONNECTING&&this.authorize()},t.prototype.sendAck=function(e,t){this.ioSocket.io.emit(e,t)},t.prototype.initOptions=function(e){this.connectOptions=e,this.addConnectedObserver(e.onSuccess),this.addConnectFailedObserver(e.onFailed),this.addConnectingObserver(e.onProgress),this.initUserId()},t.prototype.connect=function(){this.initUriAndOpts(),this.extendOptions(),e.prototype.connect.call(this),this.onConnecting(),this.ioSocket.connect({uri:this.uri,opts:this.ioOpts}),this.authorize()},t.prototype.disconnect=function(){var e=this;return new Promise((function(t,n){e.status=nd.NetworkStatus.DISCONNECTING;var r=function(){e.ioSocket.disconnect(),e.status=nd.NetworkStatus.DISCONNECTED,yd.SEC.fire(sd.SocketEvent.DISCONNECTED),t()},i=hd.GModules.modules.get("GN");if(i&&(i.params.regId||e.connectOptions.wxmpId)){var o=new hd.Rocket({name:ud.RocketTypes.manualDisconnect,params:{},permission:hd.Permission.READ,singleTimeout:id.SocketTimeout.commonRequestSingle,totalTimeout:id.SocketTimeout.commonRequestTotal,fail:function(e){n(e)},success:r});hd.G.Socket.e(o)}else r()}))},t.prototype.authorize=function(){return ed.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i=this;return ed.__generator(this,(function(o){switch(o.label){case 0:return e=this.connectOptions,r={appkey:this.options.appkey,userId:this.userId,userData:JSON.stringify(e.data),otp:e.otp,artifactVersion:this.artifactVersion,sid:this.sid},[4,hd.GModules.getParams()];case 1:return r.mP=o.sent(),r.a=this.anonymous,[4,cd.Z.z()];case 2:return r.z=o.sent(),[4,ad.ServerMarkRepository.get()];case 3:return r.sm=o.sent(),r.c={n:this.vname,v:this.artifactVersion},t=r,JSON.stringify(t),n=new hd.Rocket({name:ud.RocketTypes.authorize,params:t,permission:hd.Permission.NONE,singleTimeout:id.SocketTimeout.commonInfiniteSingle,totalTimeout:id.SocketTimeout.commonInfiniteTotal,success:function(e){i.onAuthorizeSuccess(e)},fail:function(e){i.onAuthorizeFailed(e)}}),this.ioSocketEmitter.emit(n),[2]}}))}))},t.prototype.onConnecting=function(){yd.SEC.fire(sd.SocketEvent.CONNECTING,this.reconnectingTimes),this.notify(this.connectingObservers,this.reconnectingTimes)},t.prototype.onIoReconnecting=function(){this.reconnectingTimes++,this.status==nd.NetworkStatus.CONNECTED||this.status==nd.NetworkStatus.EXPIRED_RECONNECTED||this.status==nd.NetworkStatus.RECONNECTING?this.status=nd.NetworkStatus.RECONNECTING:this.status=nd.NetworkStatus.CONNECTING,this.onConnecting()},t.prototype.onIoDisconnected=function(){this.status!==nd.NetworkStatus.DISCONNECTING&&(this.status=nd.NetworkStatus.RECONNECTING,yd.SEC.fire(sd.SocketEvent.LOST),this.notify(this.disconnectedObservers))},t.prototype.onAuthorizeSuccess=function(e){(ad.ServerMarkRepository.put(e),hd.GModules.setDatas(e.mD),this.status===nd.NetworkStatus.RECONNECTING)?this.sid!==e.sid?(this.status=nd.NetworkStatus.EXPIRED_RECONNECTED,this.sid=e.sid,yd.SEC.fire(sd.SocketEvent.EXPIRED_RECONNECTED),this.notify(this.expiredReconnectedObservers)):(this.status=nd.NetworkStatus.RECONNECTED,yd.SEC.fire(sd.SocketEvent.RECONNECTED)):(this.status=nd.NetworkStatus.CONNECTED,this.sid=e.sid);e.enablePublish&&(this.permissions.find((function(e){return e==hd.Permission.WRITE}))||this.permissions.push(hd.Permission.WRITE)),e.enableSubscribe&&(this.permissions.find((function(e){return e==hd.Permission.READ}))||this.permissions.push(hd.Permission.READ)),this.reconnectingTimes=0,yd.SEC.fire(sd.SocketEvent.CONNECTED),this.notify(this.connectedObservers)},t.prototype.onAuthorizeFailed=function(e){this.ioSocket.disconnect(),this.status=nd.NetworkStatus.CONNECT_FAILED;var t={code:e.resultCode||408,content:e.content||"Host unreachable or timeout"};this.notify(this.connectFailedObservers,t)},t.prototype.addConnectingObserver=function(e){rd.default.isFunction(e)&&this.connectingObservers.push(e)},t.prototype.addConnectFailedObserver=function(e){rd.default.isFunction(e)&&this.connectFailedObservers.push(e)},t.prototype.addExpiredReconnectedObserver=function(e){rd.default.isFunction(e)&&this.expiredReconnectedObservers.push(e)},t.prototype.onMessage=function(e,t){this.ioSocket.io._callbacks.hasOwnProperty("$"+e)||this.ioSocket.io.on(e,t)},t.prototype.user=function(){var e=this.connectOptions;return e?{id:e.id,data:e.data}:null},t}(Ic.default);Fc.default=vd;var md={};Object.defineProperty(md,"__esModule",{value:!0}),md.MessageListener=void 0;var bd=Kl,gd=$a,kd=function(){function e(e){this.guidList=[],this.socket=e}return e.prototype.offMessage=function(e,t){bd.SEC.off(gd.SocketEvent.NEW_MESSAGE+"_"+e,t)},e.prototype.onMessage=function(e,t){var n=this;bd.SEC.on(gd.SocketEvent.NEW_MESSAGE+"_"+e,t),this.socket.onMessage(e,(function(t){n.fire(e,t)}))},e.prototype.fire=function(e,t){var n=this.filter(t);n&&bd.SEC.fire(gd.SocketEvent.NEW_MESSAGE+"_"+e,n)},e.prototype.filter=function(e){if("string"==typeof e&&(e=JSON.parse(e)),e.i){var t="".concat(e.i,"_").concat(e.r);if(this.guidList.findIndex((function(e){return e===t}))>-1)return;this.guidList.unshift(t),this.guidList.length>300&&this.guidList.pop()}return e},e}();md.MessageListener=kd,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.GSocket=void 0;var Dd=Fc,Ed=Hl,wd=le,xd=he,Sd=Kl,Cd=$a,_d=md,Od=wt,Nd=Me,Ad=Ht,Pd=function(){function e(e){this.goeasyOptions=e}return e.init=function(t){this.i=new e(t)},e.connect=function(e,t){if(this.status()!==wd.NetworkStatus.DISCONNECTED&&xd.default.isObject(e)&&xd.default.isFunction(e.onFailed))e.onFailed({code:408,content:"It is already connected, don't try again until disconnect() is called. "});else{(0,Ad.validateConnectOptions)(e),Sd.SEC.init();var n=this.i;Od.GModules.preConnect(e),n.socket=new Dd.default(n.goeasyOptions,e),n.socket.vname=t,n.emitter=new Ed.Emitter(n.socket),n.messageListener=new _d.MessageListener(n.socket),Od.GModules.postConnect()}},e.e=function(e){this.i.emitter.emit(e)},e.sendAck=function(e,t){this.i.socket.sendAck(e,t)},e.status=function(){return this.i&&this.i.socket?this.i.socket.getStatus():wd.NetworkStatus.DISCONNECTED},e.on=function(e,t){Sd.SEC.on(e,t)},e.off=function(e,t){Sd.SEC.off(e,t)},e.offMessage=function(e,t){this.i.messageListener.offMessage(e,t)},e.onMessage=function(e,t){"remoteEvent:".concat(e),this.i.messageListener.onMessage(e,t)},e.disconnect=function(e){this.status()===wd.NetworkStatus.CONNECTED||this.status()===wd.NetworkStatus.RECONNECTED?this.i.socket.disconnect().then((function(){Nd.CallbackUtils.onSuccess(e)})).catch((function(t){Nd.CallbackUtils.onFailed(e,t)})):Nd.CallbackUtils.onFailed(e,{code:408,content:"Host unreachable or timeout"})},e.user=function(){return this.i.socket.user()},e.EVENT=Cd.SocketEvent,e}();Pc.GSocket=Pd;var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.GWS=void 0;var Id=Vt,Td=Me,Md=Wt,Rd=le,jd=wt,Bd=function(){function e(){}return e.publish=function(e){this.catch((function(){Id.PubSub.instance.publish(e)}),e)},e.subscribe=function(e){this.catch((function(){Id.PubSub.instance.subscribe(e)}),e)},e.unsubscribe=function(e){this.catch((function(){Id.PubSub.instance.unsubscribe(e)}),e)},e.subscribePresence=function(e){this.catch((function(){Id.PubSub.instance.subscribePresence(e)}),e)},e.unsubscribePresence=function(e){this.catch((function(){Id.PubSub.instance.unsubscribePresence(e)}),e)},e.history=function(e){this.catch((function(){Id.PubSub.instance.history(e)}),e)},e.hereNow=function(e){this.catch((function(){Id.PubSub.instance.hereNow(e)}),e)},e.catch=function(e,t){try{if(Md.GWSModule.check(),[Rd.NetworkStatus.DISCONNECTED,Rd.NetworkStatus.DISCONNECTING,Rd.NetworkStatus.CONNECT_FAILED].includes(jd.G.Socket.status()))throw new Error("Please call connect() first.");e()}catch(e){Td.CallbackUtils.onFailed(t,e)}},e}();Fd.GWS=Bd;var qd={},Gd={};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.MemberDataCache=void 0;var Ud=function(){function e(){this.map=new Map}return e.prototype.getData=function(e){return this.map.get(e)},e.prototype.setData=function(e,t){this.map.set(e,t)},e}();Gd.MemberDataCache=Ud,Object.defineProperty(qd,"__esModule",{value:!0}),qd.GMember=void 0;var Ld=oe,zd=Gd,Wd=wt,Vd=Fe,$d=Te,Xd=function(){function e(){this.dataCache=new zd.MemberDataCache}return e.init=function(){this.i=new e},e.prototype.getData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ld.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return Ld.__generator(this,(function(i){switch(i.label){case 0:return t=[],n=new Map,e.forEach((function(e){var i=r.dataCache.getData(e);i?n.set(e,i):t.push(e)})),0===t.length?[2,Promise.resolve(n)]:[4,this.fetchData.apply(this,Ld.__spreadArray([],Ld.__read(t),!1))];case 1:return i.sent().forEach((function(e,t){r.dataCache.setData(t,e),n.set(t,e)})),[2,Promise.resolve(n)]}}))}))},e.prototype.fetchData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Promise((function(t,n){var r=new Wd.Rocket({name:Vd.RocketTypes.MD_CMD,permission:Wd.Permission.READ,singleTimeout:$d.SocketTimeout.commonRequestSingle,totalTimeout:$d.SocketTimeout.commonRequestTotal,params:{name:"GET",data:{ids:e}},success:function(e){if(200===e.code){var r=new Map;e.content.forEach((function(e){r.set(e.id,e.data)})),t(r)}else n(e)},fail:function(e){n(e)}});Wd.G.Socket.e(r)}))},e.prototype.setData=function(e,t){this.dataCache.setData(e,t)},e}();qd.GMember=Xd,Object.defineProperty(n,"__esModule",{value:!0});var Hd=r,Jd=le,Yd=de,Kd=Mt,Zd=wt,Qd=Wt,eh=Pc,th=Fd,nh=qd,rh=me,ih=Ht,oh=function(){function e(){}return e.getInstance=function(t){return this.init(t),e},e.init=function(e){if(this.getConnectionStatus()!==Jd.NetworkStatus.DISCONNECTED)throw new Error("Initialization failed. Please disconnect and try again.");(0,ih.validateGoEasyOptions)(e),e.modules=e.modules.map((function(e){return e.toUpperCase()})),Hd.RNPlugins.init(e.reactNativeOptions),this.options=e,eh.GSocket.init(e),e.allowNotification&&Yd.GN.init(e.allowNotification),e.modules&&e.modules.includes("PUBSUB")&&Zd.GModules.initModule(Qd.GWSModule.init()),Zd.G.init(eh.GSocket,Yd.GN,nh.GMember,Kd.version,rh.Platform,Zd.GModules)},e.setBadge=function(e){Yd.GN.setBadge(e)},e.connect=function(e){eh.GSocket.connect(e,"JS-L")},e.disconnect=function(e){eh.GSocket.disconnect(e)},e.getConnectionStatus=function(){return eh.GSocket.status()},e.onClickNotification=function(e){Yd.GN.onClickNotification(e)},e.version=Kd.version,e.pubsub=th.GWS,e}();return n.default=oh}));
